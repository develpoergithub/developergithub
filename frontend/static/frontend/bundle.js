var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(r)}function a(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,t,n){const r=t.subscribe(n);e.$$.on_destroy.push(r.unsubscribe?()=>r.unsubscribe():r)}function u(e,t,n){if(e){const r=l(e,t,n);return e[0](r)}}function l(e,t,r){return e[1]?n({},n(t.$$scope.ctx,e[1](r?r(t):{}))):t.$$scope.ctx}function d(e,t,r,o){return e[1]?n({},n(t.$$scope.changed||{},e[1](o?o(r):{}))):t.$$scope.changed||{}}let f="undefined"!=typeof window?()=>window.performance.now():()=>Date.now(),h=e=>requestAnimationFrame(e);const p=new Set;let v,m=!1;function y(){p.forEach(e=>{e[0](f())||(p.delete(e),e[1]())}),(m=p.size>0)&&h(y)}function g(e){let t;return m||(m=!0,h(y)),{promise:new Promise(n=>{p.add(t=[e,n])}),abort(){p.delete(t)}}}function b(e,t){e.appendChild(t)}function w(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode.removeChild(e)}function S(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function _(e){return document.createElement(e)}function k(e){return document.createTextNode(e)}function O(){return k(" ")}function I(){return k("")}function N(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function T(e){return function(t){return t.preventDefault(),e.call(this,t)}}function D(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function C(e,t){t=""+t,e.data!==t&&(e.data=t)}function x(e,t,n){e.style.setProperty(t,n)}function M(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function $(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function R(e,t,n){e.classList[n?"add":"remove"](t)}function A(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}let L,P=0,q={};function Q(e,t,n,r,o,i,a,s=0){const c=16.666/r;let u="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*i(e);u+=100*e+`%{${a(r,1-r)}}\n`}const l=u+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(l)}_${s}`;if(!q[d]){if(!v){const e=_("style");document.head.appendChild(e),v=e.sheet}q[d]=!0,v.insertRule(`@keyframes ${d} ${l}`,v.cssRules.length)}const f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${d} ${r}ms linear ${o}ms 1 both`,P+=1,d}function F(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--P&&h(()=>{if(P)return;let e=v.cssRules.length;for(;e--;)v.deleteRule(e);q={}})}function j(e){L=e}function V(){if(!L)throw new Error("Function called outside component initialization");return L}function B(e){V().$$.on_mount.push(e)}function U(){const e=L;return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=A(t,n);r.slice().forEach(t=>{t.call(e,o)})}}}const G=[],Y=[],H=[],J=[],z=Promise.resolve();let W,K=!1;function X(){K||(K=!0,z.then(te))}function Z(e){H.push(e)}function ee(e){J.push(e)}function te(){const e=new Set;do{for(;G.length;){const e=G.shift();j(e),ne(e.$$)}for(;Y.length;)Y.pop()();for(let t=0;t<H.length;t+=1){const n=H[t];e.has(n)||(n(),e.add(n))}H.length=0}while(G.length);for(;J.length;)J.pop()();K=!1}function ne(e){e.fragment&&(e.update(e.dirty),i(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(Z))}function re(){return W||(W=Promise.resolve()).then(()=>{W=null}),W}function oe(e,t,n){e.dispatchEvent(A(`${t?"intro":"outro"}${n}`))}const ie=new Set;let ae;function se(){ae={r:0,c:[],p:ae}}function ce(){ae.r||i(ae.c),ae=ae.p}function ue(e,t){e&&e.i&&(ie.delete(e),e.i(t))}function le(e,t,n,r){if(e&&e.o){if(ie.has(e))return;ie.add(e),ae.c.push(()=>{ie.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function de(n,r,o){let i,s,c=r(n,o),u=!1,l=0;function d(){i&&F(n,i)}function h(){const{delay:r=0,duration:o=300,easing:a=t,tick:h=e,css:p}=c;p&&(i=Q(n,0,1,o,r,a,p,l++)),h(0,1);const v=f()+r,m=v+o;s&&s.abort(),u=!0,Z(()=>oe(n,!0,"start")),s=g(e=>{if(u){if(e>=m)return h(1,0),oe(n,!0,"end"),d(),u=!1;if(e>=v){const t=a((e-v)/o);h(t,1-t)}}return u})}let p=!1;return{start(){p||(F(n),a(c)?(c=c(),re().then(h)):h())},invalidate(){p=!1},end(){u&&(d(),u=!1)}}}function fe(n,r,o){let s,c=r(n,o),u=!0;const l=ae;function d(){const{delay:r=0,duration:o=300,easing:a=t,tick:d=e,css:h}=c;h&&(s=Q(n,1,0,o,r,a,h));const p=f()+r,v=p+o;Z(()=>oe(n,!1,"start")),g(e=>{if(u){if(e>=v)return d(0,1),oe(n,!1,"end"),--l.r||i(l.c),!1;if(e>=p){const t=a((e-p)/o);d(1-t,t)}}return u})}return l.r+=1,a(c)?re().then(()=>{c=c(),d()}):d(),{end(e){e&&c.tick&&c.tick(1,0),u&&(s&&F(n,s),u=!1)}}}const he="undefined"!=typeof window?window:global;function pe(e,t){e.d(1),t.delete(e.key)}function ve(e,t){le(e,1,1,()=>{t.delete(e.key)})}function me(e,t,n,r,o,i,a,s,c,u,l,d){let f=e.length,h=i.length,p=f;const v={};for(;p--;)v[e[p].key]=p;const m=[],y=new Map,g=new Map;for(p=h;p--;){const e=d(o,i,p),s=n(e);let c=a.get(s);c?r&&c.p(t,e):(c=u(s,e)).c(),y.set(s,m[p]=c),s in v&&g.set(s,Math.abs(p-v[s]))}const b=new Set,w=new Set;function E(e){ue(e,1),e.m(s,l),a.set(e.key,e),l=e.first,h--}for(;f&&h;){const t=m[h-1],n=e[f-1],r=t.key,o=n.key;t===n?(l=t.first,f--,h--):y.has(o)?!a.has(r)||b.has(r)?E(t):w.has(o)?f--:g.get(r)>g.get(o)?(w.add(r),E(t)):(b.add(o),f--):(c(n,a),f--)}for(;f--;){const t=e[f];y.has(t.key)||c(t,a)}for(;h;)E(m[h-1]);return m}function ye(e,t,n){-1!==e.$$.props.indexOf(t)&&(e.$$.bound[t]=n,n(e.$$.ctx[t]))}function ge(e,t,n){const{fragment:o,on_mount:s,on_destroy:c,after_update:u}=e.$$;o.m(t,n),Z(()=>{const t=s.map(r).filter(a);c?c.push(...t):i(t),e.$$.on_mount=[]}),u.forEach(Z)}function be(e,t){e.$$.fragment&&(i(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function we(t,n,r,a,s,c){const u=L;j(t);const l=n.props||{},d=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:s,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:null};let f=!1;var h;d.ctx=r?r(t,l,(e,n)=>{d.ctx&&s(d.ctx[e],d.ctx[e]=n)&&(d.bound[e]&&d.bound[e](n),f&&function(e,t){e.$$.dirty||(G.push(e),X(),e.$$.dirty=o()),e.$$.dirty[t]=!0}(t,e))}):l,d.update(),f=!0,i(d.before_update),d.fragment=a(d.ctx),n.target&&(n.hydrate?d.fragment.l((h=n.target,Array.from(h.childNodes))):d.fragment.c(),n.intro&&ue(t.$$.fragment),ge(t,n.target,n.anchor),te()),j(u)}class Ee{$destroy(){be(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function Se(e,t){return{subscribe:_e(e,t).subscribe}}function _e(t,n=e){let r;const o=[];function i(e){if(s(t,e)){if(t=e,!r)return;o.forEach(e=>e[1]()),o.forEach(e=>e[0](t))}}return{set:i,update:function(e){i(e(t))},subscribe:function(a,s=e){const c=[a,s];return o.push(c),1===o.length&&(r=n(i)||e),a(t),()=>{const e=o.indexOf(c);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}function ke(t,n,r){const o=!Array.isArray(t),s=o?[t]:t,c=n.length<2,u=[],l=Se(r,t=>{let r=!1;const l=[];let d=0,f=e;const h=()=>{if(d)return;f();const r=n(o?l[0]:l,t);c?t(r):f=a(r)?r:e},p=s.map((e,t)=>e.subscribe(e=>{l[t]=e,d&=~(1<<t),r&&h()},()=>{i(u),d|=1<<t}));return r=!0,h(),function(){i(p),f()}});return{subscribe(t,n=e){u.push(n);const r=l.subscribe(t,n);return()=>{const e=u.indexOf(n);-1!==e&&u.splice(e,1),r()}}}}function Oe(e){var t,n,r=e.component;function o(e){return{props:{params:e.componentParams}}}if(r)var i=new r(o(e));return{c(){i&&i.$$.fragment.c(),t=I()},m(e,r){i&&ge(i,e,r),w(e,t,r),n=!0},p(e,n){var a={};if(e.componentParams&&(a.params=n.componentParams),r!==(r=n.component)){if(i){se();const e=i;le(e.$$.fragment,1,0,()=>{be(e,1)}),ce()}r?((i=new r(o(n))).$$.fragment.c(),ue(i.$$.fragment,1),ge(i,t.parentNode,t)):i=null}else r&&i.$set(a)},i(e){n||(i&&ue(i.$$.fragment,e),n=!0)},o(e){i&&le(i.$$.fragment,e),n=!1},d(e){e&&E(t),i&&be(i,e)}}}function Ie(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Ne=Se(Ie(),function(e){const t=()=>{e(Ie())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}),Te=ke(Ne,e=>e.location);ke(Ne,e=>e.querystring);function De(e){if(!e||e.length<1||"/"!=e.charAt(0))throw Error("Invalid parameter location");setTimeout(()=>{window.location.hash="#"+e},0)}function Ce(e,t,n){let r;c(e,Ne,e=>{n("$loc",r=e)});let{routes:o={}}=t;class i{constructor(e,t){if(!e||e.length<1||"/"!=e.charAt(0)&&"*"!=e.charAt(0))throw Error('Invalid value for "path" argument');const{pattern:n,keys:r}=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,i,a=[],s="",c=e.split("/");for(c[0]||c.shift();o=c.shift();)"*"===(n=o[0])?(a.push("wild"),s+="/(.*)"):":"===n?(r=o.indexOf("?",1),i=o.indexOf(".",1),a.push(o.substring(1,~r?r:~i?i:o.length)),s+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(s+=(~r?"?":"")+"\\"+o.substring(i))):s+="/"+o;return{keys:a,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}(e);this.path=e,this.component=t,this._pattern=n,this._keys=r}match(e){const t=this._pattern.exec(e);if(null===t)return null;const n={};let r=0;for(;r<this._keys.length;)n[this._keys[r]]=t[++r]||null;return n}}const a=Object.keys(o).map(e=>new i(e,o[e]));let s=null,u={};return e.$set=(e=>{"routes"in e&&n("routes",o=e.routes)}),e.$$.update=((e={component:1,$loc:1})=>{if(e.component||e.$loc){n("component",s=null);let e=0;for(;!s&&e<a.length;){const t=a[e].match(r.location);t&&(n("component",s=a[e].component),n("componentParams",u=t)),e++}}}),{routes:o,component:s,componentParams:u}}class xe extends Ee{constructor(e){super(),we(this,e,Ce,Oe,s,["routes"])}}function Me(e){const t=e-1;return t*t*t+1}function $e(e,{delay:t=0,duration:n=400}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,css:e=>`opacity: ${e*r}`}}function Re(e,{delay:t=0,duration:n=400,easing:r=Me,x:o=0,y:i=0,opacity:a=0}){const s=getComputedStyle(e),c=+s.opacity,u="none"===s.transform?"":s.transform,l=c*(1-a);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${u} translate(${(1-e)*o}px, ${(1-e)*i}px);\n\t\t\topacity: ${c-l*t}`}}const Ae=_e(!1),Le=_e(!1),Pe=_e(Number),qe=_e(""),Qe=_e({}),Fe=_e([]),je=_e([]),Ve=_e([]),Be=_e([]),Ue=_e(!1);function Ge(t){return{c:e,m:e,p:e,i:e,o:e,d:e}}function Ye(e,t,n){let r,o;return c(e,Ae,e=>{n("$isLoggedIn",r=e)}),c(e,Te,e=>{n("$location",o=e)}),!1===r?"/"!==o&&"/dashboard/"!==o||De("/login"):De("/dashboard/shifts"),{}}class He extends Ee{constructor(e){super(),we(this,e,Ye,Ge,s,[])}}function Je(t){var n,r,o,i,a=new He({});return{c(){a.$$.fragment.c(),n=O(),(r=_("div")).innerHTML='<h1 class="svelte-ysidjt">Home Page</h1>'},m(e,t){ge(a,e,t),w(e,n,t),w(e,r,t),i=!0},p:e,i(e){i||(ue(a.$$.fragment,e),o||Z(()=>{(o=de(r,$e,{duration:500})).start()}),i=!0)},o(e){le(a.$$.fragment,e),i=!1},d(e){be(a,e),e&&(E(n),E(r))}}}var ze="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ke=10,Xe=2;function Ze(e){return et(e,[])}function et(e,t){switch(We(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(ze)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==r){var o=r.call(e);if(o!==e)return"string"==typeof o?o:et(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>Xe)return"[Array]";for(var n=Math.min(Ke,e.length),r=e.length-n,o=[],i=0;i<n;++i)o.push(et(e[i],t));1===r?o.push("... 1 more item"):r>1&&o.push("... ".concat(r," more items"));return"["+o.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>Xe)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n)return n}return t}(e)+"]";return"{ "+n.map(function(n){var r=et(e[n],t);return n+": "+r}).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}var tt={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},nt=Object.freeze({});function rt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tt,r=void 0,o=Array.isArray(e),i=[e],a=-1,s=[],c=void 0,u=void 0,l=void 0,d=[],f=[],h=e;do{var p=++a===i.length,v=p&&0!==s.length;if(p){if(u=0===f.length?void 0:d[d.length-1],c=l,l=f.pop(),v){if(o)c=c.slice();else{for(var m={},y=0,g=Object.keys(c);y<g.length;y++){var b=g[y];m[b]=c[b]}c=m}for(var w=0,E=0;E<s.length;E++){var S=s[E][0],_=s[E][1];o&&(S-=w),o&&null===_?(c.splice(S,1),w++):c[S]=_}}a=r.index,i=r.keys,s=r.edits,o=r.inArray,r=r.prev}else{if(u=l?o?a:i[a]:void 0,null==(c=l?l[u]:h))continue;l&&d.push(u)}var k=void 0;if(!Array.isArray(c)){if(!ot(c))throw new Error("Invalid AST Node: "+Ze(c));var O=it(t,c.kind,p);if(O){if((k=O.call(t,c,u,l,d,f))===nt)break;if(!1===k){if(!p){d.pop();continue}}else if(void 0!==k&&(s.push([u,k]),!p)){if(!ot(k)){d.pop();continue}c=k}}}void 0===k&&v&&s.push([u,c]),p?d.pop():(r={inArray:o,index:a,keys:i,edits:s,prev:r},i=(o=Array.isArray(c))?c:n[c.kind]||[],a=-1,s=[],l&&f.push(l),l=c)}while(void 0!==r);return 0!==s.length&&(h=s[s.length-1][1]),h}function ot(e){return Boolean(e&&"string"==typeof e.kind)}function it(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var o=n?r.leave:r.enter;if("function"==typeof o)return o}else{var i=n?e.leave:e.enter;if(i){if("function"==typeof i)return i;var a=i[t];if("function"==typeof a)return a}}}var at=function(e,t){return(at=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function st(e,t){function n(){this.constructor=e}at(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ct=function(){return(ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ut(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})}function lt(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var dt="Invariant Violation",ft=Object.setPrototypeOf,ht=void 0===ft?function(e,t){return e.__proto__=t,e}:ft,pt=function(e){function t(n){void 0===n&&(n=dt);var r=e.call(this,"number"==typeof n?dt+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=dt,ht(r,t.prototype),r}return st(t,e),t}(Error);function vt(e,t){if(!e)throw new pt(t)}function mt(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=mt("warn"),e.error=mt("error")}(vt||(vt={}));var yt={env:{}};if("object"==typeof process)yt=process;else try{Function("stub","process = stub")(yt)}catch(e){}var gt=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,o=t.cmp&&(n=t.cmp,function(e){return function(t,r){var o={key:t,value:e[t]},i={key:r,value:e[r]};return n(o,i)}}),i=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=i.push(t)-1,c=Object.keys(t).sort(o&&o(t));for(a="",n=0;n<c.length;n++){var u=c[n],l=e(t[u]);l&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l)}return i.splice(s,1),"{"+a+"}"}}(e)},bt=Object.prototype,wt=bt.toString,Et=bt.hasOwnProperty,St=new Map;function _t(e,t){try{return function e(t,n){if(t===n)return!0;var r=wt.call(t);var o=wt.call(n);if(r!==o)return!1;switch(r){case"[object Array]":if(t.length!==n.length)return!1;case"[object Object]":if(kt(t,n))return!0;var i=Object.keys(t),a=Object.keys(n),s=i.length;if(s!==a.length)return!1;for(var c=0;c<s;++c)if(!Et.call(n,i[c]))return!1;for(var c=0;c<s;++c){var u=i[c];if(!e(t[u],n[u]))return!1}return!0;case"[object Error]":return t.name===n.name&&t.message===n.message;case"[object Number]":if(t!=t)return n!=n;case"[object Boolean]":case"[object Date]":return+t==+n;case"[object RegExp]":case"[object String]":return t==""+n;case"[object Map]":case"[object Set]":if(t.size!==n.size)return!1;if(kt(t,n))return!0;for(var l=t.entries(),d="[object Map]"===r;;){var f=l.next();if(f.done)break;var h=f.value,p=h[0],v=h[1];if(!n.has(p))return!1;if(d&&!e(v,n.get(p)))return!1}return!0}return!1}(e,t)}finally{St.clear()}}function kt(e,t){var n=St.get(e);if(n){if(n.has(t))return!0}else St.set(e,n=new Set);return n.add(t),!1}function Ot(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var o={};n.fields.map(function(e){return Ot(o,e.name,e.value,r)}),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(n)){var i=(r||{})[n.name.value];e[t.value]=i}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map(function(e){var n={};return Ot(n,t,e,r),n[t.value]});else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw"production"===process.env.NODE_ENV?new pt(17):new pt('The inline argument "'+t.value+'" of kind "'+n.kind+'"is not supported. Use variables instead of inline arguments to overcome this limitation.');e[t.value]=null}}var It=["connection","include","skip","client","rest","export"];function Nt(e,t,n){if(n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var o=t,i={};return r.forEach(function(e){i[e]=o[e]}),n.connection.key+"("+JSON.stringify(i)+")"}return n.connection.key}var a=e;if(t){var s=gt(t);a+="("+s+")"}return n&&Object.keys(n).forEach(function(e){-1===It.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?a+="@"+e+"("+JSON.stringify(n[e])+")":a+="@"+e)}),a}function Tt(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach(function(e){var r=e.name,o=e.value;return Ot(n,r,o,t)}),n}return null}function Dt(e){return e.alias?e.alias.value:e.name.value}function Ct(e){return"Field"===e.kind}function xt(e){return"InlineFragment"===e.kind}function Mt(e){return e&&"id"===e.type&&"boolean"==typeof e.generated}function $t(e,t){return void 0===t&&(t=!1),ct({type:"id",generated:t},"string"==typeof e?{id:e,typename:void 0}:e)}function Rt(e,t){if(e.directives&&e.directives.length){var n={};return e.directives.forEach(function(e){n[e.name.value]=Tt(e,t)}),n}return null}function At(e,t){return void 0===t&&(t={}),(n=e.directives,n?n.filter(qt).map(function(e){var t=e.arguments,n=e.name.value;"production"===process.env.NODE_ENV?vt(t&&1===t.length,4):vt(t&&1===t.length,"Incorrect number of arguments for the @"+n+" directive.");var r=t[0];"production"===process.env.NODE_ENV?vt(r.name&&"if"===r.name.value,5):vt(r.name&&"if"===r.name.value,"Invalid argument for the @"+n+" directive.");var o=r.value;return"production"===process.env.NODE_ENV?vt(o&&("Variable"===o.kind||"BooleanValue"===o.kind),6):vt(o&&("Variable"===o.kind||"BooleanValue"===o.kind),"Argument for the @"+n+" directive must be a variable or a boolean value."),{directive:e,ifArgument:r}}):[]).every(function(e){var n=e.directive,r=e.ifArgument,o=!1;return"Variable"===r.value.kind?(o=t[r.value.name.value],"production"===process.env.NODE_ENV?vt(void 0!==o,3):vt(void 0!==o,"Invalid variable referenced in @"+n.name.value+" directive.")):o=r.value.value,"skip"===n.name.value?!o:o});var n}function Lt(e,t){return function(e){var t=[];return rt(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some(function(t){return e.indexOf(t)>-1})}function Pt(e){return e&&Lt(["client"],e)&&Lt(["export"],e)}function qt(e){var t=e.name.value;return"skip"===t||"include"===t}function Qt(e,t){var n=t,r=[];return e.definitions.forEach(function(e){if("OperationDefinition"===e.kind)throw"production"===process.env.NODE_ENV?new pt(1):new pt("Found a "+e.operation+" operation"+(e.name?" named '"+e.name.value+"'":"")+". No operations are allowed when using a fragment as a query. Only fragments are allowed.");"FragmentDefinition"===e.kind&&r.push(e)}),void 0===n&&("production"===process.env.NODE_ENV?vt(1===r.length,2):vt(1===r.length,"Found "+r.length+" fragments. `fragmentName` must be provided when there is not exactly 1 fragment."),n=r[0].name.value),ct({},e,{definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}].concat(e.definitions)})}function Ft(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){null!=t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function jt(e){"production"===process.env.NODE_ENV?vt(e&&"Document"===e.kind,8):vt(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');var t=e.definitions.filter(function(e){return"FragmentDefinition"!==e.kind}).map(function(e){if("OperationDefinition"!==e.kind)throw"production"===process.env.NODE_ENV?new pt(9):new pt('Schema type definitions not allowed in queries. Found: "'+e.kind+'"');return e});return"production"===process.env.NODE_ENV?vt(t.length<=1,10):vt(t.length<=1,"Ambiguous GraphQL document: contains "+t.length+" operations"),e}function Vt(e){return jt(e),e.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function Bt(e){return e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null}function Ut(e){return e.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function Gt(e){var t;jt(e);for(var n=0,r=e.definitions;n<r.length;n++){var o=r[n];if("OperationDefinition"===o.kind){var i=o.operation;if("query"===i||"mutation"===i||"subscription"===i)return o}"FragmentDefinition"!==o.kind||t||(t=o)}if(t)return t;throw"production"===process.env.NODE_ENV?new pt(16):new pt("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.")}function Yt(e){void 0===e&&(e=[]);var t={};return e.forEach(function(e){t[e.name.value]=e}),t}function Ht(e){if(e&&e.variableDefinitions&&e.variableDefinitions.length){var t=e.variableDefinitions.filter(function(e){return e.defaultValue}).map(function(e){var t=e.variable,n=e.defaultValue,r={};return Ot(r,t.name,n),r});return Ft.apply(void 0,[{}].concat(t))}return{}}function Jt(e,t,n){var r=0;return e.forEach(function(n,o){t.call(this,n,o,e)&&(e[r++]=n)},n),e.length=r,e}var zt={kind:"Field",name:{kind:"Name",value:"__typename"}};function Wt(e){return function e(t,n){return t.selectionSet.selections.every(function(t){return"FragmentSpread"===t.kind&&e(n[t.name.value],n)})}(Vt(e)||function(e){"production"===process.env.NODE_ENV?vt("Document"===e.kind,13):vt("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'),"production"===process.env.NODE_ENV?vt(e.definitions.length<=1,14):vt(e.definitions.length<=1,"Fragment must have exactly one definition.");var t=e.definitions[0];return"production"===process.env.NODE_ENV?vt("FragmentDefinition"===t.kind,15):vt("FragmentDefinition"===t.kind,"Must be a fragment definition."),t}(e),Yt(Ut(e)))?null:e}function Kt(e){return function(t){return e.some(function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)})}}function Xt(e,t){var n=Object.create(null),r=[],o=Object.create(null),i=[],a=Wt(rt(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some(function(e){return e.remove})&&t.directives&&t.directives.some(Kt(e))))return t.arguments&&t.arguments.forEach(function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})}),t.selectionSet&&function e(t){var n=[];t.selections.forEach(function(t){(Ct(t)||xt(t))&&t.selectionSet?e(t.selectionSet).forEach(function(e){return n.push(e)}):"FragmentSpread"===t.kind&&n.push(t)});return n}(t.selectionSet).forEach(function(e){i.push({name:e.name.value})}),null}},FragmentSpread:{enter:function(e){o[e.name.value]=!0}},Directive:{enter:function(t){if(Kt(e)(t))return null}}}));return a&&Jt(r,function(e){return!n[e.name]}).length&&(a=function(e,t){var n=function(e){return function(t){return e.some(function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))})}}(e);return Wt(rt(t,{OperationDefinition:{enter:function(t){return ct({},t,{variableDefinitions:t.variableDefinitions.filter(function(t){return!e.some(function(e){return e.name===t.variable.name.value})})})}},Field:{enter:function(t){var r=e.some(function(e){return e.remove});if(r){var o=0;if(t.arguments.forEach(function(e){n(e)&&(o+=1)}),1===o)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,a)),a&&Jt(i,function(e){return!o[e.name]}).length&&(a=function(e,t){function n(t){if(e.some(function(e){return e.name===t.name.value}))return null}return Wt(rt(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(i,a)),a}var Zt={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some(function(e){return"key"===e.name.value})||"production"===process.env.NODE_ENV||vt.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function en(e){return"query"===Gt(e).operation?e:rt(e,{OperationDefinition:{enter:function(e){return ct({},e,{operation:"query"})}}})}var tn="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),nn=Object.prototype.toString;function rn(e){return function e(t,n){switch(nn.call(t)){case"[object Array]":if(n.has(t))return n.get(t);var r=t.slice(0);return n.set(t,r),r.forEach(function(t,o){r[o]=e(t,n)}),r;case"[object Object]":if(n.has(t))return n.get(t);var o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Object.keys(t).forEach(function(r){o[r]=e(t[r],n)}),o;default:return t}}(e,new Map)}function on(e){return("undefined"!=typeof process&&process.env.NODE_ENV?process.env.NODE_ENV:"development")===e}function an(){return!0===on("test")}function sn(e){try{return e()}catch(e){console.error&&console.error(e)}}function cn(e){return e.errors&&e.errors.length}function un(e){if((!0===on("development")||an())&&!("function"==typeof Symbol&&"string"==typeof Symbol("")))return function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(n){null===t[n]||"object"!=typeof t[n]&&"function"!=typeof t[n]||Object.isFrozen(t[n])||e(t[n])}),t}(e);return e}var ln,dn=Object.prototype.hasOwnProperty;function fn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return hn(e)}function hn(e){var t=e[0]||{},n=e.length;if(n>1){var r=[];t=mn(t,r);for(var o=1;o<n;++o)t=vn(t,e[o],r)}return t}function pn(e){return null!==e&&"object"==typeof e}function vn(e,t,n){return pn(t)&&pn(e)?(Object.isExtensible&&!Object.isExtensible(e)&&(e=mn(e,n)),Object.keys(t).forEach(function(r){var o=t[r];if(dn.call(e,r)){var i=e[r];o!==i&&(e[r]=vn(mn(i,n),o,n))}else e[r]=o}),e):t}function mn(e,t){return null!==e&&"object"==typeof e&&t.indexOf(e)<0&&(e=Array.isArray(e)?e.slice(0):ct({__proto__:Object.getPrototypeOf(e)},e),t.push(e)),e}var yn=function(){};function gn(e,t){return n=e,ln||(ln="function"==typeof Symbol&&Symbol.observable||"@@observable"),n&&n[ln]&&n[ln]()===n?Se(void 0,function(n){var r=function(e,t){var n,r,o=void 0!==t;return e(o?t:new Promise(function(e,t){n=e,r=t})),{fulfill:function(t){if(o)return e(Promise.resolve(t));o=!0,n(t)},reject:function(t){if(o)return e(Promise.reject(t));o=!0,r(t)}}}(n,t),o=r.fulfill,i=r.reject,a=e.subscribe({next:function(e){o(e)},error:function(e){i(e)}});return function(){return a.unsubscribe()}}):Se(e,yn);var n}var bn="undefined"!=typeof Symbol?Symbol("client"):"@@client";function wn(){return e=bn,V().$$.context.get(e);var e}function En(e){var t,n;t=bn,n=e,V().$$.context.set(t,n)}var Sn="undefined"!=typeof WeakSet?new WeakSet:new Set;function _n(e,t){var n,r=!1;if(Sn.has(e))try{n={data:n=e.readQuery(t)||void 0}}catch(e){}var o=e.watchQuery(t),i=gn(o,n).subscribe;return{subscribe:Se(n,function(e){r=!0;var t=void 0!==n,o=!1,a=!1;return i(function(n){t&&o&&!a?a=!0:(o||(o=!0),e(n))})}).subscribe,refetch:function(e){return!r&&_t(e,o.variables)?o.result():o.refetch(e)},result:function(){return o.result()},fetchMore:function(e){return o.fetchMore(e)},setOptions:function(e){return o.setOptions(e)},updateQuery:function(e){return o.updateQuery(e)},startPolling:function(e){return o.startPolling(e)},stopPolling:function(){return o.stopPolling()},subscribeToMore:function(e){return o.subscribeToMore(e)}}}function kn(e,t){return e.mutate(t)}var On="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function In(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Nn(e,t){return e(t={exports:{}},t.exports),t.exports}function Tn(e){return e&&e.default||e}var Dn=Nn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){return"function"==typeof Symbol},i=function(e){return o()&&Boolean(Symbol[e])},a=function(e){return i(e)?Symbol[e]:"@@"+e};o()&&!i("observable")&&(Symbol.observable=Symbol("observable"));var s=a("iterator"),c=a("observable"),u=a("species");function l(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function d(e){var t=e.constructor;return void 0!==t&&null===(t=t[u])&&(t=void 0),void 0!==t?t:E}function f(e){return e instanceof E}function h(e){h.log?h.log(e):setTimeout(function(){throw e})}function p(e){Promise.resolve().then(function(){try{e()}catch(e){h(e)}})}function v(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=l(t,"unsubscribe");n&&n.call(t)}}catch(e){h(e)}}function m(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function y(e,t,n){e._state="running";var r=e._observer;try{var o=l(r,t);switch(t){case"next":o&&o.call(r,n);break;case"error":if(m(e),!o)throw n;o.call(r,n);break;case"complete":m(e),o&&o.call(r)}}catch(e){h(e)}"closed"===e._state?v(e):"running"===e._state&&(e._state="ready")}function g(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void p(function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(y(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)})):void y(e,t,n);e._queue.push({type:t,value:n})}}var b=function(){function e(t,n){r(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var o=new w(this);try{this._cleanup=n.call(void 0,o)}catch(e){o.error(e)}"initializing"===this._state&&(this._state="ready")}return n(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(m(this),v(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),w=function(){function e(t){r(this,e),this._subscription=t}return n(e,[{key:"next",value:function(e){g(this._subscription,"next",e)}},{key:"error",value:function(e){g(this._subscription,"error",e)}},{key:"complete",value:function(){g(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),E=t.Observable=function(){function e(t){if(r(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return n(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new b(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise(function(n,r){if("function"==typeof e)var o=t.subscribe({next:function(t){try{e(t,i)}catch(e){r(e),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),n()}})}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))(function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})})}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))(function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})})}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this),r=arguments.length>1,o=!1,i=arguments[1];return new n(function(n){return t.subscribe({next:function(t){var a=!o;if(o=!0,!a||r)try{i=e(i,t)}catch(e){return n.error(e)}else i=t},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(i),n.complete()}})})}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=d(this);return new o(function(t){var r=void 0,i=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){i===n.length?(r=void 0,t.complete()):e(o.from(n[i++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}})}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this);return new n(function(r){var o=[],i=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var i=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),a()}});o.push(i)},error:function(e){r.error(e)},complete:function(){a()}});function a(){i.closed&&0===o.length&&r.complete()}return function(){o.forEach(function(e){return e.unsubscribe()}),i.unsubscribe()}})}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=l(t,c);if(r){var o=r.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return f(o)&&o.constructor===n?o:new n(function(e){return o.subscribe(e)})}if(i("iterator")&&(r=l(t,s)))return new n(function(e){p(function(){if(!e.closed){var n=!0,o=!1,i=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;if(e.next(c),e.closed)return}}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}e.complete()}})});if(Array.isArray(t))return new n(function(e){p(function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}})});throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new("function"==typeof this?this:e)(function(e){p(function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}})})}},{key:u,get:function(){return this}}]),e}();o()&&Object.defineProperty(E,Symbol("extensions"),{value:{symbol:c,hostReportError:h},configurable:!0})});In(Dn);Dn.Observable;var Cn=Dn.Observable;var xn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return st(t,e),t}(Error);function Mn(e){return e.request.length<=1}function $n(e){return new Cn(function(t){t.error(e)})}function Rn(e,t){var n=ct({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=ct({},n,"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return ct({},n)}}),Object.defineProperty(t,"toKey",{enumerable:!1,value:function(){return function(e){var t=e.query,n=e.variables,r=e.operationName;return JSON.stringify([r,t,n])}(t)}}),t}function An(e,t){return t?t(e):Cn.of()}function Ln(e){return"function"==typeof e?new jn(e):e}function Pn(){return new jn(function(){return Cn.of()})}function qn(e){return 0===e.length?Pn():e.map(Ln).reduce(function(e,t){return e.concat(t)})}function Qn(e,t,n){var r=Ln(t),o=Ln(n||new jn(An));return Mn(r)&&Mn(o)?new jn(function(t){return e(t)?r.request(t)||Cn.of():o.request(t)||Cn.of()}):new jn(function(t,n){return e(t)?r.request(t,n)||Cn.of():o.request(t,n)||Cn.of()})}var Fn=function(e,t){var n=Ln(e);if(Mn(n))return"production"===process.env.NODE_ENV||vt.warn(new xn("You are calling concat on a terminating link, which will have no effect",n)),n;var r=Ln(t);return Mn(r)?new jn(function(e){return n.request(e,function(e){return r.request(e)||Cn.of()})||Cn.of()}):new jn(function(e,t){return n.request(e,function(e){return r.request(e,t)||Cn.of()})||Cn.of()})},jn=function(){function e(e){e&&(this.request=e)}return e.prototype.split=function(t,n,r){return this.concat(Qn(t,n,r||new e(An)))},e.prototype.concat=function(e){return Fn(this,e)},e.prototype.request=function(e,t){throw"production"===process.env.NODE_ENV?new pt(1):new pt("request is not implemented")},e.empty=Pn,e.from=qn,e.split=Qn,e.execute=Vn,e}();function Vn(e,t){return e.request(Rn(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?Bt(t.query):""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];if(t.indexOf(o)<0)throw"production"===process.env.NODE_ENV?new pt(2):new pt("illegal argument: "+o)}return e}(t))))||Cn.of()}var Bn,Un=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")());function Gn(e){return e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(Bn||(Bn={}));var Yn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return st(t,e),t.prototype[Un]=function(){return this},t.prototype["@@observable"]=function(){return this},t}(Cn);function Hn(e){return Array.isArray(e)&&e.length>0}var Jn,zn=function(e){var t="";return Hn(e.graphQLErrors)&&e.graphQLErrors.forEach(function(e){var n=e?e.message:"Error message not found.";t+="GraphQL error: "+n+"\n"}),e.networkError&&(t+="Network error: "+e.networkError.message+"\n"),t=t.replace(/\n$/,"")},Wn=function(e){function t(n){var r=n.graphQLErrors,o=n.networkError,i=n.errorMessage,a=n.extraInfo,s=e.call(this,i)||this;return s.graphQLErrors=r||[],s.networkError=o||null,s.message=i||zn(s),s.extraInfo=a,s.__proto__=t.prototype,s}return st(t,e),t}(Error);!function(e){e[e.normal=1]="normal",e[e.refetch=2]="refetch",e[e.poll=3]="poll"}(Jn||(Jn={}));var Kn=function(e){function t(t){var n=t.queryManager,r=t.options,o=t.shouldSubscribe,i=void 0===o||o,a=e.call(this,function(e){return a.onSubscribe(e)})||this;a.observers=new Set,a.subscriptions=new Set,a.isTornDown=!1,a.options=r,a.variables=r.variables||{},a.queryId=n.generateQueryId(),a.shouldSubscribe=i;var s=Vt(r.query);return a.queryName=s&&s.name&&s.name.value,a.queryManager=n,a}return st(t,e),t.prototype.result=function(){var e=this;return new Promise(function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout(function(){o.unsubscribe()},0)},error:n},o=e.subscribe(r)})},t.prototype.currentResult=function(){var e=this.getCurrentResult();return void 0===e.data&&(e.data={}),e},t.prototype.getCurrentResult=function(){if(this.isTornDown){var e=this.lastResult;return{data:!this.lastError&&e&&e.data||void 0,error:this.lastError,loading:!1,networkStatus:Bn.error}}var t,n,r,o=this.queryManager.getCurrentQueryResult(this),i=o.data,a=o.partial,s=this.queryManager.queryStore.get(this.queryId),c=this.options.fetchPolicy,u="network-only"===c||"no-cache"===c;if(s){var l=s.networkStatus;if(n=s,void 0===(r=this.options.errorPolicy)&&(r="none"),n&&(n.networkError||"none"===r&&Hn(n.graphQLErrors)))return{data:void 0,loading:!1,networkStatus:l,error:new Wn({graphQLErrors:s.graphQLErrors,networkError:s.networkError})};s.variables&&(this.options.variables=ct({},this.options.variables,s.variables),this.variables=this.options.variables),t={data:i,loading:Gn(l),networkStatus:l},s.graphQLErrors&&"all"===this.options.errorPolicy&&(t.errors=s.graphQLErrors)}else{var d=u||a&&"cache-only"!==c;t={data:i,loading:d,networkStatus:d?Bn.loading:Bn.ready}}return a||this.updateLastResult(ct({},t,{stale:!1})),ct({},t,{partial:a})},t.prototype.isDifferentFromLastResult=function(e){var t=this.lastResultSnapshot;return!(t&&e&&t.networkStatus===e.networkStatus&&t.stale===e.stale&&_t(t.data,e.data))},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){var e=this.queryManager.queryStore.get(this.queryId);e&&(e.networkError=null,e.graphQLErrors=[])},t.prototype.refetch=function(e){var t=this.options.fetchPolicy;return"cache-only"===t?Promise.reject("production"===process.env.NODE_ENV?new pt(3):new pt("cache-only fetchPolicy option should not be used together with query refetch.")):("no-cache"!==t&&"cache-and-network"!==t&&(t="network-only"),_t(this.variables,e)||(this.variables=ct({},this.variables,e)),_t(this.options.variables,this.variables)||(this.options.variables=ct({},this.options.variables,this.variables)),this.queryManager.fetchQuery(this.queryId,ct({},this.options,{fetchPolicy:t}),Jn.refetch))},t.prototype.fetchMore=function(e){var t=this;"production"===process.env.NODE_ENV?vt(e.updateQuery,4):vt(e.updateQuery,"updateQuery option is required. This function defines how to update the query data with the new results.");var n=ct({},e.query?e:ct({},this.options,e,{variables:ct({},this.variables,e.variables)}),{fetchPolicy:"network-only"}),r=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(r,n,Jn.normal,this.queryId).then(function(o){return t.updateQuery(function(t){return e.updateQuery(t,{fetchMoreResult:o.data,variables:n.variables})}),t.queryManager.stopQuery(r),o},function(e){throw t.queryManager.stopQuery(r),e})},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery(function(e,t){var o=t.variables;return r(e,{subscriptionData:n,variables:o})})},error:function(t){e.onError?e.onError(t):"production"===process.env.NODE_ENV||vt.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){var t=this.options.fetchPolicy;this.options=ct({},this.options,e),e.pollInterval?this.startPolling(e.pollInterval):0===e.pollInterval&&this.stopPolling();var n=e.fetchPolicy;return this.setVariables(this.options.variables,t!==n&&("cache-only"===t||"standby"===t||"network-only"===n),e.fetchResults)},t.prototype.setVariables=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!0),this.isTornDown=!1,e=e||this.variables,!t&&_t(e,this.variables)?this.observers.size&&n?this.result():Promise.resolve():(this.variables=this.options.variables=e,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=t.getQueryWithPreviousResult(this.queryId),r=n.previousResult,o=n.variables,i=n.document,a=sn(function(){return e(r,{variables:o})});a&&(t.dataStore.markUpdateQueryResult(i,o,a),t.broadcastQueries())},t.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},t.prototype.startPolling=function(e){er(this),this.options.pollInterval=e,this.queryManager.startPollingQuery(this.options,this.queryId)},t.prototype.updateLastResult=function(e){var t=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:rn(e),t},t.prototype.onSubscribe=function(e){var t=this;try{var n=e._subscription._observer;n&&!n.error&&(n.error=Xn)}catch(e){}var r=!this.observers.size;return this.observers.add(e),e.next&&this.lastResult&&e.next(this.lastResult),e.error&&this.lastError&&e.error(this.lastError),r&&this.setUpQuery(),function(){t.observers.delete(e)&&!t.observers.size&&t.tearDownQuery()}},t.prototype.setUpQuery=function(){var e=this,t=this.queryManager,n=this.queryId;this.shouldSubscribe&&t.addObservableQuery(n,this),this.options.pollInterval&&(er(this),t.startPollingQuery(this.options,n));var r=function(t){e.updateLastResult(ct({},e.lastResult,{errors:t.graphQLErrors,networkStatus:Bn.error,loading:!1})),Zn(e.observers,"error",e.lastError=t)};t.observeQuery(n,this.options,{next:function(n){if(e.lastError||e.isDifferentFromLastResult(n)){var r=e.updateLastResult(n),o=e.options,i=o.query,a=o.variables,s=o.fetchPolicy;t.transform(i).hasClientExports?t.getLocalState().addExportedVariables(i,a).then(function(o){var a=e.variables;e.variables=e.options.variables=o,!n.loading&&r&&"cache-only"!==s&&t.transform(i).serverQuery&&!_t(a,o)?e.refetch():Zn(e.observers,"next",n)}):Zn(e.observers,"next",n)}},error:r}).catch(r)},t.prototype.tearDownQuery=function(){var e=this.queryManager;this.isTornDown=!0,e.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions.clear(),e.removeObservableQuery(this.queryId),e.stopQuery(this.queryId),this.observers.clear()},t}(Yn);function Xn(e){"production"===process.env.NODE_ENV||vt.error("Unhandled error",e.message,e.stack)}function Zn(e,t,n){var r=[];e.forEach(function(e){return e[t]&&r.push(e)}),r.forEach(function(e){return e[t](n)})}function er(e){var t=e.options.fetchPolicy;"production"===process.env.NODE_ENV?vt("cache-first"!==t&&"cache-only"!==t,5):vt("cache-first"!==t&&"cache-only"!==t,"Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.")}var tr=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initMutation=function(e,t,n){this.store[e]={mutation:t,variables:n||{},loading:!0,error:null}},e.prototype.markMutationError=function(e,t){var n=this.store[e];n&&(n.loading=!1,n.error=t)},e.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},e.prototype.reset=function(){this.store={}},e}(),nr=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initQuery=function(e){var t=this.store[e.queryId];"production"===process.env.NODE_ENV?vt(!t||t.document===e.document||_t(t.document,e.document),19):vt(!t||t.document===e.document||_t(t.document,e.document),"Internal Error: may not update existing query string in store");var n,r=!1,o=null;e.storePreviousVariables&&t&&t.networkStatus!==Bn.loading&&(_t(t.variables,e.variables)||(r=!0,o=t.variables)),n=r?Bn.setVariables:e.isPoll?Bn.poll:e.isRefetch?Bn.refetch:Bn.loading;var i=[];t&&t.graphQLErrors&&(i=t.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:o,networkError:null,graphQLErrors:i,networkStatus:n,metadata:e.metadata},"string"==typeof e.fetchMoreForQueryId&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=Bn.fetchMore)},e.prototype.markQueryResult=function(e,t,n){this.store&&this.store[e]&&(this.store[e].networkError=null,this.store[e].graphQLErrors=Hn(t.errors)?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=Bn.ready,"string"==typeof n&&this.store[n]&&(this.store[n].networkStatus=Bn.ready))},e.prototype.markQueryError=function(e,t,n){this.store&&this.store[e]&&(this.store[e].networkError=t,this.store[e].networkStatus=Bn.error,"string"==typeof n&&this.markQueryResultClient(n,!0))},e.prototype.markQueryResultClient=function(e,t){var n=this.store&&this.store[e];n&&(n.networkError=null,n.previousVariables=null,t&&(n.networkStatus=Bn.ready))},e.prototype.stopQuery=function(e){delete this.store[e]},e.prototype.reset=function(e){var t=this;Object.keys(this.store).forEach(function(n){e.indexOf(n)<0?t.stopQuery(n):t.store[n].networkStatus=Bn.loading})},e}();var rr=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,o=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),o&&this.setFragmentMatcher(o)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(e){t.resolvers=fn(t.resolvers,e)}):this.resolvers=fn(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,o=e.variables,i=e.onlyRunForcedResolvers,a=void 0!==i&&i;return ut(this,void 0,void 0,function(){return lt(this,function(e){return t?[2,this.resolveDocument(t,n.data,r,o,this.fragmentMatcher,a).then(function(e){return ct({},n,{data:e.result})})]:[2,n]})})},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){if(Lt(["client"],e)){if(this.resolvers)return e;"production"===process.env.NODE_ENV||vt.warn("Found @client directives in a query but no ApolloClient resolvers were specified. This means ApolloClient local resolver handling has been disabled, and @client directives will be passed through to your link chain.")}return null},e.prototype.serverQuery=function(e){return this.resolvers?function(e){jt(e);var t=Xt([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=rt(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every(function(e){return Ct(e)&&"__typename"===e.name.value}))return null}}})),t}(e):e},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.cache;return ct({},e,{cache:t,getCacheKey:function(e){if(t.config)return t.config.dataIdFromObject(e);"production"===process.env.NODE_ENV?vt(!1,6):vt(!1,"To use context.getCacheKey, you need to use a cache that has a configurable dataIdFromObject, like apollo-cache-inmemory.")}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),ut(this,void 0,void 0,function(){return lt(this,function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then(function(e){return ct({},t,e.exportedVariables)})]:[2,ct({},t)]})})},e.prototype.shouldForceResolvers=function(e){var t=!1;return rt(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some(function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value})))return nt}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:en(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,o,i){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===o&&(o=function(){return!0}),void 0===i&&(i=!1),ut(this,void 0,void 0,function(){var a,s,c,u,l,d,f,h,p;return lt(this,function(v){var m;return a=Gt(e),s=Ut(e),c=Yt(s),u=a.operation,l=u?(m=u).charAt(0).toUpperCase()+m.slice(1):"Query",f=(d=this).cache,h=d.client,p={fragmentMap:c,context:ct({},n,{cache:f,client:h}),variables:r,fragmentMatcher:o,defaultOperationType:l,exportedVariables:{},onlyRunForcedResolvers:i},[2,this.resolveSelectionSet(a.selectionSet,t,p).then(function(e){return{result:e,exportedVariables:p.exportedVariables}})]})})},e.prototype.resolveSelectionSet=function(e,t,n){return ut(this,void 0,void 0,function(){var r,o,i,a,s,c=this;return lt(this,function(u){return r=n.fragmentMap,o=n.context,i=n.variables,a=[t],s=function(e){return ut(c,void 0,void 0,function(){var s,c;return lt(this,function(u){return At(e,i)?Ct(e)?[2,this.resolveField(e,t,n).then(function(t){var n;void 0!==t&&a.push(((n={})[Dt(e)]=t,n))})]:(xt(e)?s=e:(s=r[e.name.value],"production"===process.env.NODE_ENV?vt(s,7):vt(s,"No fragment named "+e.name.value)),s&&s.typeCondition&&(c=s.typeCondition.name.value,n.fragmentMatcher(t,c,o))?[2,this.resolveSelectionSet(s.selectionSet,t,n).then(function(e){a.push(e)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(s)).then(function(){return hn(a)})]})})},e.prototype.resolveField=function(e,t,n){return ut(this,void 0,void 0,function(){var r,o,i,a,s,c,u,l,d,f=this;return lt(this,function(h){return r=n.variables,o=e.name.value,i=Dt(e),a=o!==i,s=t[i]||t[o],c=Promise.resolve(s),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(u=t.__typename||n.defaultOperationType,(l=this.resolvers&&this.resolvers[u])&&(d=l[a?o:i])&&(c=Promise.resolve(d(t,Tt(e,r),n.context,{field:e})))),[2,c.then(function(t){return void 0===t&&(t=s),e.directives&&e.directives.forEach(function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach(function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)})}),e.selectionSet?null==t?t:Array.isArray(t)?f.resolveSubSelectedArray(e,t,n):e.selectionSet?f.resolveSelectionSet(e.selectionSet,t,n):void 0:t})]})})},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map(function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0}))},e}();function or(e){var t=new Set,n=null;return new Yn(function(r){return t.add(r),n=n||e.subscribe({next:function(e){t.forEach(function(t){return t.next&&t.next(e)})},error:function(e){t.forEach(function(t){return t.error&&t.error(e)})},complete:function(){t.forEach(function(e){return e.complete&&e.complete()})}}),function(){t.delete(r)&&!t.size&&n&&(n.unsubscribe(),n=null)}})}var ir=Object.prototype.hasOwnProperty,ar=function(){function e(e){var t=e.link,n=e.queryDeduplication,r=void 0!==n&&n,o=e.store,i=e.onBroadcast,a=void 0===i?function(){}:i,s=e.ssrMode,c=void 0!==s&&s,u=e.clientAwareness,l=void 0===u?{}:u,d=e.localState,f=e.assumeImmutableResults;this.mutationStore=new tr,this.queryStore=new nr,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(tn?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=t,this.queryDeduplication=r,this.dataStore=o,this.onBroadcast=a,this.clientAwareness=l,this.localState=d||new rr({cache:o.getCache()}),this.ssrMode=c,this.assumeImmutableResults=!!f}return e.prototype.stop=function(){var e=this;this.queries.forEach(function(t,n){e.stopQueryNoBroadcast(n)}),this.fetchQueryRejectFns.forEach(function(e){e("production"===process.env.NODE_ENV?new pt(8):new pt("QueryManager stopped while query was in flight"))})},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,r=e.optimisticResponse,o=e.updateQueries,i=e.refetchQueries,a=void 0===i?[]:i,s=e.awaitRefetchQueries,c=void 0!==s&&s,u=e.update,l=e.errorPolicy,d=void 0===l?"none":l,f=e.fetchPolicy,h=e.context,p=void 0===h?{}:h;return ut(this,void 0,void 0,function(){var e,i,s,l=this;return lt(this,function(h){switch(h.label){case 0:return"production"===process.env.NODE_ENV?vt(t,9):vt(t,"mutation option is required. You must specify your GraphQL document in the mutation option."),"production"===process.env.NODE_ENV?vt(!f||"no-cache"===f,10):vt(!f||"no-cache"===f,"fetchPolicy for mutations currently only supports the 'no-cache' policy"),e=this.generateQueryId(),t=this.transform(t).document,this.setQuery(e,function(){return{document:t}}),n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,p)]:[3,2];case 1:n=h.sent(),h.label=2;case 2:return i=function(){var e={};return o&&l.queries.forEach(function(t,n){var r=t.observableQuery;if(r){var i=r.queryName;i&&ir.call(o,i)&&(e[n]={updater:o[i],query:l.queryStore.get(n)})}}),e},this.mutationStore.initMutation(e,t,n),this.dataStore.markMutationInit({mutationId:e,document:t,variables:n,updateQueries:i(),update:u,optimisticResponse:r}),this.broadcastQueries(),s=this,[2,new Promise(function(o,l){var h,v;s.getObservableFromLink(t,ct({},p,{optimisticResponse:r}),n,!1).subscribe({next:function(r){cn(r)&&"none"===d?v=new Wn({graphQLErrors:r.errors}):(s.mutationStore.markMutationResult(e),"no-cache"!==f&&s.dataStore.markMutationResult({mutationId:e,result:r,document:t,variables:n,updateQueries:i(),update:u}),h=r)},error:function(t){s.mutationStore.markMutationError(e,t),s.dataStore.markMutationComplete({mutationId:e,optimisticResponse:r}),s.broadcastQueries(),s.setQuery(e,function(){return{document:null}}),l(new Wn({networkError:t}))},complete:function(){if(v&&s.mutationStore.markMutationError(e,v),s.dataStore.markMutationComplete({mutationId:e,optimisticResponse:r}),s.broadcastQueries(),v)l(v);else{"function"==typeof a&&(a=a(h));var t=[];Hn(a)&&a.forEach(function(e){if("string"==typeof e)s.queries.forEach(function(n){var r=n.observableQuery;r&&r.queryName===e&&t.push(r.refetch())});else{var n={query:e.query,variables:e.variables,fetchPolicy:"network-only"};e.context&&(n.context=e.context),t.push(s.query(n))}}),Promise.all(c?t:[]).then(function(){s.setQuery(e,function(){return{document:null}}),"ignore"===d&&h&&cn(h)&&delete h.errors,o(h)})}}})})]}})})},e.prototype.fetchQuery=function(e,t,n,r){return ut(this,void 0,void 0,function(){var o,i,a,s,c,u,l,d,f,h,p,v,m,y,g,b,w,E,S=this;return lt(this,function(_){switch(_.label){case 0:return o=t.metadata,i=void 0===o?null:o,a=t.fetchPolicy,s=void 0===a?"cache-first":a,c=t.context,u=void 0===c?{}:c,l=this.transform(t.query).document,d=this.getVariables(l,t.variables),this.transform(l).hasClientExports?[4,this.localState.addExportedVariables(l,d,u)]:[3,2];case 1:d=_.sent(),_.label=2;case 2:if(t=ct({},t,{variables:d}),p=h="network-only"===s||"no-cache"===s,h||(v=this.dataStore.getCache().diff({query:l,variables:d,returnPartialData:!0,optimistic:!1}),m=v.complete,y=v.result,p=!m||"cache-and-network"===s,f=y),g=p&&"cache-only"!==s&&"standby"!==s,Lt(["live"],l)&&(g=!0),b=this.idCounter++,w="no-cache"!==s?this.updateQueryWatch(e,l,t):void 0,this.setQuery(e,function(){return{document:l,lastRequestId:b,invalidated:!0,cancel:w}}),this.invalidate(r),this.queryStore.initQuery({queryId:e,document:l,storePreviousVariables:g,variables:d,isPoll:n===Jn.poll,isRefetch:n===Jn.refetch,metadata:i,fetchMoreForQueryId:r}),this.broadcastQueries(),g){if(E=this.fetchRequest({requestId:b,queryId:e,document:l,options:t,fetchMoreForQueryId:r}).catch(function(t){throw t.hasOwnProperty("graphQLErrors")?t:(b>=S.getQuery(e).lastRequestId&&(S.queryStore.markQueryError(e,t,r),S.invalidate(e),S.invalidate(r),S.broadcastQueries()),new Wn({networkError:t}))}),"cache-and-network"!==s)return[2,E];E.catch(function(){})}return this.queryStore.markQueryResultClient(e,!g),this.invalidate(e),this.invalidate(r),this.transform(l).hasForcedResolvers?[2,this.localState.runResolvers({document:l,remoteResult:{data:f},context:u,variables:d,onlyRunForcedResolvers:!0}).then(function(n){return S.markQueryResult(e,n,t,r),S.broadcastQueries(),n})]:(this.broadcastQueries(),[2,{data:f}])}})})},e.prototype.markQueryResult=function(e,t,n,r){var o=n.fetchPolicy,i=n.variables,a=n.errorPolicy;"no-cache"===o?this.setQuery(e,function(){return{newData:{result:t.data,complete:!0}}}):this.dataStore.markQueryResult(t,this.getQuery(e).document,i,r,"ignore"===a||"all"===a)},e.prototype.queryListenerForObserver=function(e,t,n){var r=this;function o(e,t){if(n[e])try{n[e](t)}catch(e){"production"===process.env.NODE_ENV||vt.error(e)}else"error"===e&&("production"===process.env.NODE_ENV||vt.error(t))}return function(n,i){if(r.invalidate(e,!1),n){var a=r.getQuery(e),s=a.observableQuery,c=a.document,u=s?s.options.fetchPolicy:t.fetchPolicy;if("standby"!==u){var l=Gn(n.networkStatus),d=s&&s.getLastResult(),f=!(!d||d.networkStatus===n.networkStatus),h=t.returnPartialData||!i&&n.previousVariables||f&&t.notifyOnNetworkStatusChange||"cache-only"===u||"cache-and-network"===u;if(!l||h){var p=Hn(n.graphQLErrors),v=s&&s.options.errorPolicy||t.errorPolicy||"none";if("none"===v&&p||n.networkError)return o("error",new Wn({graphQLErrors:n.graphQLErrors,networkError:n.networkError}));try{var m=void 0,y=void 0;if(i)"no-cache"!==u&&"network-only"!==u&&r.setQuery(e,function(){return{newData:null}}),m=i.result,y=!i.complete;else{var g=s&&s.getLastError(),b="none"!==v&&(g&&g.graphQLErrors)!==n.graphQLErrors;if(d&&d.data&&!b)m=d.data,y=!1;else{var w=r.dataStore.getCache().diff({query:c,variables:n.previousVariables||n.variables,returnPartialData:!0,optimistic:!0});m=w.result,y=!w.complete}}var E=y&&!(t.returnPartialData||"cache-only"===u),S={data:E?d&&d.data:m,loading:l,networkStatus:n.networkStatus,stale:E};"all"===v&&p&&(S.errors=n.graphQLErrors),o("next",S)}catch(e){o("error",new Wn({networkError:e}))}}}}}},e.prototype.transform=function(e){var t,n=this.transformCache;if(!n.has(e)){var r=this.dataStore.getCache(),o=r.transformDocument(e),i=(t=r.transformForLink(o),Xt([Zt],jt(t))),a=this.localState.clientQuery(o),s=this.localState.serverQuery(i),c={document:o,hasClientExports:Pt(o),hasForcedResolvers:this.localState.shouldForceResolvers(o),clientQuery:a,serverQuery:s,defaultVars:Ht(Vt(o))},u=function(e){e&&!n.has(e)&&n.set(e,c)};u(e),u(o),u(a),u(s)}return n.get(e)},e.prototype.getVariables=function(e,t){return ct({},this.transform(e).defaultVars,t)},e.prototype.watchQuery=function(e,t){void 0===t&&(t=!0),"production"===process.env.NODE_ENV?vt("standby"!==e.fetchPolicy,11):vt("standby"!==e.fetchPolicy,'client.watchQuery cannot be called with fetchPolicy set to "standby"'),e.variables=this.getVariables(e.query,e.variables),void 0===e.notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var n=ct({},e);return new Kn({queryManager:this,options:n,shouldSubscribe:t})},e.prototype.query=function(e){var t=this;return"production"===process.env.NODE_ENV?vt(e.query,12):vt(e.query,"query option is required. You must specify your GraphQL document in the query option."),"production"===process.env.NODE_ENV?vt("Document"===e.query.kind,13):vt("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'),"production"===process.env.NODE_ENV?vt(!e.returnPartialData,14):vt(!e.returnPartialData,"returnPartialData option only supported on watchQuery."),"production"===process.env.NODE_ENV?vt(!e.pollInterval,15):vt(!e.pollInterval,"pollInterval option only supported on watchQuery."),new Promise(function(n,r){var o=t.watchQuery(e,!1);t.fetchQueryRejectFns.set("query:"+o.queryId,r),o.result().then(n,r).then(function(){return t.fetchQueryRejectFns.delete("query:"+o.queryId)})})},e.prototype.generateQueryId=function(){return String(this.idCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},e.prototype.addQueryListener=function(e,t){this.setQuery(e,function(e){return e.listeners.add(t),{invalidated:!1}})},e.prototype.updateQueryWatch=function(e,t,n){var r=this,o=this.getQuery(e).cancel;o&&o();return this.dataStore.getCache().watch({query:t,variables:n.variables,optimistic:!0,previousResult:function(){var t=null,n=r.getQuery(e).observableQuery;if(n){var o=n.getLastResult();o&&(t=o.data)}return t},callback:function(t){r.setQuery(e,function(){return{invalidated:!0,newData:t}})}})},e.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}})},e.prototype.removeObservableQuery=function(e){var t=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}}),t&&t()},e.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(e){e("production"===process.env.NODE_ENV?new pt(16):new pt("Store reset while query was in flight (not completed in link chain)"))});var e=[];return this.queries.forEach(function(t,n){t.observableQuery&&e.push(n)}),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.queries.forEach(function(r,o){var i=r.observableQuery;if(i){var a=i.options.fetchPolicy;i.resetLastResults(),"cache-only"===a||!e&&"standby"===a||n.push(i.refetch()),t.setQuery(o,function(){return{newData:null}}),t.invalidate(o)}}),this.broadcastQueries(),Promise.all(n)},e.prototype.observeQuery=function(e,t,n){return this.addQueryListener(e,this.queryListenerForObserver(e,t,n)),this.fetchQuery(e,t)},e.prototype.startQuery=function(e,t,n){return"production"===process.env.NODE_ENV||vt.warn("The QueryManager.startQuery method has been deprecated"),this.addQueryListener(e,n),this.fetchQuery(e,t).catch(function(){}),e},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,o=e.variables;n=this.transform(n).document,o=this.getVariables(n,o);var i=function(e){return t.getObservableFromLink(n,{},e,!1).map(function(o){if(r&&"no-cache"===r||(t.dataStore.markSubscriptionResult(o,n,e),t.broadcastQueries()),cn(o))throw new Wn({graphQLErrors:o.errors});return o})};if(this.transform(n).hasClientExports){var a=this.localState.addExportedVariables(n,o).then(i);return new Yn(function(e){var t=null;return a.then(function(n){return t=n.subscribe(e)},e.error),function(){return t&&t.unsubscribe()}})}return i(o)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach(function(e){return e.unsubscribe()}),this.queries.delete(e)},e.prototype.getCurrentQueryResult=function(e,t){void 0===t&&(t=!0);var n=e.options,r=n.variables,o=n.query,i=n.fetchPolicy,a=n.returnPartialData,s=e.getLastResult(),c=this.getQuery(e.queryId).newData;if(c&&c.complete)return{data:c.result,partial:!1};if("no-cache"===i||"network-only"===i)return{data:void 0,partial:!1};var u=this.dataStore.getCache().diff({query:o,variables:r,previousResult:s?s.data:void 0,returnPartialData:!0,optimistic:t}),l=u.result,d=u.complete;return{data:d||a?l:void 0,partial:!d}},e.prototype.getQueryWithPreviousResult=function(e){var t;if("string"==typeof e){var n=this.getQuery(e).observableQuery;"production"===process.env.NODE_ENV?vt(n,17):vt(n,"ObservableQuery with this id doesn't exist: "+e),t=n}else t=e;var r=t.options,o=r.variables,i=r.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:o,document:i}},e.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(t,n){t.invalidated&&t.listeners.forEach(function(r){r&&r(e.queryStore.get(n),t.newData)})})},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var o,i=this;void 0===r&&(r=this.queryDeduplication);var a=this.transform(e).serverQuery;if(a){var s=this.inFlightLinkObservables,c=this.link,u={query:a,variables:n,operationName:Bt(a)||void 0,context:this.prepareContext(ct({},t,{forceFetch:!r}))};if(t=u.context,r){var l=s.get(a)||new Map;s.set(a,l);var d=JSON.stringify(n);if(!(o=l.get(d))){l.set(d,o=or(Vn(c,u)));var f=function(){l.delete(d),l.size||s.delete(a),h.unsubscribe()},h=o.subscribe({next:f,error:f,complete:f})}}else o=or(Vn(c,u))}else o=Yn.of({data:{}}),t=this.prepareContext(t);var p=this.transform(e).clientQuery;return p&&(o=function(e,t){return new Yn(function(n){var r=n.next,o=n.error,i=n.complete,a=0,s=!1,c={next:function(e){++a,new Promise(function(n){n(t(e))}).then(function(e){--a,r&&r.call(n,e),s&&c.complete()},function(e){--a,o&&o.call(n,e)})},error:function(e){o&&o.call(n,e)},complete:function(){s=!0,a||i&&i.call(n)}},u=e.subscribe(c);return function(){return u.unsubscribe()}})}(o,function(e){return i.localState.runResolvers({document:p,remoteResult:e,context:t,variables:n})})),o},e.prototype.fetchRequest=function(e){var t,n,r=this,o=e.requestId,i=e.queryId,a=e.document,s=e.options,c=e.fetchMoreForQueryId,u=s.variables,l=s.errorPolicy,d=void 0===l?"none":l,f=s.fetchPolicy;return new Promise(function(e,l){var h=r.getObservableFromLink(a,s.context,u),p="fetchRequest:"+i;r.fetchQueryRejectFns.set(p,l);var v=function(){r.fetchQueryRejectFns.delete(p),r.setQuery(i,function(e){e.subscriptions.delete(m)})},m=h.map(function(e){if(o>=r.getQuery(i).lastRequestId&&(r.markQueryResult(i,e,s,c),r.queryStore.markQueryResult(i,e,c),r.invalidate(i),r.invalidate(c),r.broadcastQueries()),"none"===d&&Hn(e.errors))return l(new Wn({graphQLErrors:e.errors}));if("all"===d&&(n=e.errors),c||"no-cache"===f)t=e.data;else{var h=r.dataStore.getCache().diff({variables:u,query:a,optimistic:!1,returnPartialData:!0}),p=h.result;(h.complete||s.returnPartialData)&&(t=p)}}).subscribe({error:function(e){v(),l(e)},complete:function(){v(),e({data:t,errors:n,loading:!1,networkStatus:Bn.ready,stale:!1})}});r.setQuery(i,function(e){e.subscriptions.add(m)})})},e.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},e.prototype.setQuery=function(e,t){var n=this.getQuery(e),r=ct({},n,t(n));this.queries.set(e,r)},e.prototype.invalidate=function(e,t){void 0===t&&(t=!0),e&&this.setQuery(e,function(){return{invalidated:t}})},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return ct({},t,{clientAwareness:this.clientAwareness})},e.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==Bn.ready&&t.networkStatus!==Bn.error},e.prototype.startPollingQuery=function(e,t,n){var r=this,o=e.pollInterval;if("production"===process.env.NODE_ENV?vt(o,18):vt(o,"Attempted to start a polling query without a polling interval."),!this.ssrMode){var i=this.pollingInfoByQueryId.get(t);i||this.pollingInfoByQueryId.set(t,i={}),i.interval=o,i.options=ct({},e,{fetchPolicy:"network-only"});var a=function(){var e=r.pollingInfoByQueryId.get(t);e&&(r.checkInFlight(t)?s():r.fetchQuery(t,e.options,Jn.poll).then(s,s))},s=function(){var e=r.pollingInfoByQueryId.get(t);e&&(clearTimeout(e.timeout),e.timeout=setTimeout(a,e.interval))};n&&this.addQueryListener(t,n),s()}return t},e.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},e}(),sr=function(){function e(e){this.cache=e}return e.prototype.getCache=function(){return this.cache},e.prototype.markQueryResult=function(e,t,n,r,o){void 0===o&&(o=!1);var i=!cn(e);o&&cn(e)&&e.data&&(i=!0),!r&&i&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:n})},e.prototype.markSubscriptionResult=function(e,t,n){cn(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:n})},e.prototype.markMutationInit=function(e){var t,n=this;e.optimisticResponse&&(t="function"==typeof e.optimisticResponse?e.optimisticResponse(e.variables):e.optimisticResponse,this.cache.recordOptimisticTransaction(function(r){var o=n.cache;n.cache=r;try{n.markMutationResult({mutationId:e.mutationId,result:{data:t},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{n.cache=o}},e.mutationId))},e.prototype.markMutationResult=function(e){var t=this;if(!cn(e.result)){var n=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],r=e.updateQueries;r&&Object.keys(r).forEach(function(o){var i=r[o],a=i.query,s=i.updater,c=t.cache.diff({query:a.document,variables:a.variables,returnPartialData:!0,optimistic:!1}),u=c.result;if(c.complete){var l=sn(function(){return s(u,{mutationResult:e.result,queryName:Bt(a.document)||void 0,queryVariables:a.variables})});l&&n.push({result:l,dataId:"ROOT_QUERY",query:a.document,variables:a.variables})}}),this.cache.performTransaction(function(t){n.forEach(function(e){return t.write(e)});var r=e.update;r&&sn(function(){return r(t,e.result)})})}},e.prototype.markMutationComplete=function(e){var t=e.mutationId;e.optimisticResponse&&this.cache.removeOptimistic(t)},e.prototype.markUpdateQueryResult=function(e,t,n){this.cache.write({result:n,dataId:"ROOT_QUERY",variables:t,query:e})},e.prototype.reset=function(){return this.cache.reset()},e}(),cr="2.6.4",ur=!1,lr=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.cache,r=e.ssrMode,o=void 0!==r&&r,i=e.ssrForceFetchDelay,a=void 0===i?0:i,s=e.connectToDevTools,c=e.queryDeduplication,u=void 0===c||c,l=e.defaultOptions,d=e.assumeImmutableResults,f=void 0!==d&&d,h=e.resolvers,p=e.typeDefs,v=e.fragmentMatcher,m=e.name,y=e.version,g=e.link;if(!g&&h&&(g=jn.empty()),!g||!n)throw"production"===process.env.NODE_ENV?new pt(1):new pt("In order to initialize Apollo Client, you must specify 'link' and 'cache' properties in the options object.\nThese options are part of the upgrade requirements when migrating from Apollo Client 1.x to Apollo Client 2.x.\nFor more information, please visit: https://www.apollographql.com/docs/tutorial/client.html#apollo-client-setup");this.link=g,this.cache=n,this.store=new sr(n),this.disableNetworkFetches=o||a>0,this.queryDeduplication=u,this.defaultOptions=l||{},this.typeDefs=p,a&&setTimeout(function(){return t.disableNetworkFetches=!1},a),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var b="production"!==process.env.NODE_ENV&&"undefined"!=typeof window&&!window.__APOLLO_CLIENT__;(void 0===s?b:s&&"undefined"!=typeof window)&&(window.__APOLLO_CLIENT__=this),ur||"production"===process.env.NODE_ENV||(ur=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&void 0===window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("Chrome")>-1&&console.debug("Download the Apollo DevTools for a better development experience: https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm")),this.version=cr,this.localState=new rr({cache:n,client:this,resolvers:h,fragmentMatcher:v}),this.queryManager=new ar({link:this.link,store:this.store,queryDeduplication:u,ssrMode:o,clientAwareness:{name:m,version:y},localState:this.localState,assumeImmutableResults:f,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.queryStore.getStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(!0)})}})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=ct({},this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=ct({},e,{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=ct({},this.defaultOptions.query,e)),"production"===process.env.NODE_ENV?vt("cache-and-network"!==e.fetchPolicy,2):vt("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=ct({},e,{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=ct({},this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeData=function(e){var t=this.cache.writeData(e);return this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return Vn(this.link,e)},e.prototype.initQueryManager=function(){return"production"===process.env.NODE_ENV||vt.warn("Calling the initQueryManager method is no longer necessary, and it will be removed from ApolloClient in version 3.0."),this.queryManager},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(e){return e()}))}).then(function(){return e.reFetchObservableQueries()})},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(e){return e()}))})},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(t){return t!==e})}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(t){return t!==e})}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e}();function dr(e){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:fr(e)}]}}function fr(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return null;if(Array.isArray(e))return fr(e[0]);var t=[];return Object.keys(e).forEach(function(n){var r={kind:"Field",name:{kind:"Name",value:n},selectionSet:fr(e[n])||void 0};t.push(r)}),{kind:"SelectionSet",selections:t}}var hr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},pr=function(){function e(){}return e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:Qt(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},e.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},e.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Qt(e.fragment,e.fragmentName)})},e.prototype.writeData=function(e){var t,n,r=e.id,o=e.data;if(void 0!==r){var i=null;try{i=this.read({rootId:r,optimistic:!1,query:hr})}catch(e){}var a=i&&i.__typename||"__ClientData",s=Object.assign({__typename:a},o);this.writeFragment({id:r,fragment:(t=s,n=a,{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:n||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:fr(t)}]}),data:s})}else this.writeQuery({query:dr(o),data:o})},e}(),vr=null,mr={},yr=1,gr=Array,br=gr["@wry/context:Slot"]||function(){var e=function(){function e(){this.id=["slot",yr++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=vr;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===mr)break;return e!==vr&&(vr.slots[this.id]=t),!0}return vr&&(vr.slots[this.id]=mr),!1},e.prototype.getValue=function(){if(this.hasValue())return vr.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var o,i=((o={__proto__:null})[this.id]=e,o),a=vr;vr={parent:a,slots:i};try{return t.apply(r,n)}finally{vr=a}},e.bind=function(e){var t=vr;return function(){var n=vr;try{return vr=t,e.apply(this,arguments)}finally{vr=n}}},e.noContext=function(e,t,n){if(!vr)return e.apply(n,t);var r=vr;try{return vr=null,e.apply(n,t)}finally{vr=r}},e}();try{Object.defineProperty(gr,"@wry/context:Slot",{value:gr["@wry/context:Slot"]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();br.bind,br.noContext;function wr(){}var Er=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=wr),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},e.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getEntry(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),Sr=new br,_r=[],kr=[],Or=100;function Ir(e,t){if(!e)throw new Error(t||"assertion failure")}function Nr(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var Tr=function(){function e(t,n){this.fn=t,this.args=n,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++e.count}return e.prototype.recompute=function(){if(Ir(!this.recomputing,"already recomputing"),function(e){var t=Sr.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),Cr(e)?$r(t,e):Rr(t,e),t}(this)||!Lr(this))return Cr(this)?function(e){var t=Pr(e);Sr.withValue(e,Dr,[e]),function(e){if("function"==typeof e.subscribe)try{Qr(e),e.unsubscribe=e.subscribe.apply(null,e.args)}catch(t){return e.setDirty(),!1}return!0}(e)&&function(e){if(e.dirty=!1,Cr(e))return;Mr(e)}(e);return t.forEach(Lr),Nr(e.value)}(this):Nr(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,xr(this),Qr(this))},e.prototype.dispose=function(){var e=this;Pr(this).forEach(Lr),Qr(this),this.parents.forEach(function(t){t.setDirty(),qr(t,e)})},e.count=0,e}();function Dr(e){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,e.args)}catch(t){e.value[1]=t}e.recomputing=!1}function Cr(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function xr(e){e.parents.forEach(function(t){return $r(t,e)})}function Mr(e){e.parents.forEach(function(t){return Rr(t,e)})}function $r(e,t){if(Ir(e.childValues.has(t)),Ir(Cr(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=kr.pop()||new Set;e.dirtyChildren.add(t),xr(e)}function Rr(e,t){Ir(e.childValues.has(t)),Ir(!Cr(t));var n,r,o,i=e.childValues.get(t);0===i.length?e.childValues.set(t,t.value.slice(0)):(n=i,r=t.value,(o=n.length)>0&&o===r.length&&n[o-1]===r[o-1]||e.setDirty()),Ar(e,t),Cr(e)||Mr(e)}function Ar(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(kr.length<Or&&kr.push(n),e.dirtyChildren=null))}function Lr(e){return 0===e.parents.size&&"function"==typeof e.reportOrphan&&!0===e.reportOrphan()}function Pr(e){var t=_r;return e.childValues.size>0&&(t=[],e.childValues.forEach(function(n,r){qr(e,r),t.push(r)})),Ir(null===e.dirtyChildren),t}function qr(e,t){t.parents.delete(e),e.childValues.delete(t),Ar(e,t)}function Qr(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var Fr=function(){function e(e){this.weakness=e}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return e.forEach(function(e){return t=t.getChildTrie(e)}),t.data||(t.data=Object.create(null))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness)),r},e}();var jr=new Fr("function"==typeof WeakMap);function Vr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return jr.lookupArray(e)}var Br=new Set;function Ur(e,t){void 0===t&&(t=Object.create(null));var n=new Er(t.max||Math.pow(2,16),function(e){return e.dispose()}),r=!!t.disposable,o=t.makeCacheKey||Vr;function i(){if(!r||Sr.hasValue()){var i=o.apply(null,arguments);if(!i)return e.apply(null,arguments);var a=Array.prototype.slice.call(arguments),s=n.get(i);s?s.args=a:(s=new Tr(e,a),n.set(i,s),s.subscribe=t.subscribe,r&&(s.reportOrphan=function(){return n.delete(i)}));var c=s.recompute();return n.set(i,s),Br.add(n),Sr.hasValue()||(Br.forEach(function(e){return e.clean()}),Br.clear()),r?void 0:c}}return i.dirty=function(){var e=o.apply(null,arguments),t=e&&n.get(e);t&&t.setDirty()},i}var Gr=!1;function Yr(){var e=!Gr;return an()||(Gr=!0),e}var Hr=function(){function e(){}return e.prototype.ensureReady=function(){return Promise.resolve()},e.prototype.canBypassInit=function(){return!0},e.prototype.match=function(e,t,n){var r=n.store.get(e.id),o="ROOT_QUERY"===e.id;if(!r)return o;var i=r.__typename,a=void 0===i?o&&"Query":i;return a?a===t||(Yr()&&("production"===process.env.NODE_ENV||vt.error("You are using the simple (heuristic) fragment matcher, but your queries contain union or interface types. Apollo Client will not be able to accurately map fragments. To make this error go away, use the `IntrospectionFragmentMatcher` as described in the docs: https://www.apollographql.com/docs/react/advanced/fragments.html#fragment-matcher")),"heuristic"):(Yr()&&("production"===process.env.NODE_ENV||vt.warn("You're using fragments in your queries, but either don't have the addTypename:\n  true option set in Apollo Client, or you are trying to write a fragment to the store without the __typename.\n   Please turn on the addTypename option and include __typename when writing fragments so that Apollo Client\n   can accurately match fragments."),"production"===process.env.NODE_ENV||vt.warn("Could not find __typename on Fragment ",t,r),"production"===process.env.NODE_ENV||vt.warn("DEPRECATION WARNING: using fragments without __typename is unsupported behavior and will be removed in future versions of Apollo client. You should fix this and set addTypename to true now.")),"heuristic")},e}(),Jr=Object.prototype.hasOwnProperty,zr=function(){function e(e){var t=this;void 0===e&&(e=Object.create(null)),this.data=e,this.depend=Ur(function(e){return t.data[e]},{disposable:!0,makeCacheKey:function(e){return e}})}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.depend(e),this.data[e]},e.prototype.set=function(e,t){t!==this.data[e]&&(this.data[e]=t,this.depend.dirty(e))},e.prototype.delete=function(e){Jr.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},e.prototype.clear=function(){this.replace(null)},e.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach(function(n){t.set(n,e[n])}),Object.keys(this.data).forEach(function(n){Jr.call(e,n)||t.delete(n)})):Object.keys(this.data).forEach(function(e){t.delete(e)})},e}();function Wr(e){return new zr(e)}var Kr=function(){function e(e){var t=this,n=void 0===e?{}:e,r=n.cacheKeyRoot,o=void 0===r?new Fr(tn):r,i=n.freezeResults,a=void 0!==i&&i,s=this.executeStoreQuery,c=this.executeSelectionSet,u=this.executeSubSelectedArray;this.freezeResults=a,this.executeStoreQuery=Ur(function(e){return s.call(t,e)},{makeCacheKey:function(e){var t=e.query,n=e.rootValue,r=e.contextValue,i=e.variableValues,a=e.fragmentMatcher;if(r.store instanceof zr)return o.lookup(r.store,t,a,JSON.stringify(i),n.id)}}),this.executeSelectionSet=Ur(function(e){return c.call(t,e)},{makeCacheKey:function(e){var t=e.selectionSet,n=e.rootValue,r=e.execContext;if(r.contextValue.store instanceof zr)return o.lookup(r.contextValue.store,t,r.fragmentMatcher,JSON.stringify(r.variableValues),n.id)}}),this.executeSubSelectedArray=Ur(function(e){return u.call(t,e)},{makeCacheKey:function(e){var t=e.field,n=e.array,r=e.execContext;if(r.contextValue.store instanceof zr)return o.lookup(r.contextValue.store,t,n,JSON.stringify(r.variableValues))}})}return e.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(ct({},e,{returnPartialData:!1})).result},e.prototype.diffQueryAgainstStore=function(e){var t,n=e.store,r=e.query,o=e.variables,i=e.previousResult,a=e.returnPartialData,s=void 0===a||a,c=e.rootId,u=void 0===c?"ROOT_QUERY":c,l=e.fragmentMatcherFunction,d=e.config;o=Ft({},Ht((t=Vt(r),"production"===process.env.NODE_ENV?vt(t&&"query"===t.operation,12):vt(t&&"query"===t.operation,"Must contain a query definition."),t)),o);var f={store:n,dataIdFromObject:d&&d.dataIdFromObject,cacheRedirects:d&&d.cacheRedirects||{}},h=this.executeStoreQuery({query:r,rootValue:{type:"id",id:u,generated:!0,typename:"Query"},contextValue:f,variableValues:o,fragmentMatcher:l}),p=h.missing&&h.missing.length>0;return p&&!s&&h.missing.forEach(function(e){if(!e.tolerable)throw"production"===process.env.NODE_ENV?new pt(8):new pt("Can't find field "+e.fieldName+" on object "+JSON.stringify(e.object,null,2)+".")}),i&&_t(i,h.result)&&(h.result=i),{result:h.result,complete:!p}},e.prototype.executeStoreQuery=function(e){var t=e.query,n=e.rootValue,r=e.contextValue,o=e.variableValues,i=e.fragmentMatcher,a=void 0===i?Zr:i,s=Gt(t),c={query:t,fragmentMap:Yt(Ut(t)),contextValue:r,variableValues:o,fragmentMatcher:a};return this.executeSelectionSet({selectionSet:s.selectionSet,rootValue:n,execContext:c})},e.prototype.executeSelectionSet=function(e){var t=this,n=e.selectionSet,r=e.rootValue,o=e.execContext,i=o.fragmentMap,a=o.contextValue,s=o.variableValues,c={result:null},u=[],l=a.store.get(r.id),d=l&&l.__typename||"ROOT_QUERY"===r.id&&"Query"||void 0;function f(e){var t;return e.missing&&(c.missing=c.missing||[],(t=c.missing).push.apply(t,e.missing)),e.result}return n.selections.forEach(function(e){var n;if(At(e,s))if(Ct(e)){var c=f(t.executeField(l,d,e,o));void 0!==c&&u.push(((n={})[Dt(e)]=c,n))}else{var h=void 0;if(xt(e))h=e;else if(!(h=i[e.name.value]))throw"production"===process.env.NODE_ENV?new pt(9):new pt("No fragment named "+e.name.value);var p=h.typeCondition&&h.typeCondition.name.value,v=!p||o.fragmentMatcher(r,p,a);if(v){var m=t.executeSelectionSet({selectionSet:h.selectionSet,rootValue:r,execContext:o});"heuristic"===v&&m.missing&&(m=ct({},m,{missing:m.missing.map(function(e){return ct({},e,{tolerable:!0})})})),u.push(f(m))}}}),c.result=hn(u),this.freezeResults&&"production"!==process.env.NODE_ENV&&Object.freeze(c.result),c},e.prototype.executeField=function(e,t,n,r){var o=r.variableValues,i=r.contextValue,a=function(e,t,n,r,o,i){i.resultKey;var a=i.directives,s=n;(r||a)&&(s=Nt(s,r,a));var c=void 0;if(e&&void 0===(c=e[s])&&o.cacheRedirects&&"string"==typeof t){var u=o.cacheRedirects[t];if(u){var l=u[n];l&&(c=l(e,r,{getCacheKey:function(e){var t=o.dataIdFromObject(e);return t&&$t({id:t,typename:e.__typename})}}))}}if(void 0===c)return{result:c,missing:[{object:e,fieldName:s,tolerable:!1}]};d=c,null!=d&&"object"==typeof d&&"json"===d.type&&(c=c.json);var d;return{result:c}}(e,t,n.name.value,Tt(n,o),i,{resultKey:Dt(n),directives:Rt(n,o)});return Array.isArray(a.result)?this.combineExecResults(a,this.executeSubSelectedArray({field:n,array:a.result,execContext:r})):n.selectionSet?null==a.result?a:this.combineExecResults(a,this.executeSelectionSet({selectionSet:n.selectionSet,rootValue:a.result,execContext:r})):(Xr(n,a.result),this.freezeResults&&"production"!==process.env.NODE_ENV&&un(a),a)},e.prototype.combineExecResults=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach(function(t){t.missing&&(e=e||[]).push.apply(e,t.missing)}),{result:t.pop().result,missing:e}},e.prototype.executeSubSelectedArray=function(e){var t,n=this,r=e.field,o=e.array,i=e.execContext;function a(e){return e.missing&&(t=t||[]).push.apply(t,e.missing),e.result}return o=o.map(function(e){return null===e?null:Array.isArray(e)?a(n.executeSubSelectedArray({field:r,array:e,execContext:i})):r.selectionSet?a(n.executeSelectionSet({selectionSet:r.selectionSet,rootValue:e,execContext:i})):(Xr(r,e),e)}),this.freezeResults&&"production"!==process.env.NODE_ENV&&Object.freeze(o),{result:o,missing:t}},e}();function Xr(e,t){if(!e.selectionSet&&Mt(t))throw"production"===process.env.NODE_ENV?new pt(10):new pt("Missing selection set for object of type "+t.typename+" returned for query field "+e.name.value)}function Zr(){return!0}var eo=function(){function e(e){void 0===e&&(e=Object.create(null)),this.data=e}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){this.data[e]=t},e.prototype.delete=function(e){this.data[e]=void 0},e.prototype.clear=function(){this.data=Object.create(null)},e.prototype.replace=function(e){this.data=e||Object.create(null)},e}(),to=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="WriteError",t}return st(t,e),t}(Error);var no=function(){function e(){}return e.prototype.writeQueryToStore=function(e){var t=e.query,n=e.result,r=e.store,o=void 0===r?Wr():r,i=e.variables,a=e.dataIdFromObject,s=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:n,document:t,store:o,variables:i,dataIdFromObject:a,fragmentMatcherFunction:s})},e.prototype.writeResultToStore=function(e){var t=e.dataId,n=e.result,r=e.document,o=e.store,i=void 0===o?Wr():o,a=e.variables,s=e.dataIdFromObject,c=e.fragmentMatcherFunction,u=Vt(r);try{return this.writeSelectionSetToStore({result:n,dataId:t,selectionSet:u.selectionSet,context:{store:i,processedData:{},variables:Ft({},Ht(u),a),dataIdFromObject:s,fragmentMap:Yt(Ut(r)),fragmentMatcherFunction:c}})}catch(e){throw function(e,t){var n=new to("Error writing result to store for query:\n "+JSON.stringify(t));return n.message+="\n"+e.message,n.stack=e.stack,n}(e,r)}},e.prototype.writeSelectionSetToStore=function(e){var t=this,n=e.result,r=e.dataId,o=e.selectionSet,i=e.context,a=i.variables,s=i.store,c=i.fragmentMap;return o.selections.forEach(function(e){var o;if(At(e,a))if(Ct(e)){var s=Dt(e),u=n[s];if(void 0!==u)t.writeFieldToStore({dataId:r,value:u,field:e,context:i});else{var l=!1,d=!1;e.directives&&e.directives.length&&(l=e.directives.some(function(e){return e.name&&"defer"===e.name.value}),d=e.directives.some(function(e){return e.name&&"client"===e.name.value})),l||d||!i.fragmentMatcherFunction||"production"===process.env.NODE_ENV||vt.warn("Missing field "+s+" in "+JSON.stringify(n,null,2).substring(0,100))}}else{var f=void 0;xt(e)?f=e:(f=(c||{})[e.name.value],"production"===process.env.NODE_ENV?vt(f,2):vt(f,"No fragment named "+e.name.value+"."));var h=!0;if(i.fragmentMatcherFunction&&f.typeCondition){var p=r||"self",v=$t({id:p,typename:void 0}),m={store:new eo((o={},o[p]=n,o)),cacheRedirects:{}},y=i.fragmentMatcherFunction(v,f.typeCondition.name.value,m);!0!==on("production")&&"heuristic"===y&&("production"===process.env.NODE_ENV||vt.error("WARNING: heuristic fragment matching going on!")),h=!!y}h&&t.writeSelectionSetToStore({result:n,selectionSet:f.selectionSet,dataId:r,context:i})}}),s},e.prototype.writeFieldToStore=function(e){var t,n,r,o=e.field,i=e.value,a=e.dataId,s=e.context,c=s.variables,u=s.dataIdFromObject,l=s.store,d=function(e,t){var n=null;e.directives&&(n={},e.directives.forEach(function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach(function(r){var o=r.name,i=r.value;return Ot(n[e.name.value],o,i,t)})}));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach(function(e){var n=e.name,o=e.value;return Ot(r,n,o,t)})),Nt(e.name.value,r,n)}(o,c);if(o.selectionSet&&null!==i)if(Array.isArray(i)){var f=a+"."+d;n=this.processArrayValue(i,f,o.selectionSet,s)}else{var h=a+"."+d,p=!0;if(ro(h)||(h="$"+h),u){var v=u(i);"production"===process.env.NODE_ENV?vt(!v||!ro(v),3):vt(!v||!ro(v),'IDs returned by dataIdFromObject cannot begin with the "$" character.'),(v||"number"==typeof v&&0===v)&&(h=v,p=!1)}oo(h,o,s.processedData)||this.writeSelectionSetToStore({dataId:h,result:i,selectionSet:o.selectionSet,context:s});var m=i.__typename;n=$t({id:h,typename:m},p);var y=(r=l.get(a))&&r[d];if(y!==n&&Mt(y)){var g=void 0!==y.typename,b=void 0!==m,w=g&&b&&y.typename!==m;"production"===process.env.NODE_ENV?vt(!p||y.generated||w,4):vt(!p||y.generated||w,"Store error: the application attempted to write an object with no provided id but the store already contains an id of "+y.id+" for this object. The selectionSet that was trying to be written is:\n"+JSON.stringify(o)),"production"===process.env.NODE_ENV?vt(!g||b,5):vt(!g||b,"Store error: the application attempted to write an object with no provided typename but the store already contains an object with typename of "+y.typename+" for the object of id "+y.id+". The selectionSet that was trying to be written is:\n"+JSON.stringify(o)),y.generated&&(w?p||l.delete(y.id):function e(t,n,r){if(t===n)return!1;var o=r.get(t);var i=r.get(n);var a=!1;Object.keys(o).forEach(function(t){var n=o[t],s=i[t];Mt(n)&&ro(n.id)&&Mt(s)&&!_t(n,s)&&e(n.id,s.id,r)&&(a=!0)});r.delete(t);var s=ct({},o,i);if(_t(s,i))return a;r.set(n,s);return!0}(y.id,n.id,l))}}else n=null!=i&&"object"==typeof i?{type:"json",json:i}:i;(r=l.get(a))&&_t(n,r[d])||l.set(a,ct({},r,((t={})[d]=n,t)))},e.prototype.processArrayValue=function(e,t,n,r){var o=this;return e.map(function(e,i){if(null===e)return null;var a=t+"."+i;if(Array.isArray(e))return o.processArrayValue(e,a,n,r);var s=!0;if(r.dataIdFromObject){var c=r.dataIdFromObject(e);c&&(a=c,s=!1)}return oo(a,n,r.processedData)||o.writeSelectionSetToStore({dataId:a,result:e,selectionSet:n,context:r}),$t({id:a,typename:e.__typename},s)})},e}();function ro(e){return"$"===e[0]}function oo(e,t,n){if(!n)return!1;if(n[e]){if(n[e].indexOf(t)>=0)return!0;n[e].push(t)}else n[e]=[t];return!1}var io={fragmentMatcher:new Hr,dataIdFromObject:function(e){if(e.__typename){if(void 0!==e.id)return e.__typename+":"+e.id;if(void 0!==e._id)return e.__typename+":"+e._id}return null},addTypename:!0,resultCaching:!0,freezeResults:!1};var ao=Object.prototype.hasOwnProperty,so=function(e){function t(t,n,r){var o=e.call(this,Object.create(null))||this;return o.optimisticId=t,o.parent=n,o.transaction=r,o}return st(t,e),t.prototype.toObject=function(){return ct({},this.parent.toObject(),this.data)},t.prototype.get=function(e){return ao.call(this.data,e)?this.data[e]:this.parent.get(e)},t}(eo),co=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n.watches=new Set,n.typenameDocumentCache=new Map,n.cacheKeyRoot=new Fr(tn),n.silenceBroadcast=!1,n.config=ct({},io,t),n.config.customResolvers&&("production"===process.env.NODE_ENV||vt.warn("customResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating customResolvers in the next major version."),n.config.cacheRedirects=n.config.customResolvers),n.config.cacheResolvers&&("production"===process.env.NODE_ENV||vt.warn("cacheResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating cacheResolvers in the next major version."),n.config.cacheRedirects=n.config.cacheResolvers),n.addTypename=!!n.config.addTypename,n.data=n.config.resultCaching?new zr:new eo,n.optimisticData=n.data,n.storeWriter=new no,n.storeReader=new Kr({cacheKeyRoot:n.cacheKeyRoot,freezeResults:t.freezeResults});var r=n,o=r.maybeBroadcastWatch;return n.maybeBroadcastWatch=Ur(function(e){return o.call(n,e)},{makeCacheKey:function(e){if(!e.optimistic&&!e.previousResult)return r.data instanceof zr?r.cacheKeyRoot.lookup(e.query,JSON.stringify(e.variables)):void 0}}),n}return st(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).toObject()},t.prototype.read=function(e){if("string"==typeof e.rootId&&void 0===this.data.get(e.rootId))return null;var t=this.config.fragmentMatcher,n=t&&t.match;return this.storeReader.readQueryFromStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,rootId:e.rootId,fragmentMatcherFunction:n,previousResult:e.previousResult,config:this.config})||null},t.prototype.write=function(e){var t=this.config.fragmentMatcher,n=t&&t.match;this.storeWriter.writeResultToStore({dataId:e.dataId,result:e.result,variables:e.variables,document:this.transformDocument(e.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:n}),this.broadcastWatches()},t.prototype.diff=function(e){var t=this.config.fragmentMatcher,n=t&&t.match;return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,returnPartialData:e.returnPartialData,previousResult:e.previousResult,fragmentMatcherFunction:n,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.add(e),function(){t.watches.delete(e)}},t.prototype.evict=function(e){throw"production"===process.env.NODE_ENV?new pt(1):new pt("eviction is not implemented on InMemory Cache")},t.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){for(var t=[],n=0,r=this.optimisticData;r instanceof so;)r.optimisticId===e?++n:t.push(r),r=r.parent;if(n>0){for(this.optimisticData=r;t.length>0;){var o=t.pop();this.performTransaction(o.transaction,o.optimisticId)}this.broadcastWatches()}},t.prototype.performTransaction=function(e,t){var n=this.data,r=this.silenceBroadcast;this.silenceBroadcast=!0,"string"==typeof t&&(this.data=this.optimisticData=new so(t,this.optimisticData,e));try{e(this)}finally{this.silenceBroadcast=r,this.data=n}this.broadcastWatches()},t.prototype.recordOptimisticTransaction=function(e,t){return this.performTransaction(e,t)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=rt(jt(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r&&!r.some(function(e){return Ct(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))})){var o=n;if(!(Ct(o)&&o.directives&&o.directives.some(function(e){return"export"===e.name.value})))return ct({},e,{selections:r.concat([zt])})}}}}}),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(){var e=this;this.silenceBroadcast||this.watches.forEach(function(t){return e.maybeBroadcastWatch(t)})},t.prototype.maybeBroadcastWatch=function(e){e.callback(this.diff({query:e.query,variables:e.variables,previousResult:e.previousResult&&e.previousResult(),optimistic:e.optimistic}))},t}(pr);function uo(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t=null,n=1;n<e.length;n++){var r=e[n],o=lo(r);if(o!==r.length&&((null===t||o<t)&&0===(t=o)))break}return null===t?0:t}(t);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(;t.length>0&&fo(t[0]);)t.shift();for(;t.length>0&&fo(t[t.length-1]);)t.pop();return t.join("\n")}function lo(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function fo(e){return lo(e)===e.length}function ho(e){return rt(e,{leave:po})}var po={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return mo(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=go("(",mo(e.variableDefinitions,", "),")"),o=mo(e.directives," "),i=e.selectionSet;return n||o||r||"query"!==t?mo([t,mo([n,r]),o,i]," "):i},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,o=e.directives;return t+": "+n+go(" = ",r)+go(" ",mo(o," "))},SelectionSet:function(e){return yo(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,o=e.directives,i=e.selectionSet;return mo([go("",t,": ")+n+go("(",mo(r,", "),")"),mo(o," "),i]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+go(" ",mo(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return mo(["...",go("on ",t),mo(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,o=e.directives,i=e.selectionSet;return"fragment ".concat(t).concat(go("(",mo(r,", "),")")," ")+"on ".concat(n," ").concat(go("",mo(o," ")," "))+i},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),o=" "===e[0]||"\t"===e[0],i='"'===e[e.length-1],a=!r||i||n,s="";return!a||r&&o||(s+="\n"+t),s+=t?e.replace(/\n/g,"\n"+t):e,a&&(s+="\n"),'"""'+s.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+mo(e.values,", ")+"]"},ObjectValue:function(e){return"{"+mo(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+go("(",mo(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return mo(["schema",mo(t," "),yo(n)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:vo(function(e){return mo(["scalar",e.name,mo(e.directives," ")]," ")}),ObjectTypeDefinition:vo(function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return mo(["type",t,go("implements ",mo(n," & ")),mo(r," "),yo(o)]," ")}),FieldDefinition:vo(function(e){var t=e.name,n=e.arguments,r=e.type,o=e.directives;return t+(Eo(n)?go("(\n",bo(mo(n,"\n")),"\n)"):go("(",mo(n,", "),")"))+": "+r+go(" ",mo(o," "))}),InputValueDefinition:vo(function(e){var t=e.name,n=e.type,r=e.defaultValue,o=e.directives;return mo([t+": "+n,go("= ",r),mo(o," ")]," ")}),InterfaceTypeDefinition:vo(function(e){var t=e.name,n=e.directives,r=e.fields;return mo(["interface",t,mo(n," "),yo(r)]," ")}),UnionTypeDefinition:vo(function(e){var t=e.name,n=e.directives,r=e.types;return mo(["union",t,mo(n," "),r&&0!==r.length?"= "+mo(r," | "):""]," ")}),EnumTypeDefinition:vo(function(e){var t=e.name,n=e.directives,r=e.values;return mo(["enum",t,mo(n," "),yo(r)]," ")}),EnumValueDefinition:vo(function(e){return mo([e.name,mo(e.directives," ")]," ")}),InputObjectTypeDefinition:vo(function(e){var t=e.name,n=e.directives,r=e.fields;return mo(["input",t,mo(n," "),yo(r)]," ")}),DirectiveDefinition:vo(function(e){var t=e.name,n=e.arguments,r=e.repeatable,o=e.locations;return"directive @"+t+(Eo(n)?go("(\n",bo(mo(n,"\n")),"\n)"):go("(",mo(n,", "),")"))+(r?" repeatable":"")+" on "+mo(o," | ")}),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return mo(["extend schema",mo(t," "),yo(n)]," ")},ScalarTypeExtension:function(e){return mo(["extend scalar",e.name,mo(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return mo(["extend type",t,go("implements ",mo(n," & ")),mo(r," "),yo(o)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return mo(["extend interface",t,mo(n," "),yo(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return mo(["extend union",t,mo(n," "),r&&0!==r.length?"= "+mo(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return mo(["extend enum",t,mo(n," "),yo(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return mo(["extend input",t,mo(n," "),yo(r)]," ")}};function vo(e){return function(t){return mo([t.description,e(t)],"\n")}}function mo(e,t){return e?e.filter(function(e){return e}).join(t||""):""}function yo(e){return e&&0!==e.length?"{\n"+bo(mo(e,"\n"))+"\n}":""}function go(e,t,n){return t?e+t+(n||""):""}function bo(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function wo(e){return-1!==e.indexOf("\n")}function Eo(e){return e&&e.some(wo)}var So=Object.freeze({print:ho}),_o={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},ko=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},Oo=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r="production"===process.env.NODE_ENV?new pt(2):new pt("Network request failed. "+t+" is not serializable: "+e.message);throw r.parseError=e,r}return n},Io=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,o=e.includeExtensions,i=e.useGETForQueries,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["uri","fetch","includeExtensions","useGETForQueries"]);!function(e){if(!e&&"undefined"==typeof fetch){var t="unfetch";throw"undefined"==typeof window&&(t="node-fetch"),"production"===process.env.NODE_ENV?new pt(1):new pt("\nfetch is not found globally and no fetcher passed, to fix pass a fetch for\nyour environment like https://www.npmjs.com/package/"+t+".\n\nFor example:\nimport fetch from '"+t+"';\nimport { createHttpLink } from 'apollo-link-http';\n\nconst link = createHttpLink({ uri: '/graphql', fetch: fetch });")}}(r),r||(r=fetch);var s={http:{includeExtensions:o},options:a.fetchOptions,credentials:a.credentials,headers:a.headers};return new jn(function(e){var t=function(e,t){var n=e.getContext().uri;return n||("function"==typeof t?t(e):t||"/graphql")}(e,n),o=e.getContext(),a={};if(o.clientAwareness){var c=o.clientAwareness,u=c.name,l=c.version;u&&(a["apollographql-client-name"]=u),l&&(a["apollographql-client-version"]=l)}var d,f=ct({},a,o.headers),h={http:o.http,options:o.fetchOptions,credentials:o.credentials,headers:f},p=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=ct({},t.options,{headers:t.headers,credentials:t.credentials}),i=t.http;n.forEach(function(e){o=ct({},o,e.options,{headers:ct({},o.headers,e.headers)}),e.credentials&&(o.credentials=e.credentials),i=ct({},i,e.http)});var a=e.operationName,s=e.extensions,c=e.variables,u=e.query,l={operationName:a,variables:c};return i.includeExtensions&&(l.extensions=s),i.includeQuery&&(l.query=ho(u)),{options:o,body:l}}(e,_o,s,h),v=p.options,m=p.body;if(!v.signal){var y=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),g=y.controller,b=y.signal;(d=g)&&(v.signal=b)}if(i&&!e.query.definitions.some(function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})&&(v.method="GET"),"GET"===v.method){var w=function(e,t){var n=[],r=function(e,t){n.push(e+"="+encodeURIComponent(t))};"query"in t&&r("query",t.query);t.operationName&&r("operationName",t.operationName);if(t.variables){var o=void 0;try{o=Oo(t.variables,"Variables map")}catch(e){return{parseError:e}}r("variables",o)}if(t.extensions){var i=void 0;try{i=Oo(t.extensions,"Extensions map")}catch(e){return{parseError:e}}r("extensions",i)}var a="",s=e,c=e.indexOf("#");-1!==c&&(a=e.substr(c),s=e.substr(0,c));var u=-1===s.indexOf("?")?"?":"&";return{newURI:s+u+n.join("&")+a}}(t,m),E=w.newURI,S=w.parseError;if(S)return $n(S);t=E}else try{v.body=Oo(m,"Payload")}catch(S){return $n(S)}return new Cn(function(n){var o;return r(t,v).then(function(t){return e.setContext({response:t}),t}).then((o=e,function(e){return e.text().then(function(t){try{return JSON.parse(t)}catch(r){var n=r;return n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,Promise.reject(n)}}).then(function(t){return e.status>=300&&ko(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||t.hasOwnProperty("data")||t.hasOwnProperty("errors")||ko(e,t,"Server response was missing for query '"+(Array.isArray(o)?o.map(function(e){return e.operationName}):o.operationName)+"'."),t})})).then(function(e){return n.next(e),n.complete(),e}).catch(function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))}),function(){d&&d.abort()}})})};var No=function(e){function t(t){return e.call(this,Io(t).request)||this}return st(t,e),t}(jn);function To(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.prototype.toString;e.prototype.toJSON=t,e.prototype.inspect=t,ze&&(e.prototype[ze]=t)}function Do(e,t){if(!Boolean(e))throw new Error(t)}var Co,xo=function(e,t,n){this.body=e,this.name=t||"GraphQL request",this.locationOffset=n||{line:1,column:1},this.locationOffset.line>0||Do(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||Do(0,"column in locationOffset is 1-indexed and must be positive")};function Mo(e){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $o(e,t){for(var n,r=/\r\n|[\n\r]/g,o=1,i=t+1;(n=r.exec(e.body))&&n.index<t;)o+=1,i=t+1-(n.index+n[0].length);return{line:o,column:i}}function Ro(e){return Ao(e.source,$o(e.source,e.start))}function Ao(e,t){var n=e.locationOffset.column-1,r=Po(n)+e.body,o=t.line-1,i=e.locationOffset.line-1,a=t.line+i,s=1===t.line?n:0,c=t.column+s,u="".concat(e.name,":").concat(a,":").concat(c,"\n"),l=r.split(/\r\n|[\n\r]/g),d=l[o];if(d.length>120){for(var f=Math.floor(c/80),h=c%80,p=[],v=0;v<d.length;v+=80)p.push(d.slice(v,v+80));return u+Lo([["".concat(a),p[0]]].concat(p.slice(1,f+1).map(function(e){return["",e]}),[[" ",Po(h-1)+"^"],["",p[f+1]]]))}return u+Lo([["".concat(a-1),l[o-1]],["".concat(a),d],["",Po(c-1)+"^"],["".concat(a+1),l[o+1]]])}function Lo(e){var t=e.filter(function(e){e[0];return void 0!==e[1]}),n=Math.max.apply(Math,t.map(function(e){return e[0].length}));return t.map(function(e){var t,r=e[0],o=e[1];return Po(n-(t=r).length)+t+" | "+o}).join("\n")}function Po(e){return Array(e+1).join(" ")}function qo(e,t,n,r,o,i,a){var s=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,c=n;if(!c&&s){var u=s[0];c=u&&u.loc&&u.loc.source}var l,d=r;!d&&s&&(d=s.reduce(function(e,t){return t.loc&&e.push(t.loc.start),e},[])),d&&0===d.length&&(d=void 0),r&&n?l=r.map(function(e){return $o(n,e)}):s&&(l=s.reduce(function(e,t){return t.loc&&e.push($o(t.loc.source,t.loc.start)),e},[]));var f,h=a;if(null==h&&null!=i){var p=i.extensions;"object"==Mo(f=p)&&null!==f&&(h=p)}Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:l||void 0,enumerable:Boolean(l)},path:{value:o||void 0,enumerable:Boolean(o)},nodes:{value:s||void 0},source:{value:c||void 0},positions:{value:d||void 0},originalError:{value:i},extensions:{value:h||void 0,enumerable:Boolean(h)}}),i&&i.stack?Object.defineProperty(this,"stack",{value:i.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,qo):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}function Qo(e,t,n){return new qo("Syntax Error: ".concat(n),void 0,e,[t])}Co=xo,"function"==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Co.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}}),qo.prototype=Object.create(Error.prototype,{constructor:{value:qo},name:{value:"GraphQLError"},toString:{value:function(){return function(e){var t=e.message;if(e.nodes){var n=!0,r=!1,o=void 0;try{for(var i,a=e.nodes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;s.loc&&(t+="\n\n"+Ro(s.loc))}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}else if(e.source&&e.locations){var c=!0,u=!1,l=void 0;try{for(var d,f=e.locations[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var h=d.value;t+="\n\n"+Ao(e.source,h)}}catch(e){u=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}return t}(this)}}});var Fo=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function jo(e,t){var n=new Go(Fo.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:Vo,lookahead:Bo}}function Vo(){return this.lastToken=this.token,this.token=this.lookahead()}function Bo(){var e=this.token;if(e.kind!==Fo.EOF)do{e=e.next||(e.next=Ho(this,e))}while(e.kind===Fo.COMMENT);return e}function Uo(e){var t=e.value;return t?"".concat(e.kind,' "').concat(t,'"'):e.kind}function Go(e,t,n,r,o,i,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=o,this.value=a,this.prev=i,this.next=null}function Yo(e){return isNaN(e)?Fo.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function Ho(e,t){var n=e.source,r=n.body,o=r.length,i=function(e,t,n){var r=e.length,o=t;for(;o<r;){var i=e.charCodeAt(o);if(9===i||32===i||44===i||65279===i)++o;else if(10===i)++o,++n.line,n.lineStart=o;else{if(13!==i)break;10===e.charCodeAt(o+1)?o+=2:++o,++n.line,n.lineStart=o}}return o}(r,t.end,e),a=e.line,s=1+i-e.lineStart;if(i>=o)return new Go(Fo.EOF,o,o,a,s,t);var c=r.charCodeAt(i);switch(c){case 33:return new Go(Fo.BANG,i,i+1,a,s,t);case 35:return function(e,t,n,r,o){var i,a=e.body,s=t;do{i=a.charCodeAt(++s)}while(!isNaN(i)&&(i>31||9===i));return new Go(Fo.COMMENT,t,s,n,r,o,a.slice(t+1,s))}(n,i,a,s,t);case 36:return new Go(Fo.DOLLAR,i,i+1,a,s,t);case 38:return new Go(Fo.AMP,i,i+1,a,s,t);case 40:return new Go(Fo.PAREN_L,i,i+1,a,s,t);case 41:return new Go(Fo.PAREN_R,i,i+1,a,s,t);case 46:if(46===r.charCodeAt(i+1)&&46===r.charCodeAt(i+2))return new Go(Fo.SPREAD,i,i+3,a,s,t);break;case 58:return new Go(Fo.COLON,i,i+1,a,s,t);case 61:return new Go(Fo.EQUALS,i,i+1,a,s,t);case 64:return new Go(Fo.AT,i,i+1,a,s,t);case 91:return new Go(Fo.BRACKET_L,i,i+1,a,s,t);case 93:return new Go(Fo.BRACKET_R,i,i+1,a,s,t);case 123:return new Go(Fo.BRACE_L,i,i+1,a,s,t);case 124:return new Go(Fo.PIPE,i,i+1,a,s,t);case 125:return new Go(Fo.BRACE_R,i,i+1,a,s,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,o){var i=e.body,a=i.length,s=t+1,c=0;for(;s!==a&&!isNaN(c=i.charCodeAt(s))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++s;return new Go(Fo.NAME,t,s,n,r,o,i.slice(t,s))}(n,i,a,s,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,o,i){var a=e.body,s=n,c=t,u=!1;45===s&&(s=a.charCodeAt(++c));if(48===s){if((s=a.charCodeAt(++c))>=48&&s<=57)throw Qo(e,c,"Invalid number, unexpected digit after 0: ".concat(Yo(s),"."))}else c=Jo(e,c,s),s=a.charCodeAt(c);46===s&&(u=!0,s=a.charCodeAt(++c),c=Jo(e,c,s),s=a.charCodeAt(c));69!==s&&101!==s||(u=!0,43!==(s=a.charCodeAt(++c))&&45!==s||(s=a.charCodeAt(++c)),c=Jo(e,c,s));return new Go(u?Fo.FLOAT:Fo.INT,t,c,r,o,i,a.slice(t,c))}(n,i,c,a,s,t);case 34:return 34===r.charCodeAt(i+1)&&34===r.charCodeAt(i+2)?function(e,t,n,r,o,i){var a=e.body,s=t+3,c=s,u=0,l="";for(;s<a.length&&!isNaN(u=a.charCodeAt(s));){if(34===u&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(c,s),new Go(Fo.BLOCK_STRING,t,s+3,n,r,o,uo(l));if(u<32&&9!==u&&10!==u&&13!==u)throw Qo(e,s,"Invalid character within String: ".concat(Yo(u),"."));10===u?(++s,++i.line,i.lineStart=s):13===u?(10===a.charCodeAt(s+1)?s+=2:++s,++i.line,i.lineStart=s):92===u&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(c,s)+'"""',c=s+=4):++s}throw Qo(e,s,"Unterminated string.")}(n,i,a,s,t,e):function(e,t,n,r,o){var i=e.body,a=t+1,s=a,c=0,u="";for(;a<i.length&&!isNaN(c=i.charCodeAt(a))&&10!==c&&13!==c;){if(34===c)return u+=i.slice(s,a),new Go(Fo.STRING,t,a+1,n,r,o,u);if(c<32&&9!==c)throw Qo(e,a,"Invalid character within String: ".concat(Yo(c),"."));if(++a,92===c){switch(u+=i.slice(s,a-1),c=i.charCodeAt(a)){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+="\n";break;case 114:u+="\r";break;case 116:u+="\t";break;case 117:var l=(f=i.charCodeAt(a+1),h=i.charCodeAt(a+2),p=i.charCodeAt(a+3),v=i.charCodeAt(a+4),zo(f)<<12|zo(h)<<8|zo(p)<<4|zo(v));if(l<0){var d=i.slice(a+1,a+5);throw Qo(e,a,"Invalid character escape sequence: \\u".concat(d,"."))}u+=String.fromCharCode(l),a+=4;break;default:throw Qo(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}s=++a}}var f,h,p,v;throw Qo(e,a,"Unterminated string.")}(n,i,a,s,t)}throw Qo(n,i,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(Yo(e),".");if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(Yo(e),".")}(c))}function Jo(e,t,n){var r=e.body,o=t,i=n;if(i>=48&&i<=57){do{i=r.charCodeAt(++o)}while(i>=48&&i<=57);return o}throw Qo(e,o,"Invalid number, expected digit but got: ".concat(Yo(i),"."))}function zo(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}To(Go,function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}});var Wo=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),Ko=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function Xo(e){var t=Pi(e,Fo.NAME);return{kind:Wo.NAME,value:t.value,loc:Ri(e,t)}}function Zo(e){if(Li(e,Fo.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return ei(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return wi(e);case"extend":return function(e){var t=e.lookahead();if(t.kind===Fo.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Qi(e,"extend"),Qi(e,"schema");var n=mi(e,!0),r=Li(e,Fo.BRACE_L)?Bi(e,Fo.BRACE_L,_i,Fo.BRACE_R):[];if(0===n.length&&0===r.length)throw ji(e);return{kind:Wo.SCHEMA_EXTENSION,directives:n,operationTypes:r,loc:Ri(e,t)}}(e);case"scalar":return function(e){var t=e.token;Qi(e,"extend"),Qi(e,"scalar");var n=Xo(e),r=mi(e,!0);if(0===r.length)throw ji(e);return{kind:Wo.SCALAR_TYPE_EXTENSION,name:n,directives:r,loc:Ri(e,t)}}(e);case"type":return function(e){var t=e.token;Qi(e,"extend"),Qi(e,"type");var n=Xo(e),r=ki(e),o=mi(e,!0),i=Oi(e);if(0===r.length&&0===o.length&&0===i.length)throw ji(e);return{kind:Wo.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:o,fields:i,loc:Ri(e,t)}}(e);case"interface":return function(e){var t=e.token;Qi(e,"extend"),Qi(e,"interface");var n=Xo(e),r=mi(e,!0),o=Oi(e);if(0===r.length&&0===o.length)throw ji(e);return{kind:Wo.INTERFACE_TYPE_EXTENSION,name:n,directives:r,fields:o,loc:Ri(e,t)}}(e);case"union":return function(e){var t=e.token;Qi(e,"extend"),Qi(e,"union");var n=Xo(e),r=mi(e,!0),o=Di(e);if(0===r.length&&0===o.length)throw ji(e);return{kind:Wo.UNION_TYPE_EXTENSION,name:n,directives:r,types:o,loc:Ri(e,t)}}(e);case"enum":return function(e){var t=e.token;Qi(e,"extend"),Qi(e,"enum");var n=Xo(e),r=mi(e,!0),o=Ci(e);if(0===r.length&&0===o.length)throw ji(e);return{kind:Wo.ENUM_TYPE_EXTENSION,name:n,directives:r,values:o,loc:Ri(e,t)}}(e);case"input":return function(e){var t=e.token;Qi(e,"extend"),Qi(e,"input");var n=Xo(e),r=mi(e,!0),o=Mi(e);if(0===r.length&&0===o.length)throw ji(e);return{kind:Wo.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:o,loc:Ri(e,t)}}(e)}throw ji(e,t)}(e)}else{if(Li(e,Fo.BRACE_L))return ei(e);if(Ei(e))return wi(e)}throw ji(e)}function ei(e){if(Li(e,Fo.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return ti(e);case"fragment":return function(e){var t=e.token;if(Qi(e,"fragment"),e.options.experimentalFragmentVariables)return{kind:Wo.FRAGMENT_DEFINITION,name:di(e),variableDefinitions:ri(e),typeCondition:(Qi(e,"on"),bi(e)),directives:mi(e,!1),selectionSet:ai(e),loc:Ri(e,t)};return{kind:Wo.FRAGMENT_DEFINITION,name:di(e),typeCondition:(Qi(e,"on"),bi(e)),directives:mi(e,!1),selectionSet:ai(e),loc:Ri(e,t)}}(e)}else if(Li(e,Fo.BRACE_L))return ti(e);throw ji(e)}function ti(e){var t=e.token;if(Li(e,Fo.BRACE_L))return{kind:Wo.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:ai(e),loc:Ri(e,t)};var n,r=ni(e);return Li(e,Fo.NAME)&&(n=Xo(e)),{kind:Wo.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:ri(e),directives:mi(e,!1),selectionSet:ai(e),loc:Ri(e,t)}}function ni(e){var t=Pi(e,Fo.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw ji(e,t)}function ri(e){return Li(e,Fo.PAREN_L)?Bi(e,Fo.PAREN_L,oi,Fo.PAREN_R):[]}function oi(e){var t=e.token;return{kind:Wo.VARIABLE_DEFINITION,variable:ii(e),type:(Pi(e,Fo.COLON),gi(e)),defaultValue:qi(e,Fo.EQUALS)?fi(e,!0):void 0,directives:mi(e,!0),loc:Ri(e,t)}}function ii(e){var t=e.token;return Pi(e,Fo.DOLLAR),{kind:Wo.VARIABLE,name:Xo(e),loc:Ri(e,t)}}function ai(e){var t=e.token;return{kind:Wo.SELECTION_SET,selections:Bi(e,Fo.BRACE_L,si,Fo.BRACE_R),loc:Ri(e,t)}}function si(e){return Li(e,Fo.SPREAD)?function(e){var t=e.token;Pi(e,Fo.SPREAD);var n=Fi(e,"on");if(!n&&Li(e,Fo.NAME))return{kind:Wo.FRAGMENT_SPREAD,name:di(e),directives:mi(e,!1),loc:Ri(e,t)};return{kind:Wo.INLINE_FRAGMENT,typeCondition:n?bi(e):void 0,directives:mi(e,!1),selectionSet:ai(e),loc:Ri(e,t)}}(e):function(e){var t,n,r=e.token,o=Xo(e);qi(e,Fo.COLON)?(t=o,n=Xo(e)):n=o;return{kind:Wo.FIELD,alias:t,name:n,arguments:ci(e,!1),directives:mi(e,!1),selectionSet:Li(e,Fo.BRACE_L)?ai(e):void 0,loc:Ri(e,r)}}(e)}function ci(e,t){var n=t?li:ui;return Li(e,Fo.PAREN_L)?Bi(e,Fo.PAREN_L,n,Fo.PAREN_R):[]}function ui(e){var t=e.token,n=Xo(e);return Pi(e,Fo.COLON),{kind:Wo.ARGUMENT,name:n,value:fi(e,!1),loc:Ri(e,t)}}function li(e){var t=e.token;return{kind:Wo.ARGUMENT,name:Xo(e),value:(Pi(e,Fo.COLON),pi(e)),loc:Ri(e,t)}}function di(e){if("on"===e.token.value)throw ji(e);return Xo(e)}function fi(e,t){var n=e.token;switch(n.kind){case Fo.BRACKET_L:return function(e,t){var n=e.token,r=t?pi:vi;return{kind:Wo.LIST,values:Vi(e,Fo.BRACKET_L,r,Fo.BRACKET_R),loc:Ri(e,n)}}(e,t);case Fo.BRACE_L:return function(e,t){var n=e.token;return{kind:Wo.OBJECT,fields:Vi(e,Fo.BRACE_L,function(){return function(e,t){var n=e.token,r=Xo(e);return Pi(e,Fo.COLON),{kind:Wo.OBJECT_FIELD,name:r,value:fi(e,t),loc:Ri(e,n)}}(e,t)},Fo.BRACE_R),loc:Ri(e,n)}}(e,t);case Fo.INT:return e.advance(),{kind:Wo.INT,value:n.value,loc:Ri(e,n)};case Fo.FLOAT:return e.advance(),{kind:Wo.FLOAT,value:n.value,loc:Ri(e,n)};case Fo.STRING:case Fo.BLOCK_STRING:return hi(e);case Fo.NAME:return"true"===n.value||"false"===n.value?(e.advance(),{kind:Wo.BOOLEAN,value:"true"===n.value,loc:Ri(e,n)}):"null"===n.value?(e.advance(),{kind:Wo.NULL,loc:Ri(e,n)}):(e.advance(),{kind:Wo.ENUM,value:n.value,loc:Ri(e,n)});case Fo.DOLLAR:if(!t)return ii(e)}throw ji(e)}function hi(e){var t=e.token;return e.advance(),{kind:Wo.STRING,value:t.value,block:t.kind===Fo.BLOCK_STRING,loc:Ri(e,t)}}function pi(e){return fi(e,!0)}function vi(e){return fi(e,!1)}function mi(e,t){for(var n=[];Li(e,Fo.AT);)n.push(yi(e,t));return n}function yi(e,t){var n=e.token;return Pi(e,Fo.AT),{kind:Wo.DIRECTIVE,name:Xo(e),arguments:ci(e,t),loc:Ri(e,n)}}function gi(e){var t,n=e.token;return qi(e,Fo.BRACKET_L)?(t=gi(e),Pi(e,Fo.BRACKET_R),t={kind:Wo.LIST_TYPE,type:t,loc:Ri(e,n)}):t=bi(e),qi(e,Fo.BANG)?{kind:Wo.NON_NULL_TYPE,type:t,loc:Ri(e,n)}:t}function bi(e){var t=e.token;return{kind:Wo.NAMED_TYPE,name:Xo(e),loc:Ri(e,t)}}function wi(e){var t=Ei(e)?e.lookahead():e.token;if(t.kind===Fo.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Qi(e,"schema");var n=mi(e,!0),r=Bi(e,Fo.BRACE_L,_i,Fo.BRACE_R);return{kind:Wo.SCHEMA_DEFINITION,directives:n,operationTypes:r,loc:Ri(e,t)}}(e);case"scalar":return function(e){var t=e.token,n=Si(e);Qi(e,"scalar");var r=Xo(e),o=mi(e,!0);return{kind:Wo.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:o,loc:Ri(e,t)}}(e);case"type":return function(e){var t=e.token,n=Si(e);Qi(e,"type");var r=Xo(e),o=ki(e),i=mi(e,!0),a=Oi(e);return{kind:Wo.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:o,directives:i,fields:a,loc:Ri(e,t)}}(e);case"interface":return function(e){var t=e.token,n=Si(e);Qi(e,"interface");var r=Xo(e),o=mi(e,!0),i=Oi(e);return{kind:Wo.INTERFACE_TYPE_DEFINITION,description:n,name:r,directives:o,fields:i,loc:Ri(e,t)}}(e);case"union":return function(e){var t=e.token,n=Si(e);Qi(e,"union");var r=Xo(e),o=mi(e,!0),i=Di(e);return{kind:Wo.UNION_TYPE_DEFINITION,description:n,name:r,directives:o,types:i,loc:Ri(e,t)}}(e);case"enum":return function(e){var t=e.token,n=Si(e);Qi(e,"enum");var r=Xo(e),o=mi(e,!0),i=Ci(e);return{kind:Wo.ENUM_TYPE_DEFINITION,description:n,name:r,directives:o,values:i,loc:Ri(e,t)}}(e);case"input":return function(e){var t=e.token,n=Si(e);Qi(e,"input");var r=Xo(e),o=mi(e,!0),i=Mi(e);return{kind:Wo.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:o,fields:i,loc:Ri(e,t)}}(e);case"directive":return function(e){var t=e.token,n=Si(e);Qi(e,"directive"),Pi(e,Fo.AT);var r=Xo(e),o=Ni(e),i=Fi(e,"repeatable");Qi(e,"on");var a=function(e){qi(e,Fo.PIPE);var t=[];do{t.push($i(e))}while(qi(e,Fo.PIPE));return t}(e);return{kind:Wo.DIRECTIVE_DEFINITION,description:n,name:r,arguments:o,repeatable:i,locations:a,loc:Ri(e,t)}}(e)}throw ji(e,t)}function Ei(e){return Li(e,Fo.STRING)||Li(e,Fo.BLOCK_STRING)}function Si(e){if(Ei(e))return hi(e)}function _i(e){var t=e.token,n=ni(e);Pi(e,Fo.COLON);var r=bi(e);return{kind:Wo.OPERATION_TYPE_DEFINITION,operation:n,type:r,loc:Ri(e,t)}}function ki(e){var t=[];if(Fi(e,"implements")){qi(e,Fo.AMP);do{t.push(bi(e))}while(qi(e,Fo.AMP)||e.options.allowLegacySDLImplementsInterfaces&&Li(e,Fo.NAME))}return t}function Oi(e){return e.options.allowLegacySDLEmptyFields&&Li(e,Fo.BRACE_L)&&e.lookahead().kind===Fo.BRACE_R?(e.advance(),e.advance(),[]):Li(e,Fo.BRACE_L)?Bi(e,Fo.BRACE_L,Ii,Fo.BRACE_R):[]}function Ii(e){var t=e.token,n=Si(e),r=Xo(e),o=Ni(e);Pi(e,Fo.COLON);var i=gi(e),a=mi(e,!0);return{kind:Wo.FIELD_DEFINITION,description:n,name:r,arguments:o,type:i,directives:a,loc:Ri(e,t)}}function Ni(e){return Li(e,Fo.PAREN_L)?Bi(e,Fo.PAREN_L,Ti,Fo.PAREN_R):[]}function Ti(e){var t=e.token,n=Si(e),r=Xo(e);Pi(e,Fo.COLON);var o,i=gi(e);qi(e,Fo.EQUALS)&&(o=pi(e));var a=mi(e,!0);return{kind:Wo.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:o,directives:a,loc:Ri(e,t)}}function Di(e){var t=[];if(qi(e,Fo.EQUALS)){qi(e,Fo.PIPE);do{t.push(bi(e))}while(qi(e,Fo.PIPE))}return t}function Ci(e){return Li(e,Fo.BRACE_L)?Bi(e,Fo.BRACE_L,xi,Fo.BRACE_R):[]}function xi(e){var t=e.token,n=Si(e),r=Xo(e),o=mi(e,!0);return{kind:Wo.ENUM_VALUE_DEFINITION,description:n,name:r,directives:o,loc:Ri(e,t)}}function Mi(e){return Li(e,Fo.BRACE_L)?Bi(e,Fo.BRACE_L,Ti,Fo.BRACE_R):[]}function $i(e){var t=e.token,n=Xo(e);if(void 0!==Ko[n.value])return n;throw ji(e,t)}function Ri(e,t){if(!e.options.noLocation)return new Ai(t,e.lastToken,e.source)}function Ai(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function Li(e,t){return e.token.kind===t}function Pi(e,t){var n=e.token;if(n.kind===t)return e.advance(),n;throw Qo(e.source,n.start,"Expected ".concat(t,", found ").concat(Uo(n)))}function qi(e,t){var n=e.token;if(n.kind===t)return e.advance(),n}function Qi(e,t){var n=e.token;if(n.kind!==Fo.NAME||n.value!==t)throw Qo(e.source,n.start,'Expected "'.concat(t,'", found ').concat(Uo(n)));e.advance()}function Fi(e,t){var n=e.token;return n.kind===Fo.NAME&&n.value===t&&(e.advance(),!0)}function ji(e,t){var n=t||e.token;return Qo(e.source,n.start,"Unexpected ".concat(Uo(n)))}function Vi(e,t,n,r){Pi(e,t);for(var o=[];!qi(e,r);)o.push(n(e));return o}function Bi(e,t,n,r){Pi(e,t);for(var o=[n(e)];!qi(e,r);)o.push(n(e));return o}To(Ai,function(){return{start:this.start,end:this.end}});var Ui=Tn(Object.freeze({parse:function(e,t){var n="string"==typeof e?new xo(e):e;if(!(n instanceof xo))throw new TypeError("Must provide Source. Received: ".concat(Ze(n)));return function(e){var t=e.token;return{kind:Wo.DOCUMENT,definitions:Bi(e,Fo.SOF,Zo,Fo.EOF),loc:Ri(e,t)}}(jo(n,t||{}))},parseValue:function(e,t){var n=jo("string"==typeof e?new xo(e):e,t||{});Pi(n,Fo.SOF);var r=fi(n,!1);return Pi(n,Fo.EOF),r},parseType:function(e,t){var n=jo("string"==typeof e?new xo(e):e,t||{});Pi(n,Fo.SOF);var r=gi(n);return Pi(n,Fo.EOF),r},parseConstValue:pi,parseTypeReference:gi,parseNamedType:bi})).parse;function Gi(e){return e.replace(/[\s,]+/g," ").trim()}var Yi={},Hi={};var Ji=!0;var zi=!1;function Wi(e){var t=Gi(e);if(Yi[t])return Yi[t];var n=Ui(e,{experimentalFragmentVariables:zi});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");return n=function e(t,n){var r=Object.prototype.toString.call(t);if("[object Array]"===r)return t.map(function(t){return e(t,n)});if("[object Object]"!==r)throw new Error("Unexpected input.");n&&t.loc&&delete t.loc,t.loc&&(delete t.loc.startToken,delete t.loc.endToken);var o,i,a,s=Object.keys(t);for(o in s)s.hasOwnProperty(o)&&(i=t[s[o]],"[object Object]"!==(a=Object.prototype.toString.call(i))&&"[object Array]"!==a||(t[s[o]]=e(i,!0)));return t}(n=function(e){for(var t,n={},r=[],o=0;o<e.definitions.length;o++){var i=e.definitions[o];if("FragmentDefinition"===i.kind){var a=i.name.value,s=Gi((t=i.loc).source.body.substring(t.start,t.end));Hi.hasOwnProperty(a)&&!Hi[a][s]?(Ji&&console.warn("Warning: fragment with name "+a+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),Hi[a][s]=!0):Hi.hasOwnProperty(a)||(Hi[a]={},Hi[a][s]=!0),n[s]||(n[s]=!0,r.push(i))}else r.push(i)}return e.definitions=r,e}(n),!1),Yi[t]=n,n}function Ki(){for(var e=Array.prototype.slice.call(arguments),t=e[0],n="string"==typeof t?t:t[0],r=1;r<e.length;r++)e[r]&&e[r].kind&&"Document"===e[r].kind?n+=e[r].loc.source.body:n+=e[r],n+=t[r];return Wi(n)}Ki.default=Ki,Ki.resetCaches=function(){Yi={},Hi={}},Ki.disableFragmentWarnings=function(){Ji=!1},Ki.enableExperimentalFragmentVariables=function(){zi=!0},Ki.disableExperimentalFragmentVariables=function(){zi=!1};const Xi=Ki`
	mutation(
		$isCompany: Boolean!
		$name: String!
		$email: String!
		$password: String!
	) {
		createUser(
			isCompany: $isCompany
			name: $name
			email: $email
			password: $password
		) {
			user {
				id
				username
				isActive
			}
		}
	}
`,Zi=Ki`
	mutation($email: String!, $code: String!) {
		activateUser(email: $email, code: $code) {
			activated
		}
	}
`,ea=Ki`
	mutation($email: String!, $password: String!) {
		tokenAuth(email: $email, password: $password) {
			token
			refreshToken
		}
	}
`,ta=Ki`
	{
		me {
			id
			dateJoined
			email
			isCompany
		}
	}
`,na=Ki`
	mutation($refreshToken: String!) {
		refreshToken(refreshToken: $refreshToken) {
			token
			refreshToken
			payload
		}
	}
`,ra=Ki`
	mutation($employeeEmail: String!) {
		createUserConnection(employeeEmail: $employeeEmail) {
			userConnection {
				id
				employeeEmail
				company {
					id
					email
				}
				isConfirmed
			}
		}
	}
`,oa=Ki`
	query {
		invitations {
			id
			isConfirmed
			employeeEmail
			company {
				userprofile {
					companyName
				}
			}
			created
		}
	}
`,ia=Ki`
	mutation($invitationId: ID!) {
		confirmUserConnection(userConnectionId: $invitationId) {
			userConnection {
				id
				isConfirmed
				employeeEmail
				company {
					userprofile {
						companyName
					}
				}
				created
			}
		}
	}
`,aa=Ki`
	query {
		connections {
			id
			created
			company {
				id
				userprofile {
					companyName
				}
			}
			employee {
				id
				userprofile {
					firstName
					lastName
				}
			}
		}
	}
`,sa=Ki`
	query($companyId: ID!) {
		shifts(companyId: $companyId) {
			id
			fromTime
			toTime
			note
			isSponsored
			postedBy {
				id
				email
				userprofile {
					firstName
					lastName
				}
			}
			postedTo {
				id
				email
				userprofile {
					companyName
				}
			}
		}
	}
`,ca=Ki`
	mutation(
		$fromTime: DateTime!
		$toTime: DateTime!
		$note: String!
		$isSponsored: Boolean!
		$companyId: ID!
	) {
		createShift(
			fromTime: $fromTime
			toTime: $toTime
			note: $note
			isSponsored: $isSponsored
			companyId: $companyId
		) {
			shift {
				id
				fromTime
				toTime
				postedBy {
					email
					userprofile {
						firstName
						lastName
					}
				}
				postedTo {
					email
					userprofile {
						companyName
					}
				}
				note
				isSponsored
				created
			}
		}
	}
`,ua=Ki`
	mutation($proposedShiftId: ID!, $shiftId: ID!) {
		createShiftConnection(
			proposedShiftId: $proposedShiftId
			shiftId: $shiftId
		) {
			shiftConnection {
				id
				created
				isAccepted
				shift {
					id
					fromTime
					toTime
					isSponsored
					postedBy {
						id
						email
						userprofile {
							firstName
							lastName
						}
					}
				}
				proposedShift {
					id
					fromTime
					toTime
					isSponsored
					postedBy {
						id
						email
						userprofile {
							firstName
							lastName
						}
					}
				}
			}
		}
	}
`;function la(e,t,n){const r=Object.create(e);return r.toast=t[n],r}function da(e,t){var n,r,o,i,a,s,c,u,l,d=t.toast.msg;function f(){return t.animationend_handler(t)}return{key:e,first:null,c(){n=_("li"),r=_("div"),o=k(d),i=O(),a=_("div"),s=O(),D(r,"class","content"),D(a,"class","progress"),x(a,"animation-duration",t.toast.timeout+"ms"),D(n,"class","toast"),x(n,"background",t.toast.background),l=N(a,"animationend",f),this.first=n},m(e,t){w(e,n,t),b(n,r),b(r,o),b(n,i),b(n,a),b(n,s),u=!0},p(e,r){t=r,u&&!e.toasts||d===(d=t.toast.msg)||C(o,d),u&&!e.toasts||(x(a,"animation-duration",t.toast.timeout+"ms"),x(n,"background",t.toast.background))},i(e){u||(c&&c.end(1),u=!0)},o(e){c=fe(n,ha,{}),u=!1},d(e){e&&(E(n),c&&c.end()),l()}}}function fa(e){var t,n,r=[],o=new Map,i=e.toasts;const a=e=>e.toast.id;for(var s=0;s<i.length;s+=1){let t=la(e,i,s),n=a(t);o.set(n,r[s]=da(n,t))}return{c(){for(t=_("ul"),s=0;s<r.length;s+=1)r[s].c();D(t,"class","toasts")},m(e,o){for(w(e,t,o),s=0;s<r.length;s+=1)r[s].m(t,null);n=!0},p(e,n){const i=n.toasts;se(),r=me(r,e,a,1,n,i,o,t,ve,da,null,la),ce()},i(e){if(!n){for(var t=0;t<i.length;t+=1)ue(r[t]);n=!0}},o(e){for(s=0;s<r.length;s+=1)le(r[s]);n=!1},d(e){for(e&&E(t),s=0;s<r.length;s+=1)r[s].d()}}}function ha(e,{delay:t=0,duration:n=300}){return{delay:t,duration:n,css:e=>`opacity: ${1*(e-.5)}; transform-origin: top right; transform: scaleX(${1*(e-.5)});`}}function pa(e,t,n){let r=0,o=[],i={danger:"#bb2124",success:"#22bb33",warning:"#f0ad4e",info:"#5bc0de",default:"#aaaaaa"};function a(e){n("toasts",o=o.filter(t=>t.id!=e))}function s(e,t=3e3,a="default"){!function(e,t,a){const s=i[t]||i.default;n("toasts",o=[{id:r,msg:e,background:s,timeout:a,width:"100%"},...o]),r+=1}(e,a,t)}return{toasts:o,removeToast:a,show:s,danger:function(e,t){s(e,t,"danger")},warning:function(e,t){s(e,t,"warning")},info:function(e,t){s(e,t,"info")},success:function(e,t){s(e,t,"success")},animationend_handler:function({toast:e}){return a(e.id)}}}class va extends Ee{constructor(e){super(),we(this,e,pa,fa,s,["removeToast","show","danger","warning","info","success"])}get removeToast(){return this.$$.ctx.removeToast}get show(){return this.$$.ctx.show}get danger(){return this.$$.ctx.danger}get warning(){return this.$$.ctx.warning}get info(){return this.$$.ctx.info}get success(){return this.$$.ctx.success}}function ma(e){var t;var n=new va({props:{}});return e.notification_binding(n),{c(){n.$$.fragment.c()},m(e,r){ge(n,e,r),t=!0},p(e,t){n.$set({})},i(e){t||(ue(n.$$.fragment,e),t=!0)},o(e){le(n.$$.fragment,e),t=!1},d(t){e.notification_binding(null),be(n,t)}}}let ya,ga;function ba(e,t,n){return{notification_binding:function(e){Y[e?"unshift":"push"](()=>{n("notifications",ya=e)})}}}class wa extends Ee{constructor(e){super(),we(this,e,ba,ma,s,[])}}async function Ea(e,t){try{await kn(e,{mutation:na,variables:{refreshToken:t}}).then(t=>{const n=t.data.refreshToken.refreshToken;qe.set(n),Pe.set(Date.now()),Ae.set(!0),Sa(e)})}catch(e){Ae.set(!1)}}function Sa(e){null===localStorage.getItem("startedTimeout")&&localStorage.setItem("startedTimeout",JSON.stringify(!1)),null===sessionStorage.getItem("startedTimeoutSession")&&sessionStorage.setItem("startedTimeoutSession",JSON.stringify(!1));const t=JSON.parse(localStorage.getItem("startedTimeout")),n=JSON.parse(sessionStorage.getItem("startedTimeoutSession"));if(!0===t&&!1===n)return console.log("Already started Timeout, exiting function!!!");let r=JSON.parse(localStorage.getItem("lastLoggedIn")),o=JSON.parse(localStorage.getItem("refreshToken")),i=Math.abs(Date.now()-r)/6e4;if(i>54)Ea(e,o);else{let r=54-i;_a(),ga=setTimeout(Ea,6e4*r,e,o),!1===t&&localStorage.setItem("startedTimeout",JSON.stringify(!0)),!1===n&&sessionStorage.setItem("startedTimeoutSession",JSON.stringify(!0)),console.log("Fetch token in : "+r)}}function _a(){clearTimeout(ga)}async function ka(e){let t=_n(e,{query:ta});try{await t.refetch().then(e=>{Qe.set(e.data.me)})}catch(e){await Ia(3e3),ka()}}async function Oa(e){let t=_n(e,{query:aa});try{await t.refetch().then(e=>{je.set(e.data.connections)})}catch(e){await Ia(3e3),Oa()}}function Ia(e){return new Promise(t=>setTimeout(t,e))}function Na(e,t,n){const r=Object.create(e);return r.choice=t[n],r}function Ta(e){var t,n,r=e.choice.text;return{c(){t=_("option"),n=k(r),t.__value=e.choice,t.value=t.__value},m(e,r){w(e,t,r),b(t,n)},p(e,n){t.value=t.__value},d(e){e&&E(t)}}}function Da(e){for(var t,n,r,o,a,s,c,u,l,d,f,h,p,v,m,y,g,k,I,C,x,$,R,A,L,P,q,Q,F,j,V,B,U,G,Y,H=new He({}),J=e.userTypeChoices,z=[],W=0;W<J.length;W+=1)z[W]=Ta(Na(e,J,W));return{c(){H.$$.fragment.c(),t=O(),n=_("main"),r=_("div"),o=_("div"),(a=_("div")).innerHTML='<h3 class="card-title svelte-1ex7cpf">Create Account</h3> <h6 class="card-subtitle mb-2 svelte-1ex7cpf">\n\t\t\t          Please fill in the form below to create an account on SwapBoard\n\t\t\t        </h6>',s=O(),c=_("form"),u=_("fieldset"),l=_("div"),d=_("select");for(var i=0;i<z.length;i+=1)z[i].c();f=O(),(h=_("small")).textContent="Please note that you can not change this later.",p=O(),v=_("div"),m=_("input"),y=O(),g=_("div"),k=_("input"),I=O(),(C=_("small")).textContent="We'll never share your email with anyone else.",x=O(),$=_("div"),R=_("input"),A=O(),L=_("div"),P=_("input"),q=O(),Q=_("div"),F=O(),(j=_("button")).innerHTML="<h5>SignUp</h5>",V=O(),(B=_("p")).innerHTML='\n\t\t\t            Already registered?\n\t\t\t            <a href="#/login">Login</a>\n\t\t\t            or\n\t\t\t            <a href="#/verifyaccount">Verify your account</a>',D(a,"class","card-header svelte-1ex7cpf"),void 0===e.selectedUserType&&Z(()=>e.select_change_handler.call(d)),D(d,"aria-describedby","inputGroupSelect01"),D(d,"class","custom-select"),D(h,"id","inputGroupSelect01"),D(h,"class","form-text text-muted note"),D(l,"class","form-group svelte-1ex7cpf"),D(m,"type","text"),D(m,"class","form-control text"),D(m,"id","exampleInputText1"),D(m,"placeholder",e.placeHolderName),m.required=!0,D(m,"maxlength","60"),D(v,"class","form-group svelte-1ex7cpf"),D(k,"type","email"),D(k,"class","form-control"),D(k,"id","exampleInputEmail1"),D(k,"aria-describedby","emailHelp"),D(k,"placeholder","Enter a valid email address"),k.required=!0,D(C,"id","emailHelp"),D(C,"class","form-text text-muted"),D(g,"class","form-group svelte-1ex7cpf"),D(R,"type","password"),D(R,"class","form-control password"),D(R,"id","password"),D(R,"placeholder","Password"),R.required=!0,D(R,"minlength","8"),D(R,"maxlength","30"),D($,"class","form-group svelte-1ex7cpf"),D(P,"type","password"),D(P,"class","form-control password"),D(P,"id","confirmPassword"),D(P,"placeholder","Confirm Password"),P.required=!0,D(P,"minlength","8"),D(P,"maxlength","30"),D(L,"class","form-group svelte-1ex7cpf"),D(Q,"class","form-group form-check svelte-1ex7cpf"),D(j,"type","submit"),D(j,"class","btn btn-primary svelte-1ex7cpf"),D(B,"class","form-text text-muted svelte-1ex7cpf"),u.disabled=e.formIsDisabled,D(c,"class","form-group svelte-1ex7cpf"),D(o,"class","card-body svelte-1ex7cpf"),D(r,"class","card .mx-auto svelte-1ex7cpf"),D(n,"class","svelte-1ex7cpf"),Y=[N(d,"change",e.select_change_handler),N(m,"input",e.input0_input_handler),N(k,"input",e.input1_input_handler),N(R,"input",e.input2_input_handler),N(P,"input",e.input3_input_handler),N(c,"submit",T(e.handleSubmit))]},m(i,E){ge(H,i,E),w(i,t,E),w(i,n,E),b(n,r),b(r,o),b(o,a),b(o,s),b(o,c),b(c,u),b(u,l),b(l,d);for(var S=0;S<z.length;S+=1)z[S].m(d,null);M(d,e.selectedUserType),b(l,f),b(l,h),b(u,p),b(u,v),b(v,m),m.value=e.name,b(u,y),b(u,g),b(g,k),k.value=e.email,b(g,I),b(g,C),b(u,x),b(u,$),b($,R),R.value=e.password,b(u,A),b(u,L),b(L,P),P.value=e.confirmPassword,b(u,q),b(u,Q),b(u,F),b(u,j),b(u,V),b(u,B),G=!0},p(e,t){if(e.userTypeChoices){J=t.userTypeChoices;for(var n=0;n<J.length;n+=1){const r=Na(t,J,n);z[n]?z[n].p(e,r):(z[n]=Ta(r),z[n].c(),z[n].m(d,null))}for(;n<z.length;n+=1)z[n].d(1);z.length=J.length}e.selectedUserType&&M(d,t.selectedUserType),e.name&&m.value!==t.name&&(m.value=t.name),G&&!e.placeHolderName||D(m,"placeholder",t.placeHolderName),e.email&&k.value!==t.email&&(k.value=t.email),e.password&&R.value!==t.password&&(R.value=t.password),e.confirmPassword&&P.value!==t.confirmPassword&&(P.value=t.confirmPassword),G&&!e.formIsDisabled||(u.disabled=t.formIsDisabled)},i(e){G||(ue(H.$$.fragment,e),U||Z(()=>{(U=de(r,$e,{duration:500})).start()}),G=!0)},o(e){le(H.$$.fragment,e),G=!1},d(e){be(H,e),e&&(E(t),E(n)),S(z,e),i(Y)}}}function Ca(e,t,n){const r=wn();let o=[{id:0,text:"Signup as company or employee"},{id:1,text:"Employee"},{id:2,text:"Company"}],i=o,a="",s="",c="",u="",l="",d=!1,f=!1;return e.$$.update=((e={selectedUserType:1})=>{e.selectedUserType&&(1===i.id?n("placeHolderName",s="your name"):2===i.id?n("placeHolderName",s="company name"):n("placeHolderName",s="company or employee name"))}),{userTypeChoices:o,selectedUserType:i,name:a,placeHolderName:s,email:c,password:u,confirmPassword:l,formIsDisabled:f,handleSubmit:async function(){if(n("formIsDisabled",f=!0),setTimeout(()=>{n("formIsDisabled",f=!1)},2e3),0===a.trim().length)return n("name",a=""),ya.danger("You must enter a name");if(0===c.trim().length)return n("email",c=""),ya.danger("You must enter an email");if(1===i.id)d=!1;else{if(2!==i.id)return ya.danger("You must signup as a company or employee!");d=!0}if(u!==l)return n("password",u=""),n("confirmPassword",l=""),ya.danger("Your passwords do not match!");try{await async function(e,t,n,r,o){await kn(e,{mutation:Xi,variables:{isCompany:t,name:n,email:r,password:o}}).then(()=>{De("/verifyaccount")})}(r,d,a,c,u)}catch(e){return ya.danger("Email already exist")}},select_change_handler:function(){i=$(this),n("selectedUserType",i),n("userTypeChoices",o)},input0_input_handler:function(){a=this.value,n("name",a)},input1_input_handler:function(){c=this.value,n("email",c)},input2_input_handler:function(){u=this.value,n("password",u)},input3_input_handler:function(){l=this.value,n("confirmPassword",l)}}}function xa(e){var t,n,r,o,a,s,c,u,l,d,f,h,p,v,m,y,g,S,k,I,C,x,M,$,R,A,L,P,q,Q,F,j,V=new He({});return{c(){V.$$.fragment.c(),t=O(),n=_("main"),r=_("div"),o=_("div"),(a=_("div")).innerHTML='<h3 class="card-title svelte-1t2q2t9">Log into SwapBoard</h3> <h6 class="card-subtitle mb-2 svelte-1t2q2t9">\n\t\t\t          Please enter your email and password to login\n\t\t\t        </h6>',s=O(),c=_("form"),u=_("fieldset"),l=_("div"),d=_("input"),f=O(),(h=_("small")).textContent="We'll never share your email with anyone else.",v=O(),m=_("div"),y=_("input"),g=O(),S=_("div"),k=_("input"),I=O(),(C=_("label")).textContent="keep me logged in",x=O(),(M=_("button")).innerHTML="<h5>Login</h5>",$=O(),(R=_("p")).innerHTML='\n\t\t\t            Not registered?\n\t\t\t            <a href="#/signup">Create an account</a>',A=O(),(L=_("p")).innerHTML='<a href="#/recoveraccount">Forgort Password?</a>',P=O(),(q=_("p")).innerHTML='<a href="#/verifyaccount">Verify your account?</a>',D(a,"class","card-header svelte-1t2q2t9"),D(d,"type","email"),D(d,"class","form-control"),D(d,"id","exampleInputEmail1"),D(d,"aria-describedby","emailHelp"),D(d,"placeholder","Enter email"),d.required=!0,D(h,"id","emailHelp"),D(h,"class","form-text text-muted"),D(l,"class",p="form-group "+e.formIsDisabled+" svelte-1t2q2t9"),D(y,"type","password"),D(y,"class","form-control password"),D(y,"id","exampleInputPassword1"),D(y,"placeholder","Password"),y.required=!0,D(y,"minlength","8"),D(y,"maxlength","30"),D(m,"class","form-group svelte-1t2q2t9"),D(k,"type","checkbox"),D(k,"class","form-check-input"),D(k,"id","exampleCheck1"),D(C,"class","form-check-label"),D(C,"for","exampleCheck1"),D(S,"class","form-group form-check svelte-1t2q2t9"),D(M,"type","submit"),D(M,"class","btn btn-primary svelte-1t2q2t9"),D(R,"class","form-text text-muted ca svelte-1t2q2t9"),D(L,"class","form-text text-muted fp svelte-1t2q2t9"),D(q,"class","form-text text-muted ca svelte-1t2q2t9"),u.disabled=e.formIsDisabled,D(o,"class","card-body svelte-1t2q2t9"),D(r,"class","card svelte-1t2q2t9"),D(n,"class","svelte-1t2q2t9"),j=[N(d,"input",e.input0_input_handler),N(y,"input",e.input1_input_handler),N(k,"change",e.input2_change_handler),N(c,"submit",T(e.handleSubmit))]},m(i,p){ge(V,i,p),w(i,t,p),w(i,n,p),b(n,r),b(r,o),b(o,a),b(o,s),b(o,c),b(c,u),b(u,l),b(l,d),d.value=e.email,b(l,f),b(l,h),b(u,v),b(u,m),b(m,y),y.value=e.password,b(u,g),b(u,S),b(S,k),k.checked=e.isKeepMeLoggedIn,b(S,I),b(S,C),b(u,x),b(u,M),b(u,$),b(u,R),b(u,A),b(u,L),b(u,P),b(u,q),F=!0},p(e,t){e.email&&d.value!==t.email&&(d.value=t.email),F&&!e.formIsDisabled||p===(p="form-group "+t.formIsDisabled+" svelte-1t2q2t9")||D(l,"class",p),e.password&&y.value!==t.password&&(y.value=t.password),e.isKeepMeLoggedIn&&(k.checked=t.isKeepMeLoggedIn),F&&!e.formIsDisabled||(u.disabled=t.formIsDisabled)},i(e){F||(ue(V.$$.fragment,e),Q||Z(()=>{(Q=de(r,$e,{duration:500})).start()}),F=!0)},o(e){le(V.$$.fragment,e),F=!1},d(e){be(V,e),e&&(E(t),E(n)),i(j)}}}function Ma(e,t,n){const r=wn();let o="",i="",a=!1,s=!1;return{email:o,password:i,isKeepMeLoggedIn:a,formIsDisabled:s,handleSubmit:async function(){if(n("formIsDisabled",s=!0),setTimeout(()=>{n("formIsDisabled",s=!1)},2e3),0===o.trim().length||0===i.trim().length){const e="Email or password fields can not be empty!";return ya.danger(e,3e3)}try{await async function(e,t,n,r){await kn(e,{mutation:ea,variables:{email:t,password:n}}).then(e=>{qe.set(e.data.tokenAuth.refreshToken),Le.set(r),Pe.set(Date.now()),Ae.set(!0),localStorage.setItem("login-event","login"+Math.random())})}(r,o,i,a).then(()=>{Sa(r),ka(r),Oa(r),De("/dashboard/")})}catch(e){n("password",i="");let t="Please make sure your email and password are correct!";ya.danger(t,3e3)}},input0_input_handler:function(){o=this.value,n("email",o)},input1_input_handler:function(){i=this.value,n("password",i)},input2_change_handler:function(){a=this.checked,n("isKeepMeLoggedIn",a)}}}function $a(t){var n,r;return{c(){(n=_("div")).innerHTML='<h1 class="svelte-ysidjt">Forgot Password Page</h1>'},m(e,t){w(e,n,t)},p:e,i(e){r||Z(()=>{(r=de(n,$e,{duration:500})).start()})},o:e,d(e){e&&E(n)}}}function Ra(t){var n,r;return{c(){(n=_("div")).innerHTML='<h1 class="svelte-ysidjt">Recover Account Page</h1>'},m(e,t){w(e,n,t)},p:e,i(e){r||Z(()=>{(r=de(n,$e,{duration:500})).start()})},o:e,d(e){e&&E(n)}}}function Aa(e){var t,n,r,o,a,s,c,u,l,d,f,h,p,v,m,y,g,S,k=new He({});return{c(){k.$$.fragment.c(),t=O(),n=_("main"),r=_("div"),o=_("div"),(a=_("div")).innerHTML='<h3 class="card-title svelte-92piy6">Verify Account</h3> <h6 class="card-subtitle mb-2 svelte-92piy6">\n\t\t\t          Please enter your email and the code that was sent to your email\n\t\t\t        </h6>',s=O(),c=_("form"),u=_("fieldset"),l=_("div"),d=_("input"),f=O(),h=_("div"),p=_("input"),v=O(),(m=_("button")).innerHTML="<h5>Confirm Account</h5>",D(a,"class","card-header svelte-92piy6"),D(d,"type","email"),D(d,"class","form-control"),D(d,"id","exampleInputEmail1"),D(d,"aria-describedby","emailHelp"),D(d,"placeholder","Enter email"),D(l,"class","form-group svelte-92piy6"),D(p,"type","text"),D(p,"class","form-control"),D(p,"id","exampleInputText1"),D(p,"aria-describedby","textHelp"),D(p,"placeholder","Enter code"),D(h,"class","form-group svelte-92piy6"),D(m,"type","submit"),D(m,"class","btn btn-primary svelte-92piy6"),u.disabled=e.formIsDisabled,D(o,"class","card-body svelte-92piy6"),D(r,"class","card svelte-92piy6"),D(n,"class","svelte-92piy6"),S=[N(d,"input",e.input0_input_handler),N(p,"input",e.input1_input_handler),N(c,"submit",T(e.handleSubmit))]},m(i,y){ge(k,i,y),w(i,t,y),w(i,n,y),b(n,r),b(r,o),b(o,a),b(o,s),b(o,c),b(c,u),b(u,l),b(l,d),d.value=e.email,b(u,f),b(u,h),b(h,p),p.value=e.code,b(u,v),b(u,m),g=!0},p(e,t){e.email&&d.value!==t.email&&(d.value=t.email),e.code&&p.value!==t.code&&(p.value=t.code),g&&!e.formIsDisabled||(u.disabled=t.formIsDisabled)},i(e){g||(ue(k.$$.fragment,e),y||Z(()=>{(y=de(r,$e,{duration:500})).start()}),g=!0)},o(e){le(k.$$.fragment,e),g=!1},d(e){be(k,e),e&&(E(t),E(n)),i(S)}}}function La(e,t,n){const r=wn();let o="",i="",a=!1;return{email:o,code:i,formIsDisabled:a,handleSubmit:async function(){if(n("formIsDisabled",a=!0),setTimeout(()=>{n("formIsDisabled",a=!1)},2e3),0===o.trim().length||0===i.trim().length)return n("email",o=""),n("code",i=""),ya.danger("Email or code fields can not be empty");try{await async function(e,t,n){await kn(e,{mutation:Zi,variables:{email:t,code:n}}).then(()=>{De("/login")})}(r,o,i)}catch(e){ya.danger("Please make sure your code and email are correct")}},input0_input_handler:function(){o=this.value,n("email",o)},input1_input_handler:function(){i=this.value,n("code",i)}}}function Pa(t){var n,r,o,a,s,c,u,l,d,f,h;return{c(){n=_("main"),r=_("div"),o=_("div"),a=_("form"),s=_("fieldset"),c=_("div"),u=_("input"),l=O(),(d=_("button")).textContent="Send Invite",D(u,"type","email"),D(u,"id","email"),D(u,"class","form-control"),u.required=!0,D(u,"placeholder","Enter employee email"),D(c,"class","form-group"),D(d,"type","submit"),D(d,"class","btn btn-primary"),s.disabled=t.formIsDisabled,D(o,"class","card-body svelte-1wydt8p"),D(r,"class","card"),D(n,"class","svelte-1wydt8p"),h=[N(u,"input",t.input_input_handler),N(a,"submit",T(t.handleSubmit))]},m(e,i){w(e,n,i),b(n,r),b(r,o),b(o,a),b(a,s),b(s,c),b(c,u),u.value=t.email,b(s,l),b(s,d)},p(e,t){e.email&&u.value!==t.email&&(u.value=t.email),e.formIsDisabled&&(s.disabled=t.formIsDisabled)},i(e){f||Z(()=>{(f=de(n,$e,{duration:500})).start()})},o:e,d(e){e&&E(n),i(h)}}}function qa(e,t,n){const r=wn();let o="",i=!1;return{email:o,formIsDisabled:i,handleSubmit:function(){o&&async function(){n("formIsDisabled",i=!0);try{await kn(r,{mutation:ra,variables:{employeeEmail:o}}).then(e=>{console.log(e.data.createUserConnection.userConnection),ya.success("Invite Sent!"),n("email",o=""),n("formIsDisabled",i=!1)})}catch(e){console.log(e),ya.danger("Something went wrong, please try again!"),n("formIsDisabled",i=!1)}}()},input_input_handler:function(){o=this.value,n("email",o)}}}const Qa=(e,t,n)=>e.replace(new RegExp("#{"+t+"}","g"),n),Fa=function(e,t,n){if(e=e.toString(),void 0===t)return e;if(e.length==t)return e;if(n=void 0!==n&&n,e.length<t)for(;t-e.length>0;)e="0"+e;else e.length>t&&(e=n?e.substring(e.length-t):e.substring(0,t));return e};let ja={daysOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthsOfYear:["January","February","March","April","May","June","July","August","September","October","November","December"]};var Va=[{key:"d",method:function(e){return Fa(e.getDate(),2)}},{key:"D",method:function(e){return Fa(ja.daysOfWeek[e.getDay()],3)}},{key:"j",method:function(e){return e.getDate()}},{key:"l",method:function(e){return ja.daysOfWeek[e.getDay()]}},{key:"F",method:function(e){return ja.monthsOfYear[e.getMonth()]}},{key:"m",method:function(e){return Fa(e.getMonth()+1,2)}},{key:"M",method:function(e){return Fa(ja.monthsOfYear[e.getMonth()],3)}},{key:"n",method:function(e){return e.getMonth()+1}},{key:"Y",method:function(e){return e.getFullYear()}},{key:"y",method:function(e){return Fa(e.getFullYear(),2,!0)}}],Ba=[{key:"a",method:function(e){return e.getHours()>11?"pm":"am"}},{key:"A",method:function(e){return e.getHours()>11?"PM":"AM"}},{key:"g",method:function(e){return e.getHours()%12||12}},{key:"G",method:function(e){return e.getHours()}},{key:"h",method:function(e){return Fa(e.getHours()%12||12,2)}},{key:"H",method:function(e){return Fa(e.getHours(),2)}},{key:"i",method:function(e){return Fa(e.getMinutes(),2)}},{key:"s",method:function(e){return Fa(e.getSeconds(),2)}}];const Ua=(e,t="#{m}/#{d}/#{Y}")=>(Va.forEach(n=>{-1!=t.indexOf(`#{${n.key}}`)&&(t=Qa(t,n.key,n.method(e)))}),Ba.forEach(n=>{-1!=t.indexOf(`#{${n.key}}`)&&(t=Qa(t,n.key,n.method(e)))}),t);function Ga(e){var t,n;return{c(){(t=_("button")).textContent="Accept",D(t,"class","btn btn-primary"),n=N(t,"click",e.confirmInvitation)},m(e,n){w(e,t,n)},d(e){e&&E(t),n()}}}function Ya(e){var t;return{c(){(t=_("h5")).textContent="You have already accepted this invitation!"},m(e,n){w(e,t,n)},d(e){e&&E(t)}}}function Ha(t){var n,r,o,i,a,s,c,u,l,d,f,h,p,v,m=Ua(new Date(t.invitation.created),Ja),y=t.invitation.company.userprofile.companyName;function g(e){return e.invitation.isConfirmed?Ya:Ga}var S=g(t),I=S(t);return{c(){n=_("main"),r=_("div"),o=_("div"),i=k("Invitation sent on "),a=k(m),s=O(),c=_("div"),u=_("h5"),l=k("From "),d=k(y),f=O(),(h=_("p")).textContent="Please accept invitation to post and swap shifts with your colleagues.",p=O(),I.c(),D(o,"class","card-header"),D(u,"class","card-title"),D(h,"class","card-text"),D(c,"class","card-body"),D(r,"class","card"),D(n,"class","svelte-cgz76s")},m(e,t){w(e,n,t),b(n,r),b(r,o),b(o,i),b(o,a),b(r,s),b(r,c),b(c,u),b(u,l),b(u,d),b(c,f),b(c,h),b(c,p),I.m(c,null)},p(e,t){e.invitation&&m!==(m=Ua(new Date(t.invitation.created),Ja))&&C(a,m),e.invitation&&y!==(y=t.invitation.company.userprofile.companyName)&&C(d,y),S!==(S=g(t))&&(I.d(1),(I=S(t))&&(I.c(),I.m(c,null)))},i(e){v||Z(()=>{(v=de(n,$e,{transition:500})).start()})},o:e,d(e){e&&E(n),I.d()}}}let Ja="#{l}, #{F} #{j}, #{Y} at #{H}:#{i}";function za(e,t,n){let r;c(e,Fe,e=>{n("$invitations",r=e)});let{invitation:o}=t;const i=wn();return e.$set=(e=>{"invitation"in e&&n("invitation",o=e.invitation)}),{invitation:o,confirmInvitation:async function(){try{await kn(i,{mutation:ia,variables:{invitationId:o.id}}).then(e=>{var t=e.data.confirmUserConnection.userConnection,n=r.findIndex(e=>e.id===t.id);r[n]=t,Fe.set(r),ya.success("Congratulations! You have successfully joined "+t.company.userprofile.companyName,4e3)})}catch(e){console.log(e),ya.danger("Something went wrong, please try again!")}}}}class Wa extends Ee{constructor(e){super(),we(this,e,za,Ha,s,["invitation"])}}function Ka(e,t,n){const r=Object.create(e);return r.invite=t[n],r}function Xa(t){var n;return{c(){(n=_("h5")).textContent="No new Invitation(s), please request an invite from your company's\r\n        admin!"},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&E(n)}}}function Za(e){for(var t,n,r=e.$invitations,o=[],i=0;i<r.length;i+=1)o[i]=es(Ka(e,r,i));const a=e=>le(o[e],1,1,()=>{o[e]=null});return{c(){for(var e=0;e<o.length;e+=1)o[e].c();t=I()},m(e,r){for(var i=0;i<o.length;i+=1)o[i].m(e,r);w(e,t,r),n=!0},p(e,n){if(e.$invitations){r=n.$invitations;for(var i=0;i<r.length;i+=1){const a=Ka(n,r,i);o[i]?(o[i].p(e,a),ue(o[i],1)):(o[i]=es(a),o[i].c(),ue(o[i],1),o[i].m(t.parentNode,t))}for(se(),i=r.length;i<o.length;i+=1)a(i);ce()}},i(e){if(!n){for(var t=0;t<r.length;t+=1)ue(o[t]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)le(o[e]);n=!1},d(e){S(o,e),e&&E(t)}}}function es(e){var t,n=new Wa({props:{invitation:e.invite}});return{c(){n.$$.fragment.c()},m(e,r){ge(n,e,r),t=!0},p(e,t){var r={};e.$invitations&&(r.invitation=t.invite),n.$set(r)},i(e){t||(ue(n.$$.fragment,e),t=!0)},o(e){le(n.$$.fragment,e),t=!1},d(e){be(n,e)}}}function ts(e){var t,n,r,o,i,a=[Za,Xa],s=[];function c(e){return e.$invitations.length>0?0:1}return r=c(e),o=s[r]=a[r](e),{c(){t=_("main"),n=_("div"),o.c(),D(t,"class","svelte-3xtjq7")},m(e,o){w(e,t,o),b(t,n),s[r].m(n,null),i=!0},p(e,t){var i=r;(r=c(t))===i?s[r].p(e,t):(se(),le(s[i],1,1,()=>{s[i]=null}),ce(),(o=s[r])||(o=s[r]=a[r](t)).c(),ue(o,1),o.m(n,null))},i(e){i||(ue(o),i=!0)},o(e){le(o),i=!1},d(e){e&&E(t),s[r].d()}}}function ns(e,t,n){let r;c(e,Fe,e=>{n("$invitations",r=e)});const o=_n(wn(),{query:oa});return B(()=>{!async function(){try{await o.refetch().then(e=>{Fe.set(e.data.invitations)})}catch(e){}}()}),{$invitations:r}}function rs(e,t,n){const r=Object.create(e);return r.choice=t[n],r}function os(e,t,n){const r=Object.create(e);return r.shift=t[n],r.i=n,r}function is(e,t,n){const r=Object.create(e);return r.choice=t[n],r}function as(e){var t,n=e.$connections.length>0&&ss(e);return{c(){n&&n.c(),t=I()},m(e,r){n&&n.m(e,r),w(e,t,r)},p(e,r){r.$connections.length>0?n?n.p(e,r):((n=ss(r)).c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&E(t)}}}function ss(e){for(var t,n,r,o,a,s,c,u,l,d=e.$connections,f=[],h=0;h<d.length;h+=1)f[h]=cs(is(e,d,h));return{c(){t=_("div"),r=O(),o=_("div"),a=_("div"),s=_("select"),(c=_("option")).textContent="Select Company";for(var i=0;i<f.length;i+=1)f[i].c();D(t,"id","empty-container"),D(t,"class",n=(e.$menuDisplayed?"menuDisplayed":"")+" fixed-top svelte-f4t0hs"),c.__value="",c.value=c.__value,c.selected=!0,c.disabled=!0,c.hidden=!0,void 0===e.selectedCompany&&Z(()=>e.select_change_handler.call(s)),D(s,"id","company-selector"),D(s,"class","custom-select"),D(a,"class","input-group mb-3"),D(o,"id","form"),D(o,"class",u=(e.$menuDisplayed?"menuDisplayed":"")+" fixed-top svelte-f4t0hs"),l=[N(s,"change",e.select_change_handler),N(s,"change",e.fetchShiftsFromInput)]},m(n,i){w(n,t,i),w(n,r,i),w(n,o,i),b(o,a),b(a,s),b(s,c);for(var u=0;u<f.length;u+=1)f[u].m(s,null);M(s,e.selectedCompany)},p(e,r){if(e.$menuDisplayed&&n!==(n=(r.$menuDisplayed?"menuDisplayed":"")+" fixed-top svelte-f4t0hs")&&D(t,"class",n),e.$connections){d=r.$connections;for(var i=0;i<d.length;i+=1){const t=is(r,d,i);f[i]?f[i].p(e,t):(f[i]=cs(t),f[i].c(),f[i].m(s,null))}for(;i<f.length;i+=1)f[i].d(1);f.length=d.length}e.selectedCompany&&M(s,r.selectedCompany),e.$menuDisplayed&&u!==(u=(r.$menuDisplayed?"menuDisplayed":"")+" fixed-top svelte-f4t0hs")&&D(o,"class",u)},d(e){e&&(E(t),E(r),E(o)),S(f,e),i(l)}}}function cs(e){var t,n,r,o,i=e.choice.company.userprofile.companyName;return{c(){t=_("option"),n=k(i),r=O(),t.__value=o=e.choice,t.value=t.__value},m(e,o){w(e,t,o),b(t,n),b(t,r)},p(e,r){e.$connections&&i!==(i=r.choice.company.userprofile.companyName)&&C(n,i),e.$connections&&o!==(o=r.choice)&&(t.__value=o),t.value=t.__value},d(e){e&&E(t)}}}function us(e){var t;function n(e){return e.$user.isCompany?ls:ds}var r=n(e),o=r(e);return{c(){o.c(),t=I()},m(e,n){o.m(e,n),w(e,t,n)},p(e,i){r!==(r=n(i))&&(o.d(1),(o=r(i))&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&E(t)}}}function ls(e){var t;return{c(){(t=_("div")).innerHTML="<h5>\n\t\t\t          You do not have any staff on your company yet, please send invites to\n\t\t\t          your employees for them to start swapping shifts.\n\t\t\t        </h5>"},m(e,n){w(e,t,n)},d(e){e&&E(t)}}}function ds(e){var t;return{c(){(t=_("div")).innerHTML="<h5>\n\t\t\t          You are not a member of any company yet, please request an invite from\n\t\t\t          your company's admin to start swapping shifts with your colleagues.\n\t\t\t        </h5>"},m(e,n){w(e,t,n)},d(e){e&&E(t)}}}function fs(e){var t,n=[],r=new Map,o=e.$shifts;const i=e=>e.shift.id;for(var a=0;a<o.length;a+=1){let t=os(e,o,a),s=i(t);r.set(s,n[a]=hs(s,t))}return{c(){for(a=0;a<n.length;a+=1)n[a].c();t=I()},m(e,r){for(a=0;a<n.length;a+=1)n[a].m(e,r);w(e,t,r)},p(e,o){const a=o.$shifts;n=me(n,e,i,1,o,a,r,t.parentNode,pe,hs,t,os)},d(e){for(a=0;a<n.length;a+=1)n[a].d(e);e&&E(t)}}}function hs(e,t){var n,r,o,i,a,s,c,u,l,d,f,h=Ua(new Date(t.shift.fromTime),ks),p=Ua(new Date(t.shift.toTime),ks),v=t.shift.postedBy.userprofile.firstName+" "+t.shift.postedBy.userprofile.lastName,m=t.i;const y=()=>t.ul_binding(n,m),g=()=>t.ul_binding(null,m);function S(){return t.click_handler(t)}return{key:e,first:null,c(){n=_("ul"),r=_("li"),o=k(h),i=O(),a=_("li"),s=k(p),c=O(),u=_("li"),l=k(v),d=O(),D(r,"class","list-group-item flex-fill"),D(a,"class","list-group-item flex-fill"),D(u,"class","list-group-item flex-fill"),D(n,"id","inner-list-group"),D(n,"class","list-group list-group-action list-group-horizontal\r\n          list-group-flush svelte-f4t0hs"),f=N(n,"click",S),this.first=n},m(e,t){w(e,n,t),b(n,r),b(r,o),b(n,i),b(n,a),b(a,s),b(n,c),b(n,u),b(u,l),b(n,d),y()},p(e,n){t=n,e.$shifts&&h!==(h=Ua(new Date(t.shift.fromTime),ks))&&C(o,h),e.$shifts&&p!==(p=Ua(new Date(t.shift.toTime),ks))&&C(s,p),e.$shifts&&v!==(v=t.shift.postedBy.userprofile.firstName+" "+t.shift.postedBy.userprofile.lastName)&&C(l,v),m!==t.i&&(g(),m=t.i,y())},d(e){e&&E(n),g(),f()}}}function ps(e){var t;function n(e){return e.$user.isCompany?vs:ms}var r=n(e),o=r(e);return{c(){o.c(),t=I()},m(e,n){o.m(e,n),w(e,t,n)},p(e,i){r===(r=n(i))&&o?o.p(e,i):(o.d(1),(o=r(i))&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&E(t)}}}function vs(t){var n;return{c(){(n=_("p")).textContent="This shift was posted to your company.",D(n,"class","svelte-f4t0hs")},m(e,t){w(e,n,t)},p:e,d(e){e&&E(n)}}}function ms(e){var t;function n(e){return e.$user.id!==e.clickedShift.postedBy.id?gs:ys}var r=n(e),o=r(e);return{c(){o.c(),t=I()},m(e,n){o.m(e,n),w(e,t,n)},p(e,i){r===(r=n(i))&&o?o.p(e,i):(o.d(1),(o=r(i))&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&E(t)}}}function ys(t){var n;return{c(){(n=_("p")).textContent="This is your shift!!!",D(n,"class","svelte-f4t0hs")},m(e,t){w(e,n,t)},p:e,d(e){e&&E(n)}}}function gs(e){var t,n;function r(e){return e.myShifts.length>0?ws:bs}var o=r(e),i=o(e),a=e.selectedShift&&Ss(e);return{c(){i.c(),t=O(),a&&a.c(),n=I()},m(e,r){i.m(e,r),w(e,t,r),a&&a.m(e,r),w(e,n,r)},p(e,s){o===(o=r(s))&&i?i.p(e,s):(i.d(1),(i=o(s))&&(i.c(),i.m(t.parentNode,t))),s.selectedShift?a?a.p(e,s):((a=Ss(s)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(e){i.d(e),e&&E(t),a&&a.d(e),e&&E(n)}}}function bs(t){var n;return{c(){(n=_("p")).textContent="You do not have any shift to propose, post shift to start\r\n                  swapping.",D(n,"class","svelte-f4t0hs")},m(e,t){w(e,n,t)},p:e,d(e){e&&E(n)}}}function ws(e){for(var t,n,r,o,i=e.myShifts,a=[],s=0;s<i.length;s+=1)a[s]=Es(rs(e,i,s));return{c(){t=_("div"),n=_("select"),(r=_("option")).textContent="Select shift to propose\r\n                    ";for(var i=0;i<a.length;i+=1)a[i].c();r.__value="",r.value=r.__value,r.selected=!0,r.disabled=!0,r.hidden=!0,void 0===e.selectedShift&&Z(()=>e.select_change_handler_1.call(n)),D(n,"id","myShift-selector"),D(n,"class","custom-select"),D(t,"class","input-group mb-3"),o=N(n,"change",e.select_change_handler_1)},m(o,i){w(o,t,i),b(t,n),b(n,r);for(var s=0;s<a.length;s+=1)a[s].m(n,null);M(n,e.selectedShift)},p(e,t){if(e.myShifts||e.formatDate||e.dateFormat){i=t.myShifts;for(var r=0;r<i.length;r+=1){const o=rs(t,i,r);a[r]?a[r].p(e,o):(a[r]=Es(o),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}e.selectedShift&&M(n,t.selectedShift)},d(e){e&&E(t),S(a,e),o()}}}function Es(e){var t,n,r,o,i,a="Starts "+Ua(new Date(e.choice.fromTime),ks)+" Ends "+Ua(new Date(e.choice.toTime),ks);return{c(){t=_("option"),n=_("p"),r=k(a),o=O(),D(n,"class","svelte-f4t0hs"),t.__value=i=e.choice,t.value=t.__value},m(e,i){w(e,t,i),b(t,n),b(n,r),b(t,o)},p(e,n){e.myShifts&&a!==(a="Starts "+Ua(new Date(n.choice.fromTime),ks)+" Ends "+Ua(new Date(n.choice.toTime),ks))&&C(r,a),e.myShifts&&i!==(i=n.choice)&&(t.__value=i),t.value=t.__value},d(e){e&&E(t)}}}function Ss(e){var t,n,r,o,i,a,s,c,u,l,d=Ua(new Date(e.selectedShift.fromTime),ks),f=Ua(new Date(e.selectedShift.toTime),ks);return{c(){t=_("p"),n=k("Starts "),r=k(d),o=O(),i=_("p"),a=k("Ends "),s=k(f),c=O(),(u=_("button")).textContent="Propose Selected Shift",D(t,"class","svelte-f4t0hs"),D(i,"class","svelte-f4t0hs"),D(u,"class","btn btn-primary"),l=N(u,"click",e.proposeShift)},m(e,l){w(e,t,l),b(t,n),b(t,r),w(e,o,l),w(e,i,l),b(i,a),b(i,s),w(e,c,l),w(e,u,l)},p(e,t){e.selectedShift&&d!==(d=Ua(new Date(t.selectedShift.fromTime),ks))&&C(r,d),e.selectedShift&&f!==(f=Ua(new Date(t.selectedShift.toTime),ks))&&C(s,f)},d(e){e&&(E(t),E(o),E(i),E(c),E(u)),l()}}}function _s(t){var n,r,o,i,a,s,c,u,l,d=!t.$user.isCompany&&as(t),f=t.$connections.length<1&&us(t),h=t.$shifts.length>0&&fs(t),p=t.clickedShift&&ps(t);return{c(){n=_("main"),d&&d.c(),r=O(),f&&f.c(),o=O(),i=_("div"),h&&h.c(),a=O(),s=_("div"),c=_("div"),p&&p.c(),D(c,"class","popover__content svelte-f4t0hs"),D(s,"id","popover__wrapper"),D(s,"class",u=(t.showing?"show":"hide")+" svelte-f4t0hs"),D(i,"class","content svelte-f4t0hs"),D(n,"class","svelte-f4t0hs")},m(e,u){w(e,n,u),d&&d.m(n,null),b(n,r),f&&f.m(n,null),b(n,o),b(n,i),h&&h.m(i,null),b(i,a),b(i,s),b(s,c),p&&p.m(c,null),t.div1_binding(s),t.div2_binding(i)},p(e,t){t.$user.isCompany?d&&(d.d(1),d=null):d?d.p(e,t):((d=as(t)).c(),d.m(n,r)),t.$connections.length<1?f?f.p(e,t):((f=us(t)).c(),f.m(n,o)):f&&(f.d(1),f=null),t.$shifts.length>0?h?h.p(e,t):((h=fs(t)).c(),h.m(i,a)):h&&(h.d(1),h=null),t.clickedShift?p?p.p(e,t):((p=ps(t)).c(),p.m(c,null)):p&&(p.d(1),p=null),e.showing&&u!==(u=(t.showing?"show":"hide")+" svelte-f4t0hs")&&D(s,"class",u)},i(e){l||Z(()=>{(l=de(n,$e,{duration:500})).start()})},o:e,d(e){e&&E(n),d&&d.d(),f&&f.d(),h&&h.d(),p&&p.d(),t.div1_binding(null),t.div2_binding(null)}}}let ks="#{l}, #{F} #{j}, #{Y} at #{H}:#{i}";function Os(e,t,n){let r,o,i,a;c(e,Ve,e=>{n("$shifts",r=e)}),c(e,Qe,e=>{n("$user",o=e)}),c(e,je,e=>{n("$connections",i=e)}),c(e,Ue,e=>{n("$menuDisplayed",a=e)});let s,u,l,d,f,h,p,v=[],m=!1,y=!1,g="",b=[];const w=wn();async function E(){const e=_n(w,{query:sa,variables:{companyId:g}});try{await e.refetch().then(e=>{Ve.set(e.data.shifts),n("myShifts",v=r.filter(e=>e.postedBy.id===o.id))})}catch(e){console.log(e)}}function S(e,t){if(!0===y)return void ya.info("A Shift Request is in progress!");if(!0===m&&u.id===e.id)return n("showing",m=!1),n("clickedShift",u=null),h.style.display="none",void n("popoverWrapper",h);n("showing",m=!1),n("selectedShift",s=null),h.style.display="inline-block",n("popoverWrapper",h);let r=p.getBoundingClientRect(),o=t.getBoundingClientRect(),i=h.firstChild.getBoundingClientRect();d=o.width/2-i.width/2,f=o.top-r.height+window.scrollY,h.style.left=d+"px",n("popoverWrapper",h),h.style.top=f+"px",n("popoverWrapper",h),n("clickedShift",u=e),setTimeout(()=>{n("showing",m=!0)},1)}return B(()=>{o.isCompany&&(g=o.id,E())}),{myShifts:v,selectedShift:s,clickedShift:u,showing:m,selectedCompany:l,popoverWrapper:h,content:p,uls:b,fetchShiftsFromInput:async function(){l&&(g=l.company.id,E())},proposeShift:async function(){if(!0!==y)if(s&&u){y=!0;try{await kn(w,{mutation:ua,variables:{proposedShiftId:s.id,shiftId:u.id}}).then(e=>{console.log(e.data.createShiftConnection.shiftConnection),ya.success("Shift Request Sent"),y=!1})}catch(e){ya.danger("Something went wrong! Please try again."),console.log(e),y=!1}}else ya.danger("You must select a shift to propose");else ya.info("A Shift Request is in progress!")},handleClickedShift:S,$shifts:r,$user:o,$connections:i,$menuDisplayed:a,select_change_handler:function(){l=$(this),n("selectedCompany",l)},ul_binding:function(e,t){b[t]!==e&&Y[e?"unshift":"push"](()=>{b[t]=e,n("uls",b)})},click_handler:function({shift:e,i:t}){S(e,b[t])},select_change_handler_1:function(){s=$(this),n("selectedShift",s),n("myShifts",v)},div1_binding:function(e){Y[e?"unshift":"push"](()=>{n("popoverWrapper",h=e)})},div2_binding:function(e){Y[e?"unshift":"push"](()=>{n("content",p=e)})}}}const Is=(e,t,n)=>{let r=new Date(t,e,1);r.setDate(r.getDate()-r.getDay());let o=11===e?0:e+1,i=[];for(;r.getMonth()!==o||0!==r.getDay()||6!==i.length;)0===r.getDay()&&i.unshift({days:[],id:`${t}${e}${t}${i.length}`}),i[0].days.push({partOfMonth:r.getMonth()===e,date:new Date(r),...n(r)}),r.setDate(r.getDate()+1);return i.reverse(),{month:e,year:t,weeks:i}},Ns=(e,t,n)=>{let r=new Date;return r.setHours(0,0,0,0),o=>({selectable:o>=e&&o<=t&&(!n||n(o)),isToday:o.getTime()===r.getTime()})};const Ts=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear();function Ds(e,t,n){const r=Object.create(e);return r.day=t[n],r}function Cs(e){var t,n,r,o,i,a=e.day.date.getDate();function s(){return e.click_handler(e)}return{c(){t=_("div"),n=_("button"),r=k(a),o=O(),D(n,"class","day--label svelte-7mtl66"),D(n,"type","button"),R(n,"selected",Ts(e.day.date,e.selected)),R(n,"highlighted",Ts(e.day.date,e.highlighted)),R(n,"shake-date",e.shouldShakeDate&&Ts(e.day.date,e.shouldShakeDate)),R(n,"disabled",!e.day.selectable),D(t,"class","day svelte-7mtl66"),R(t,"outside-month",!e.day.partOfMonth),R(t,"is-today",e.day.isToday),R(t,"is-disabled",!e.day.selectable),i=N(n,"click",s)},m(e,i){w(e,t,i),b(t,n),b(n,r),b(t,o)},p(o,i){e=i,o.days&&a!==(a=e.day.date.getDate())&&C(r,a),(o.areDatesEquivalent||o.days||o.selected)&&R(n,"selected",Ts(e.day.date,e.selected)),(o.areDatesEquivalent||o.days||o.highlighted)&&R(n,"highlighted",Ts(e.day.date,e.highlighted)),(o.shouldShakeDate||o.areDatesEquivalent||o.days)&&R(n,"shake-date",e.shouldShakeDate&&Ts(e.day.date,e.shouldShakeDate)),o.days&&(R(n,"disabled",!e.day.selectable),R(t,"outside-month",!e.day.partOfMonth),R(t,"is-today",e.day.isToday),R(t,"is-disabled",!e.day.selectable))},d(e){e&&E(t),i()}}}function xs(e){for(var t,n,r,o,i=e.days,a=[],s=0;s<i.length;s+=1)a[s]=Cs(Ds(e,i,s));return{c(){t=_("div");for(var e=0;e<a.length;e+=1)a[e].c();D(t,"class","week svelte-7mtl66")},m(e,n){w(e,t,n);for(var r=0;r<a.length;r+=1)a[r].m(t,null);o=!0},p(e,n){if(e.days||e.areDatesEquivalent||e.selected||e.highlighted||e.shouldShakeDate){i=n.days;for(var r=0;r<i.length;r+=1){const o=Ds(n,i,r);a[r]?a[r].p(e,o):(a[r]=Cs(o),a[r].c(),a[r].m(t,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}},i(i){o||(Z(()=>{r&&r.end(1),n||(n=de(t,Re,{x:50*e.direction,duration:180,delay:90})),n.start()}),o=!0)},o(e){n&&n.invalidate(),r=fe(t,$e,{duration:180}),o=!1},d(e){e&&E(t),S(a,e),e&&r&&r.end()}}}function Ms(e,t,n){const r=U();let{days:o,selected:i,start:a,end:s,highlighted:c,shouldShakeDate:u,direction:l}=t;return e.$set=(e=>{"days"in e&&n("days",o=e.days),"selected"in e&&n("selected",i=e.selected),"start"in e&&n("start",a=e.start),"end"in e&&n("end",s=e.end),"highlighted"in e&&n("highlighted",c=e.highlighted),"shouldShakeDate"in e&&n("shouldShakeDate",u=e.shouldShakeDate),"direction"in e&&n("direction",l=e.direction)}),{dispatch:r,days:o,selected:i,start:a,end:s,highlighted:c,shouldShakeDate:u,direction:l,click_handler:function({day:e}){return r("dateSelected",e.date)}}}class $s extends Ee{constructor(e){super(),we(this,e,Ms,xs,s,["days","selected","start","end","highlighted","shouldShakeDate","direction"])}}function Rs(e,t,n){const r=Object.create(e);return r.week=t[n],r}function As(e,t){var n,r,o=new $s({props:{days:t.week.days,selected:t.selected,start:t.start,end:t.end,highlighted:t.highlighted,shouldShakeDate:t.shouldShakeDate,direction:t.direction}});return o.$on("dateSelected",t.dateSelected_handler),{key:e,first:null,c(){n=I(),o.$$.fragment.c(),this.first=n},m(e,t){w(e,n,t),ge(o,e,t),r=!0},p(e,t){var n={};e.visibleMonth&&(n.days=t.week.days),e.selected&&(n.selected=t.selected),e.start&&(n.start=t.start),e.end&&(n.end=t.end),e.highlighted&&(n.highlighted=t.highlighted),e.shouldShakeDate&&(n.shouldShakeDate=t.shouldShakeDate),e.direction&&(n.direction=t.direction),o.$set(n)},i(e){r||(ue(o.$$.fragment,e),r=!0)},o(e){le(o.$$.fragment,e),r=!1},d(e){e&&E(n),be(o,e)}}}function Ls(e){var t,n,r=[],o=new Map,i=e.visibleMonth.weeks;const a=e=>e.week.id;for(var s=0;s<i.length;s+=1){let t=Rs(e,i,s),n=a(t);o.set(n,r[s]=As(n,t))}return{c(){for(t=_("div"),s=0;s<r.length;s+=1)r[s].c();D(t,"class","month-container svelte-ny3kda")},m(e,o){for(w(e,t,o),s=0;s<r.length;s+=1)r[s].m(t,null);n=!0},p(e,n){const i=n.visibleMonth.weeks;se(),r=me(r,e,a,1,n,i,o,t,ve,As,null,Rs),ce()},i(e){if(!n){for(var t=0;t<i.length;t+=1)ue(r[t]);n=!0}},o(e){for(s=0;s<r.length;s+=1)le(r[s]);n=!1},d(e){for(e&&E(t),s=0;s<r.length;s+=1)r[s].d()}}}function Ps(e,t,n){let r,{id:o,visibleMonth:i,selected:a,start:s,end:c,highlighted:u,shouldShakeDate:l}=t,d=o;return e.$set=(e=>{"id"in e&&n("id",o=e.id),"visibleMonth"in e&&n("visibleMonth",i=e.visibleMonth),"selected"in e&&n("selected",a=e.selected),"start"in e&&n("start",s=e.start),"end"in e&&n("end",c=e.end),"highlighted"in e&&n("highlighted",u=e.highlighted),"shouldShakeDate"in e&&n("shouldShakeDate",l=e.shouldShakeDate)}),e.$$.update=((e={lastId:1,id:1})=>{(e.lastId||e.id)&&(n("direction",r=d<o?1:-1),n("lastId",d=o))}),{id:o,visibleMonth:i,selected:a,start:s,end:c,highlighted:u,shouldShakeDate:l,direction:r,dateSelected_handler:function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}(e,t)}}}class qs extends Ee{constructor(e){super(),we(this,e,Ps,Ls,s,["id","visibleMonth","selected","start","end","highlighted","shouldShakeDate"])}}const Qs=[{name:"January",abbrev:"Jan"},{name:"February",abbrev:"Feb"},{name:"March",abbrev:"Mar"},{name:"April",abbrev:"Apr"},{name:"May",abbrev:"May"},{name:"June",abbrev:"Jun"},{name:"July",abbrev:"Jul"},{name:"August",abbrev:"Aug"},{name:"September",abbrev:"Sep"},{name:"October",abbrev:"Oct"},{name:"November",abbrev:"Nov"},{name:"December",abbrev:"Dec"}],Fs=[{name:"Sunday",abbrev:"Sun"},{name:"Monday",abbrev:"Mon"},{name:"Tuesday",abbrev:"Tue"},{name:"Wednesday",abbrev:"Wed"},{name:"Thursday",abbrev:"Thu"},{name:"Friday",abbrev:"Fri"},{name:"Saturday",abbrev:"Sat"}];function js(e,t,n){const r=Object.create(e);return r.monthDefinition=t[n],r.index=n,r}function Vs(e){var t,n,r,o,i,a=e.monthDefinition.abbrev;function s(...t){return e.click_handler_2(e,...t)}return{c(){t=_("div"),n=_("span"),r=k(a),o=O(),D(n,"class","svelte-gfrd1b"),D(t,"class","month-selector--month svelte-gfrd1b"),R(t,"selected",e.index===e.month),R(t,"selectable",e.monthDefinition.selectable),i=N(t,"click",s)},m(e,i){w(e,t,i),b(t,n),b(n,r),b(t,o)},p(n,o){e=o,n.availableMonths&&a!==(a=e.monthDefinition.abbrev)&&C(r,a),n.month&&R(t,"selected",e.index===e.month),n.availableMonths&&R(t,"selectable",e.monthDefinition.selectable)},d(e){e&&E(t),i()}}}function Bs(t){for(var n,r,o,a,s,c,u,l,d,f,h,p,v,m=Qs[t.month].name,y=t.availableMonths,g=[],I=0;I<y.length;I+=1)g[I]=Vs(js(t,y,I));return{c(){n=_("div"),r=_("div"),(o=_("div")).innerHTML='<i class="arrow left svelte-gfrd1b"></i>',a=O(),s=_("div"),c=k(m),u=O(),l=k(t.year),d=O(),(f=_("div")).innerHTML='<i class="arrow right svelte-gfrd1b"></i>',h=O(),p=_("div");for(var e=0;e<g.length;e+=1)g[e].c();D(o,"class","control svelte-gfrd1b"),R(o,"enabled",t.canDecrementMonth),D(s,"class","label svelte-gfrd1b"),D(f,"class","control svelte-gfrd1b"),R(f,"enabled",t.canIncrementMonth),D(r,"class","heading-section svelte-gfrd1b"),D(p,"class","month-selector svelte-gfrd1b"),R(p,"open",t.monthSelectorOpen),D(n,"class","title"),v=[N(o,"click",t.click_handler),N(s,"click",t.toggleMonthSelectorOpen),N(f,"click",t.click_handler_1)]},m(e,t){w(e,n,t),b(n,r),b(r,o),b(r,a),b(r,s),b(s,c),b(s,u),b(s,l),b(r,d),b(r,f),b(n,h),b(n,p);for(var i=0;i<g.length;i+=1)g[i].m(p,null)},p(e,t){if(e.canDecrementMonth&&R(o,"enabled",t.canDecrementMonth),e.month&&m!==(m=Qs[t.month].name)&&C(c,m),e.year&&C(l,t.year),e.canIncrementMonth&&R(f,"enabled",t.canIncrementMonth),e.month||e.availableMonths){y=t.availableMonths;for(var n=0;n<y.length;n+=1){const r=js(t,y,n);g[n]?g[n].p(e,r):(g[n]=Vs(r),g[n].c(),g[n].m(p,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=y.length}e.monthSelectorOpen&&R(p,"open",t.monthSelectorOpen)},i:e,o:e,d(e){e&&E(n),S(g,e),i(v)}}}function Us(e,t,n){const r=U();let o,{month:i,start:a,end:s,year:c,canIncrementMonth:u,canDecrementMonth:l}=t,d=!1;function f(){n("monthSelectorOpen",d=!d)}function h(e,t){e.stopPropagation(),r("monthSelected",t),f()}return e.$set=(e=>{"month"in e&&n("month",i=e.month),"start"in e&&n("start",a=e.start),"end"in e&&n("end",s=e.end),"year"in e&&n("year",c=e.year),"canIncrementMonth"in e&&n("canIncrementMonth",u=e.canIncrementMonth),"canDecrementMonth"in e&&n("canDecrementMonth",l=e.canDecrementMonth)}),e.$$.update=((e={start:1,year:1,end:1})=>{if(e.start||e.year||e.end){let e=a.getFullYear()===c,t=s.getFullYear()===c;n("availableMonths",o=Qs.map((n,r)=>({...n,selectable:!e&&!t||(!e||r>=a.getMonth())&&(!t||r<=s.getMonth())})))}}),{dispatch:r,month:i,start:a,end:s,year:c,canIncrementMonth:u,canDecrementMonth:l,monthSelectorOpen:d,availableMonths:o,toggleMonthSelectorOpen:f,monthSelected:h,click_handler:function(){return r("incrementMonth",-1)},click_handler_1:function(){return r("incrementMonth",1)},click_handler_2:function({index:e},t){return h(t,e)}}}class Gs extends Ee{constructor(e){super(),we(this,e,Us,Bs,s,["month","start","end","year","canIncrementMonth","canDecrementMonth"])}}const{window:Ys}=he,Hs=()=>({}),Js=()=>({}),zs=()=>({}),Ws=()=>({});function Ks(e){var t,n,r,o,a,s,c,f;Z(e.onwindowresize);const h=e.$$slots.trigger,p=u(h,e,Ws),v=e.$$slots.contents,m=u(v,e,Js);return{c(){t=_("div"),n=_("div"),p&&p.c(),r=O(),o=_("div"),a=_("div"),s=_("div"),m&&m.c(),D(n,"class","trigger"),D(s,"class","contents-inner svelte-1abig9l"),D(a,"class","contents svelte-1abig9l"),D(o,"class","contents-wrapper svelte-1abig9l"),x(o,"transform","translate(-50%,-50%) translate("+e.translateX+"px, "+e.translateY+"px)"),R(o,"visible",e.open),R(o,"shrink",e.shrink),D(t,"class","popover svelte-1abig9l"),f=[N(Ys,"resize",e.onwindowresize),N(n,"click",e.doOpen)]},l(e){p&&p.l(div0_nodes),m&&m.l(div1_nodes)},m(i,u){w(i,t,u),b(t,n),p&&p.m(n,null),e.div0_binding(n),b(t,r),b(t,o),b(o,a),b(a,s),m&&m.m(s,null),e.div2_binding(a),e.div3_binding(o),e.div4_binding(t),c=!0},p(e,t){p&&p.p&&e.$$scope&&p.p(d(h,t,e,zs),l(h,t,Ws)),m&&m.p&&e.$$scope&&m.p(d(v,t,e,Hs),l(v,t,Js)),(!c||e.translateX||e.translateY)&&x(o,"transform","translate(-50%,-50%) translate("+t.translateX+"px, "+t.translateY+"px)"),e.open&&R(o,"visible",t.open),e.shrink&&R(o,"shrink",t.shrink)},i(e){c||(ue(p,e),ue(m,e),c=!0)},o(e){le(p,e),le(m,e),c=!1},d(n){n&&E(t),p&&p.d(n),e.div0_binding(null),m&&m.d(n),e.div2_binding(null),e.div3_binding(null),e.div4_binding(null),i(f)}}}function Xs(e,t,n){const r=U();let o,i,a,s,c,u=(e,t,n)=>{e.addEventListener(t,function r(){n.apply(this,arguments),e.removeEventListener(t,r)})},l=0,d=0,{open:f=!1,shrink:h,trigger:p}=t;const v=()=>{n("shrink",h=!0),u(s,"animationend",()=>{n("shrink",h=!1),n("open",f=!1),r("closed")})};function m(e){if(!f)return;let t=e.target;do{if(t===o)return}while(t=t.parentNode);v()}B(()=>{if(document.addEventListener("click",m),p)return a.appendChild(p.parentNode.removeChild(p)),()=>{document.removeEventListener("click",m)}});const y=async()=>{f||n("open",f=!0),await(X(),z);let e=c.getBoundingClientRect();return{top:e.top+-1*l,bottom:window.innerHeight-e.bottom+l,left:e.left+-1*d,right:document.body.clientWidth-e.right+d}};let{$$slots:g={},$$scope:b}=t;return e.$set=(e=>{"open"in e&&n("open",f=e.open),"shrink"in e&&n("shrink",h=e.shrink),"trigger"in e&&n("trigger",p=e.trigger),"$$scope"in e&&n("$$scope",b=e.$$scope)}),{popover:o,w:i,triggerContainer:a,contentsAnimated:s,contentsWrapper:c,translateY:l,translateX:d,open:f,shrink:h,trigger:p,close:v,doOpen:async()=>{const{x:e,y:t}=await(async()=>{let e,t,n=await y();return t=i<480?n.bottom:n.top<0?Math.abs(n.top):n.bottom<0?n.bottom:0,{x:e=n.left<0?Math.abs(n.left):n.right<0?n.right:0,y:t}})();n("translateX",d=e),n("translateY",l=t),n("open",f=!0),r("opened")},onwindowresize:function(){i=Ys.innerWidth,n("w",i)},div0_binding:function(e){Y[e?"unshift":"push"](()=>{n("triggerContainer",a=e)})},div2_binding:function(e){Y[e?"unshift":"push"](()=>{n("contentsAnimated",s=e)})},div3_binding:function(e){Y[e?"unshift":"push"](()=>{n("contentsWrapper",c=e)})},div4_binding:function(e){Y[e?"unshift":"push"](()=>{n("popover",o=e)})},$$slots:g,$$scope:b}}class Zs extends Ee{constructor(e){super(),we(this,e,Xs,Ks,s,["open","shrink","trigger","close"])}get close(){return this.$$.ctx.close}}const ec={left:37,up:38,right:39,down:40,pgup:33,pgdown:34,enter:13,escape:27,tab:9},tc=Object.keys(ec).map(e=>ec[e]);function nc(e,t,n){const r=Object.create(e);return r.day=t[n],r}function rc(e){var t,n;return{c(){t=_("button"),n=k(e.formattedSelected),D(t,"class","calendar-button svelte-1kuaxoc"),D(t,"type","button")},m(e,r){w(e,t,r),b(t,n)},p(e,t){e.formattedSelected&&C(n,t.formattedSelected)},d(e){e&&E(t)}}}function oc(e){var t,n;const r=e.$$slots.default,o=u(r,e,null);var i=!e.trigger&&rc(e);return{c(){t=_("div"),o||i&&i.c(),o&&o.c(),D(t,"slot","trigger"),D(t,"class","svelte-1kuaxoc")},l(e){o&&o.l(div_nodes)},m(e,r){w(e,t,r),o?o.m(t,null):i&&i.m(t,null),n=!0},p(e,n){o||(n.trigger?i&&(i.d(1),i=null):i?i.p(e,n):((i=rc(n)).c(),i.m(t,null))),o&&o.p&&e.$$scope&&o.p(d(r,n,e,null),l(r,n,null))},i(e){n||(ue(o,e),n=!0)},o(e){le(o,e),n=!1},d(e){e&&E(t),o||i&&i.d(),o&&o.d(e)}}}function ic(t){var n,r,o=t.day.abbrev;return{c(){n=_("span"),r=k(o),D(n,"class","svelte-1kuaxoc")},m(e,t){w(e,n,t),b(n,r)},p:e,d(e){e&&E(n)}}}function ac(e){var t,n,r,o,i,a,s=new Gs({props:{month:e.month,year:e.year,start:e.start,end:e.end,canIncrementMonth:e.canIncrementMonth,canDecrementMonth:e.canDecrementMonth}});s.$on("monthSelected",e.monthSelected_handler),s.$on("incrementMonth",e.incrementMonth_handler);for(var c=Fs,u=[],l=0;l<c.length;l+=1)u[l]=ic(nc(e,c,l));var d=new qs({props:{visibleMonth:e.visibleMonth,selected:e.selected,highlighted:e.highlighted,shouldShakeDate:e.shouldShakeDate,start:e.start,end:e.end,id:e.visibleMonthId}});return d.$on("dateSelected",e.dateSelected_handler),{c(){t=_("div"),n=_("div"),s.$$.fragment.c(),r=O(),o=_("div");for(var e=0;e<u.length;e+=1)u[e].c();i=O(),d.$$.fragment.c(),D(o,"class","legend svelte-1kuaxoc"),D(n,"class","calendar svelte-1kuaxoc"),D(t,"slot","contents"),D(t,"class","svelte-1kuaxoc")},m(e,c){w(e,t,c),b(t,n),ge(s,n,null),b(n,r),b(n,o);for(var l=0;l<u.length;l+=1)u[l].m(o,null);b(n,i),ge(d,n,null),a=!0},p(e,t){var n={};if(e.month&&(n.month=t.month),e.year&&(n.year=t.year),e.start&&(n.start=t.start),e.end&&(n.end=t.end),e.canIncrementMonth&&(n.canIncrementMonth=t.canIncrementMonth),e.canDecrementMonth&&(n.canDecrementMonth=t.canDecrementMonth),s.$set(n),e.dayDict){c=Fs;for(var r=0;r<c.length;r+=1){const n=nc(t,c,r);u[r]?u[r].p(e,n):(u[r]=ic(n),u[r].c(),u[r].m(o,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=c.length}var i={};e.visibleMonth&&(i.visibleMonth=t.visibleMonth),e.selected&&(i.selected=t.selected),e.highlighted&&(i.highlighted=t.highlighted),e.shouldShakeDate&&(i.shouldShakeDate=t.shouldShakeDate),e.start&&(i.start=t.start),e.end&&(i.end=t.end),e.visibleMonthId&&(i.id=t.visibleMonthId),d.$set(i)},i(e){a||(ue(s.$$.fragment,e),ue(d.$$.fragment,e),a=!0)},o(e){le(s.$$.fragment,e),le(d.$$.fragment,e),a=!1},d(e){e&&E(t),be(s),S(u,e),be(d)}}}function sc(t){var n;return{c(){n=O()},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&E(n)}}}function cc(e){var t,n,r,o;function i(t){e.popover_1_open_binding.call(null,t),n=!0,ee(()=>n=!1)}function a(t){e.popover_1_shrink_binding.call(null,t),r=!0,ee(()=>r=!1)}let s={trigger:e.trigger,$$slots:{default:[sc],contents:[ac],trigger:[oc]},$$scope:{ctx:e}};void 0!==e.isOpen&&(s.open=e.isOpen),void 0!==e.isClosing&&(s.shrink=e.isClosing);var c=new Zs({props:s});return e.popover_1_binding(c),Y.push(()=>ye(c,"open",i)),Y.push(()=>ye(c,"shrink",a)),c.$on("opened",e.registerOpen),c.$on("closed",e.registerClose),{c(){t=_("div"),c.$$.fragment.c(),D(t,"class","datepicker svelte-1kuaxoc"),R(t,"open",e.isOpen),R(t,"closing",e.isClosing)},m(e,n){w(e,t,n),ge(c,t,null),o=!0},p(e,o){var i={};e.trigger&&(i.trigger=o.trigger),(e.$$scope||e.visibleMonth||e.selected||e.highlighted||e.shouldShakeDate||e.start||e.end||e.visibleMonthId||e.month||e.year||e.canIncrementMonth||e.canDecrementMonth||e.trigger||e.formattedSelected)&&(i.$$scope={changed:e,ctx:o}),!n&&e.isOpen&&(i.open=o.isOpen),!r&&e.isClosing&&(i.shrink=o.isClosing),c.$set(i),e.isOpen&&R(t,"open",o.isOpen),e.isClosing&&R(t,"closing",o.isClosing)},i(e){o||(ue(c.$$.fragment,e),o=!0)},o(e){le(c.$$.fragment,e),o=!1},d(n){n&&E(t),e.popover_1_binding(null),be(c)}}}function uc(e,t,n){const r=U(),o=new Date;let i,a,{format:s="#{m}/#{d}/#{Y}",start:c=new Date(1987,9,29),end:u=new Date(2020,9,29),selected:l=o,dateChosen:d=!1,trigger:f=null,selectableCallback:h=null}=t,p=o,v=!1,m=o.getMonth(),y=o.getFullYear(),g=!1,b=!1;o.setHours(0,0,0,0);let w=0,{formattedSelected:E}=t;function S(e){n("month",m=e)}function _(e,t){if(1===e&&!L)return;if(-1===e&&!P)return;let r=new Date(y,m,1);r.setMonth(r.getMonth()+e),n("month",m=r.getMonth()),n("year",y=r.getFullYear()),n("highlighted",p=new Date(y,m,t||1))}function k(e){return n("highlighted",p=new Date(p)),p.setDate(p.getDate()+e),e>0&&p>R?_(1,p.getDate()):e<0&&p<A?_(-1,p.getDate()):p}function O(e){const t=function(e,t){for(let n=0;n<e.weeks.length;n+=1)for(let r=0;r<e.weeks[n].days.length;r+=1)if(Ts(e.weeks[n].days[r].date,t))return e.weeks[n].days[r];return null}(M,e);return!!t&&t.selectable}function I(e){!function(e){f&&(f.innerHTML=e,n("trigger",f))}(e)}function N(e){return O(e)?(C(),n("selected",l=e),n("dateChosen",d=!0),I(E),r("dateSelected",{date:e})):(t=e,clearTimeout(a),n("shouldShakeDate",v=t),void(a=setTimeout(()=>{n("shouldShakeDate",v=!1)},700)));var t}function T(e){if(-1!==tc.indexOf(e.keyCode))switch(e.preventDefault(),e.keyCode){case ec.left:k(-1);break;case ec.up:k(-7);break;case ec.right:k(1);break;case ec.down:k(7);break;case ec.pgup:_(-1);break;case ec.pgdown:_(1);break;case ec.escape:C();break;case ec.enter:N(p)}}function D(){document.removeEventListener("keydown",T),r("close")}function C(){i.close(),D()}B(()=>{n("month",m=l.getMonth()),n("year",y=l.getFullYear())});let x,M,$,R,A,L,P,{$$slots:q={},$$scope:Q}=t;return e.$set=(e=>{"format"in e&&n("format",s=e.format),"start"in e&&n("start",c=e.start),"end"in e&&n("end",u=e.end),"selected"in e&&n("selected",l=e.selected),"dateChosen"in e&&n("dateChosen",d=e.dateChosen),"trigger"in e&&n("trigger",f=e.trigger),"selectableCallback"in e&&n("selectableCallback",h=e.selectableCallback),"formattedSelected"in e&&n("formattedSelected",E=e.formattedSelected),"$$scope"in e&&n("$$scope",Q=e.$$scope)}),e.$$.update=((e={start:1,end:1,selectableCallback:1,months:1,month:1,year:1,monthIndex:1,visibleMonth:1,selected:1,format:1})=>{if((e.start||e.end||e.selectableCallback)&&n("months",x=function(e,t,n=null){e.setHours(0,0,0,0),t.setHours(0,0,0,0);let r=new Date(t.getFullYear(),t.getMonth()+1,1),o=[],i=new Date(e.getFullYear(),e.getMonth(),1),a=Ns(e,t,n);for(;i<r;)o.push(Is(i.getMonth(),i.getFullYear(),a)),i.setMonth(i.getMonth()+1);return o}(c,u,h)),e.months||e.month||e.year){n("monthIndex",w=0);for(let e=0;e<x.length;e+=1)x[e].month===m&&x[e].year===y&&n("monthIndex",w=e)}(e.months||e.monthIndex)&&n("visibleMonth",M=x[w]),(e.year||e.month)&&n("visibleMonthId",$=y+m/100),e.visibleMonth&&(R=M.weeks[M.weeks.length-1].days[6].date),e.visibleMonth&&(A=M.weeks[0].days[0].date),(e.monthIndex||e.months)&&n("canIncrementMonth",L=w<x.length-1),e.monthIndex&&n("canDecrementMonth",P=w>0),(e.selected||e.format)&&n("formattedSelected",E=Ua(l,s))}),{popover:i,format:s,start:c,end:u,selected:l,dateChosen:d,trigger:f,selectableCallback:h,highlighted:p,shouldShakeDate:v,month:m,year:y,isOpen:g,isClosing:b,formattedSelected:E,changeMonth:S,incrementMonth:_,registerSelection:N,registerClose:D,registerOpen:function(){n("highlighted",p=new Date(l)),n("month",m=l.getMonth()),n("year",y=l.getFullYear()),document.addEventListener("keydown",T),r("open")},visibleMonth:M,visibleMonthId:$,canIncrementMonth:L,canDecrementMonth:P,monthSelected_handler:function(e){return S(e.detail)},incrementMonth_handler:function(e){return _(e.detail)},dateSelected_handler:function(e){return N(e.detail)},popover_1_binding:function(e){Y[e?"unshift":"push"](()=>{n("popover",i=e)})},popover_1_open_binding:function(e){n("isOpen",g=e)},popover_1_shrink_binding:function(e){n("isClosing",b=e)},$$slots:q,$$scope:Q}}class lc extends Ee{constructor(e){super(),we(this,e,uc,cc,s,["format","start","end","selected","dateChosen","trigger","selectableCallback","formattedSelected"])}}function dc(e,t,n){const r=Object.create(e);return r.choice=t[n],r}function fc(e,t,n){const r=Object.create(e);return r.choice=t[n],r}function hc(e,t,n){const r=Object.create(e);return r.choice=t[n],r}function pc(e,t,n){const r=Object.create(e);return r.choice=t[n],r}function vc(e,t,n){const r=Object.create(e);return r.choice=t[n],r}function mc(t){var n;return{c(){(n=_("div")).innerHTML="<h5>\n\t\t\t          You are not a member of any company yet, please request an invite from\n\t\t\t          your company's admin to start swapping shifts with your colleagues.\n\t\t\t        </h5>"},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&E(n)}}}function yc(e){var t,n,r,o,a,s,c,u,l,d,f,h,p,v,m,y,g,k,I,C,x,$,R,A,L,P,q,Q,F,j,V,B,U,G,H,J;function z(t){e.datepicker0_formattedSelected_binding.call(null,t),s=!0,ee(()=>s=!1)}function W(t){e.datepicker0_dateChosen_binding.call(null,t),c=!0,ee(()=>c=!1)}let K={format:Ac,start:e.fromCalendarStartDate,$$slots:{default:[gc]},$$scope:{ctx:e}};void 0!==e.fromDate&&(K.formattedSelected=e.fromDate),void 0!==e.fromDateChosen&&(K.dateChosen=e.fromDateChosen);var X=new lc({props:K});Y.push(()=>ye(X,"formattedSelected",z)),Y.push(()=>ye(X,"dateChosen",W)),X.$on("open",e.open_handler),X.$on("close",e.close_handler);for(var te=e.hourList,ne=[],re=0;re<te.length;re+=1)ne[re]=Ec(vc(e,te,re));var oe=e.minuteList,ie=[];for(re=0;re<oe.length;re+=1)ie[re]=kc(pc(e,oe,re));function ae(t){e.datepicker1_formattedSelected_binding.call(null,t),y=!0,ee(()=>y=!1)}function se(t){e.datepicker1_dateChosen_binding.call(null,t),g=!0,ee(()=>g=!1)}let ce={format:Ac,start:e.toCalendarStartDate,$$slots:{default:[Ic]},$$scope:{ctx:e}};void 0!==e.toDate&&(ce.formattedSelected=e.toDate),void 0!==e.toDateChosen&&(ce.dateChosen=e.toDateChosen);var de=new lc({props:ce});Y.push(()=>ye(de,"formattedSelected",ae)),Y.push(()=>ye(de,"dateChosen",se));var fe=e.hourList,he=[];for(re=0;re<fe.length;re+=1)he[re]=Dc(hc(e,fe,re));var pe=e.minuteList,ve=[];for(re=0;re<pe.length;re+=1)ve[re]=Mc(fc(e,pe,re));var me=e.$connections,we=[];for(re=0;re<me.length;re+=1)we[re]=$c(dc(e,me,re));return{c(){t=_("div"),n=_("form"),r=_("div"),(o=_("h5")).textContent="From :",a=O(),X.$$.fragment.c(),u=O(),l=_("select");for(var i=0;i<ne.length;i+=1)ne[i].c();d=O(),f=_("select");for(i=0;i<ie.length;i+=1)ie[i].c();h=O(),p=_("div"),(v=_("h5")).textContent="To :",m=O(),de.$$.fragment.c(),k=O(),I=_("select");for(i=0;i<he.length;i+=1)he[i].c();C=O(),x=_("select");for(i=0;i<ve.length;i+=1)ve[i].c();$=O(),R=_("div"),(A=_("h5")).textContent="Note :",L=O(),P=_("textarea"),q=O(),Q=_("div"),(F=_("h5")).textContent="Company :",j=O(),V=_("select"),(B=_("option")).textContent="Select Company to post shift on\r\n              ";for(i=0;i<we.length;i+=1)we[i].c();U=O(),(G=_("div")).innerHTML='<button type="submit" class="btn btn-primary form-control postShift-btn svelte-1pvagza">\n\t\t\t              Post Shift\n\t\t\t            </button>',void 0===e.fromHour&&Z(()=>e.select0_change_handler.call(l)),D(l,"aria-describedby","inputGroupSelect01"),D(l,"class","custom-select time-field svelte-1pvagza"),void 0===e.fromMinute&&Z(()=>e.select1_change_handler.call(f)),D(f,"aria-describedby","inputGroupSelect01"),D(f,"class","custom-select time-field svelte-1pvagza"),D(r,"class",""),void 0===e.toHour&&Z(()=>e.select2_change_handler.call(I)),D(I,"aria-describedby","inputGroupSelect01"),D(I,"class","custom-select time-field svelte-1pvagza"),void 0===e.toMinute&&Z(()=>e.select3_change_handler.call(x)),D(x,"aria-describedby","inputGroupSelect01"),D(x,"class","custom-select time-field svelte-1pvagza"),D(p,"class",""),D(P,"class","form-control"),D(P,"name","note"),D(P,"id","note"),D(P,"cols",""),D(P,"rows",""),D(P,"placeholder","Enter a short note about this shift"),D(R,"class",""),B.__value="",B.value=B.__value,B.selected=!0,B.disabled=!0,B.hidden=!0,void 0===e.selectedCompany&&Z(()=>e.select4_change_handler.call(V)),D(V,"class","custom-select"),D(Q,"class","mb-3"),D(G,"class",""),D(n,"class",""),D(t,"class","jumbotron svelte-1pvagza"),J=[N(l,"change",e.select0_change_handler),N(f,"change",e.select1_change_handler),N(I,"change",e.select2_change_handler),N(x,"change",e.select3_change_handler),N(P,"input",e.textarea_input_handler),N(V,"change",e.select4_change_handler),N(n,"submit",T(e.handleSubmit))]},m(i,s){w(i,t,s),b(t,n),b(n,r),b(r,o),b(r,a),ge(X,r,null),b(r,u),b(r,l);for(var c=0;c<ne.length;c+=1)ne[c].m(l,null);M(l,e.fromHour),b(r,d),b(r,f);for(c=0;c<ie.length;c+=1)ie[c].m(f,null);M(f,e.fromMinute),b(n,h),b(n,p),b(p,v),b(p,m),ge(de,p,null),b(p,k),b(p,I);for(c=0;c<he.length;c+=1)he[c].m(I,null);M(I,e.toHour),b(p,C),b(p,x);for(c=0;c<ve.length;c+=1)ve[c].m(x,null);M(x,e.toMinute),b(n,$),b(n,R),b(R,A),b(R,L),b(R,P),P.value=e.note,b(n,q),b(n,Q),b(Q,F),b(Q,j),b(Q,V),b(V,B);for(c=0;c<we.length;c+=1)we[c].m(V,null);M(V,e.selectedCompany),b(n,U),b(n,G),H=!0},p(e,t){var n={};if(e.dateFormat&&(n.format=Ac),e.fromCalendarStartDate&&(n.start=t.fromCalendarStartDate),(e.$$scope||e.fromDate)&&(n.$$scope={changed:e,ctx:t}),!s&&e.fromDate&&(n.formattedSelected=t.fromDate),!c&&e.fromDateChosen&&(n.dateChosen=t.fromDateChosen),X.$set(n),e.hourList){te=t.hourList;for(var r=0;r<te.length;r+=1){const n=vc(t,te,r);ne[r]?ne[r].p(e,n):(ne[r]=Ec(n),ne[r].c(),ne[r].m(l,null))}for(;r<ne.length;r+=1)ne[r].d(1);ne.length=te.length}if(e.fromHour&&M(l,t.fromHour),e.minuteList){oe=t.minuteList;for(r=0;r<oe.length;r+=1){const n=pc(t,oe,r);ie[r]?ie[r].p(e,n):(ie[r]=kc(n),ie[r].c(),ie[r].m(f,null))}for(;r<ie.length;r+=1)ie[r].d(1);ie.length=oe.length}e.fromMinute&&M(f,t.fromMinute);var o={};if(e.dateFormat&&(o.format=Ac),e.toCalendarStartDate&&(o.start=t.toCalendarStartDate),(e.$$scope||e.fromClicked||e.toDate)&&(o.$$scope={changed:e,ctx:t}),!y&&e.toDate&&(o.formattedSelected=t.toDate),!g&&e.toDateChosen&&(o.dateChosen=t.toDateChosen),de.$set(o),e.hourList){fe=t.hourList;for(r=0;r<fe.length;r+=1){const n=hc(t,fe,r);he[r]?he[r].p(e,n):(he[r]=Dc(n),he[r].c(),he[r].m(I,null))}for(;r<he.length;r+=1)he[r].d(1);he.length=fe.length}if(e.toHour&&M(I,t.toHour),e.minuteList){pe=t.minuteList;for(r=0;r<pe.length;r+=1){const n=fc(t,pe,r);ve[r]?ve[r].p(e,n):(ve[r]=Mc(n),ve[r].c(),ve[r].m(x,null))}for(;r<ve.length;r+=1)ve[r].d(1);ve.length=pe.length}if(e.toMinute&&M(x,t.toMinute),e.note&&(P.value=t.note),e.$connections){me=t.$connections;for(r=0;r<me.length;r+=1){const n=dc(t,me,r);we[r]?we[r].p(e,n):(we[r]=$c(n),we[r].c(),we[r].m(V,null))}for(;r<we.length;r+=1)we[r].d(1);we.length=me.length}e.selectedCompany&&M(V,t.selectedCompany)},i(e){H||(ue(X.$$.fragment,e),ue(de.$$.fragment,e),H=!0)},o(e){le(X.$$.fragment,e),le(de.$$.fragment,e),H=!1},d(e){e&&E(t),be(X),S(ne,e),S(ie,e),be(de),S(he,e),S(ve,e),S(we,e),i(J)}}}function gc(e){var t;return{c(){D(t=_("input"),"type","text"),D(t,"class","form-control date-field svelte-1pvagza"),t.value=e.fromDate,t.readOnly=!0,D(t,"placeholder","Pick a start date")},m(e,n){w(e,t,n)},p(e,n){e.fromDate&&(t.value=n.fromDate)},d(e){e&&E(t)}}}function bc(e){var t,n=e.choice;return{c(){t=k(n)},m(e,n){w(e,t,n)},p(e,r){e.hourList&&n!==(n=r.choice)&&C(t,n)},d(e){e&&E(t)}}}function wc(e){var t,n,r=e.choice;return{c(){t=k("0"),n=k(r)},m(e,r){w(e,t,r),w(e,n,r)},p(e,t){e.hourList&&r!==(r=t.choice)&&C(n,r)},d(e){e&&(E(t),E(n))}}}function Ec(e){var t,n,r;function o(e){return e.choice<10?wc:bc}var i=o(e),a=i(e);return{c(){t=_("option"),a.c(),n=O(),t.__value=r=e.choice,t.value=t.__value},m(e,r){w(e,t,r),a.m(t,null),b(t,n)},p(e,s){i===(i=o(s))&&a?a.p(e,s):(a.d(1),(a=i(s))&&(a.c(),a.m(t,n))),e.hourList&&r!==(r=s.choice)&&(t.__value=r),t.value=t.__value},d(e){e&&E(t),a.d()}}}function Sc(e){var t,n=e.choice;return{c(){t=k(n)},m(e,n){w(e,t,n)},p(e,r){e.minuteList&&n!==(n=r.choice)&&C(t,n)},d(e){e&&E(t)}}}function _c(e){var t,n,r=e.choice;return{c(){t=k("0"),n=k(r)},m(e,r){w(e,t,r),w(e,n,r)},p(e,t){e.minuteList&&r!==(r=t.choice)&&C(n,r)},d(e){e&&(E(t),E(n))}}}function kc(e){var t,n,r;function o(e){return e.choice<10?_c:Sc}var i=o(e),a=i(e);return{c(){t=_("option"),a.c(),n=O(),t.__value=r=e.choice,t.value=t.__value},m(e,r){w(e,t,r),a.m(t,null),b(t,n)},p(e,s){i===(i=o(s))&&a?a.p(e,s):(a.d(1),(a=i(s))&&(a.c(),a.m(t,n))),e.minuteList&&r!==(r=s.choice)&&(t.__value=r),t.value=t.__value},d(e){e&&E(t),a.d()}}}function Oc(e){var t;return{c(){D(t=_("input"),"type","text"),D(t,"class","form-control date-field svelte-1pvagza"),t.value=e.toDate,t.readOnly=!0,D(t,"placeholder","Pick a end date")},m(e,n){w(e,t,n)},p(e,n){e.toDate&&(t.value=n.toDate)},d(e){e&&E(t)}}}function Ic(e){var t,n=!e.fromClicked&&Oc(e);return{c(){n&&n.c(),t=I()},m(e,r){n&&n.m(e,r),w(e,t,r)},p(e,r){r.fromClicked?n&&(n.d(1),n=null):n?n.p(e,r):((n=Oc(r)).c(),n.m(t.parentNode,t))},d(e){n&&n.d(e),e&&E(t)}}}function Nc(e){var t,n=e.choice;return{c(){t=k(n)},m(e,n){w(e,t,n)},p(e,r){e.hourList&&n!==(n=r.choice)&&C(t,n)},d(e){e&&E(t)}}}function Tc(e){var t,n,r=e.choice;return{c(){t=k("0"),n=k(r)},m(e,r){w(e,t,r),w(e,n,r)},p(e,t){e.hourList&&r!==(r=t.choice)&&C(n,r)},d(e){e&&(E(t),E(n))}}}function Dc(e){var t,n,r;function o(e){return e.choice<10?Tc:Nc}var i=o(e),a=i(e);return{c(){t=_("option"),a.c(),n=O(),t.__value=r=e.choice,t.value=t.__value},m(e,r){w(e,t,r),a.m(t,null),b(t,n)},p(e,s){i===(i=o(s))&&a?a.p(e,s):(a.d(1),(a=i(s))&&(a.c(),a.m(t,n))),e.hourList&&r!==(r=s.choice)&&(t.__value=r),t.value=t.__value},d(e){e&&E(t),a.d()}}}function Cc(e){var t,n=e.choice;return{c(){t=k(n)},m(e,n){w(e,t,n)},p(e,r){e.minuteList&&n!==(n=r.choice)&&C(t,n)},d(e){e&&E(t)}}}function xc(e){var t,n,r=e.choice;return{c(){t=k("0"),n=k(r)},m(e,r){w(e,t,r),w(e,n,r)},p(e,t){e.minuteList&&r!==(r=t.choice)&&C(n,r)},d(e){e&&(E(t),E(n))}}}function Mc(e){var t,n,r;function o(e){return e.choice<10?xc:Cc}var i=o(e),a=i(e);return{c(){t=_("option"),a.c(),n=O(),t.__value=r=e.choice,t.value=t.__value},m(e,r){w(e,t,r),a.m(t,null),b(t,n)},p(e,s){i===(i=o(s))&&a?a.p(e,s):(a.d(1),(a=i(s))&&(a.c(),a.m(t,n))),e.minuteList&&r!==(r=s.choice)&&(t.__value=r),t.value=t.__value},d(e){e&&E(t),a.d()}}}function $c(e){var t,n,r,o,i=e.choice.company.userprofile.companyName;return{c(){t=_("option"),n=k(i),r=O(),t.__value=o=e.choice,t.value=t.__value},m(e,o){w(e,t,o),b(t,n),b(t,r)},p(e,r){e.$connections&&i!==(i=r.choice.company.userprofile.companyName)&&C(n,i),e.$connections&&o!==(o=r.choice)&&(t.__value=o),t.value=t.__value},d(e){e&&E(t)}}}function Rc(e){var t,n,r,o,i,a,s=[yc,mc],c=[];function u(e){return e.$connections.length>0?0:1}return r=u(e),o=c[r]=s[r](e),{c(){t=_("div"),n=_("main"),o.c(),D(n,"class","svelte-1pvagza")},m(e,o){w(e,t,o),b(t,n),c[r].m(n,null),a=!0},p(e,t){var i=r;(r=u(t))===i?c[r].p(e,t):(se(),le(c[i],1,1,()=>{c[i]=null}),ce(),(o=c[r])||(o=c[r]=s[r](t)).c(),ue(o,1),o.m(n,null))},i(e){a||(ue(o),i||Z(()=>{(i=de(t,$e,{duration:500})).start()}),a=!0)},o(e){le(o),a=!1},d(e){e&&E(t),c[r].d()}}}let Ac="#{l}, #{F} #{j}, #{Y}";function Lc(e,t,n){let r,o;c(e,Be,e=>{n("$myShifts",r=e)}),c(e,je,e=>{n("$connections",o=e)});const i=wn();let a,s,u,l,d="",f=!1,h=Ua(new Date,Ac),p=Ua(new Date,Ac),v=new Date,m=new Date,y=new Date,g=0,b=0,w=0,E=0,S=new Array(24),_=new Array(60),k=!1,O=!1,I=!1;for(var N=0;N<S.length;N++)S[N]=N,n("hourList",S);for(N=0;N<_.length;N++)_[N]=N,n("minuteList",_);return e.$$.update=((e={fromDate:1,toCalendarEndDate:1,toCalendarStartDate:1})=>{e.fromDate&&n("toDate",p=h),(e.fromDate||e.toCalendarEndDate||e.toCalendarStartDate)&&(n("toCalendarStartDate",m=new Date(h)),y.setDate(m.getDate()+1))}),{note:d,selectedCompany:l,fromDate:h,toDate:p,fromCalendarStartDate:v,toCalendarStartDate:m,fromHour:g,toHour:b,fromMinute:w,toMinute:E,hourList:S,minuteList:_,fromClicked:k,fromDateChosen:O,toDateChosen:I,handleSubmit:async function(){l?(a=new Date(h+", "+g+":"+w),s=new Date(p+", "+b+":"+E),a>=s?ya.danger("Shift end date must be higher than start date"):(u=l.company.id,f=!1,async function(){try{await kn(i,{mutation:ca,variables:{fromTime:a,toTime:s,note:d,isSponsored:f,companyId:u}}).then(e=>{r=[...r,e.data.createShift.shift],Be.set(r),console.log(r)})}catch(e){console.log(e)}}())):ya.danger("You must select a company to proceed")},$connections:o,datepicker0_formattedSelected_binding:function(e){n("fromDate",h=e)},datepicker0_dateChosen_binding:function(e){n("fromDateChosen",O=e)},open_handler:function(){n("fromClicked",k=!0)},close_handler:function(){n("fromClicked",k=!1)},select0_change_handler:function(){g=$(this),n("fromHour",g),n("hourList",S)},select1_change_handler:function(){w=$(this),n("fromMinute",w),n("minuteList",_)},datepicker1_formattedSelected_binding:function(e){n("toDate",p=e),n("fromDate",h)},datepicker1_dateChosen_binding:function(e){n("toDateChosen",I=e)},select2_change_handler:function(){b=$(this),n("toHour",b),n("hourList",S)},select3_change_handler:function(){E=$(this),n("toMinute",E),n("minuteList",_)},textarea_input_handler:function(){d=this.value,n("note",d)},select4_change_handler:function(){l=$(this),n("selectedCompany",l)}}}function Pc(t){var n,r;return{c(){D(n=_("div"),"class","svelte-4qciy9")},m(e,t){w(e,n,t)},p:e,i(e){r||Z(()=>{(r=de(n,$e,{duration:500})).start()})},o:e,d(e){e&&E(n)}}}function qc(e){const t=wn();_n(t,{query:ta}),_n(t,{query:aa});return{}}function Qc(t){var n,r,o,i;return{c(){n=_("main"),r=_("div"),o=_("p"),i=k(t.label),D(r,"class","card")},m(e,t){w(e,n,t),b(n,r),b(r,o),b(o,i)},p(e,t){e.label&&C(i,t.label)},i:e,o:e,d(e){e&&E(n)}}}async function Fc(e){await function(e){return new Promise(t=>setTimeout(t,e))}(e)}function jc(e,t,n){let r;c(e,Ae,e=>{n("$isLoggedIn",r=e)});let{params:o={}}=t;const i=wn();let a="Confirming invitation, please wait...";return!1===r?(msg="You are not Logged in, redirecting to the log in page...",async function(e,t){ya.danger(t,e-.15*e),await Fc(e),De("/login")}(4e3,msg)):async function(){try{await kn(i,{mutation:ia,variables:{invitationId:o.id}}).then(e=>{n("label",a="Congratulation, invitation confirmed!");let t="You have successfully joined "+e.data.confirmUserConnection.userConnection.company.userprofile.companyName;e.data.confirmUserConnection.userConnection.isConfirmed&&ya.success(t),setTimeout(()=>{De("/dashboard/")},3500)})}catch(e){console.log(e),n("label",a="An error occurred"),ya.danger(a,1500),setTimeout(()=>{De("/dashboard/")},1800)}}(),console.log(o.id),e.$set=(e=>{"params"in e&&n("params",o=e.params)}),{params:o,label:a}}function Vc(t){var n,r;return{c(){(n=_("div")).innerHTML='<h1 class="svelte-ysidjt">404 Error: Page Not Found</h1>'},m(e,t){w(e,n,t)},p:e,i(e){r||Z(()=>{(r=de(n,$e,{duration:500})).start()})},o:e,d(e){e&&E(n)}}}const Bc={"/":class extends Ee{constructor(e){super(),we(this,e,null,Je,s,[])}},"/login":class extends Ee{constructor(e){super(),we(this,e,Ma,xa,s,[])}},"/signup":class extends Ee{constructor(e){super(),we(this,e,Ca,Da,s,[])}},"/verifyaccount":class extends Ee{constructor(e){super(),we(this,e,La,Aa,s,[])}},"/forgotpassword":class extends Ee{constructor(e){super(),we(this,e,null,$a,s,[])}},"/recoveraccount":class extends Ee{constructor(e){super(),we(this,e,null,Ra,s,[])}},"/dashboard":class extends Ee{constructor(e){super(),we(this,e,qc,Pc,s,[])}},"/confirminvitation/:id":class extends Ee{constructor(e){super(),we(this,e,jc,Qc,s,["params"])}},"/dashboard/invite":class extends Ee{constructor(e){super(),we(this,e,qa,Pa,s,[])}},"/dashboard/invitations":class extends Ee{constructor(e){super(),we(this,e,ns,ts,s,[])}},"/dashboard/shifts":class extends Ee{constructor(e){super(),we(this,e,Os,_s,s,[])}},"/dashboard/postshift":class extends Ee{constructor(e){super(),we(this,e,Lc,Rc,s,[])}},"*":class extends Ee{constructor(e){super(),we(this,e,null,Vc,s,[])}}};function Uc(e){var t,n;return{c(){(t=_("button")).innerHTML='<span class="navbar-toggler-icon svelte-193ucez"></span>',D(t,"id","menu-toggler"),D(t,"class","btn bg-light svelte-193ucez"),n=N(t,"click",e.toggleMenu)},m(e,n){w(e,t,n)},d(e){e&&E(t),n()}}}function Gc(e){var t,n,r,o,i,a,s,c,u,l,d,f;function h(e){return void 0!==e.$user.email?Hc:Yc}var p=h(e),v=p(e);return{c(){t=_("div"),n=_("ul"),r=_("li"),o=_("a"),v.c(),i=O(),a=_("div"),(s=_("a")).textContent="Profile",c=O(),u=_("div"),l=O(),(d=_("a")).textContent="Logout",D(o,"class","nav-link dropdown-toggle"),D(o,"href","#/"),D(o,"id","navbarDropdown"),D(o,"role","button"),o.dataset.toggle="dropdown",D(o,"aria-haspopup","true"),D(o,"aria-expanded","false"),D(s,"class","dropdown-item"),D(s,"href","#/"),D(u,"class","dropdown-divider"),D(d,"class","dropdown-item"),D(d,"href","#/"),D(a,"class","dropdown-menu svelte-193ucez"),D(a,"aria-labelledby","navbarDropdown"),D(r,"class","nav-item dropdown"),D(n,"class","navbar-nav ml-auto svelte-193ucez"),D(t,"class","collapse navbar-collapse svelte-193ucez"),D(t,"id","navbarSupportedContent"),f=N(d,"click",zc)},m(e,f){w(e,t,f),b(t,n),b(n,r),b(r,o),v.m(o,null),b(r,i),b(r,a),b(a,s),b(a,c),b(a,u),b(a,l),b(a,d)},p(e,t){p===(p=h(t))&&v?v.p(e,t):(v.d(1),(v=p(t))&&(v.c(),v.m(o,null)))},d(e){e&&E(t),v.d(),f()}}}function Yc(t){var n;return{c(){n=k("Loading...")},m(e,t){w(e,n,t)},p:e,d(e){e&&E(n)}}}function Hc(e){var t,n=e.$user.email;return{c(){t=k(n)},m(e,n){w(e,t,n)},p(e,r){e.$user&&n!==(n=r.$user.email)&&C(t,n)},d(e){e&&E(t)}}}function Jc(t){var n,r,o,i,a,s,c,u=t.$isLoggedIn&&Uc(t),l=t.$isLoggedIn&&Gc(t);return{c(){n=_("main"),r=_("nav"),u&&u.c(),o=O(),(i=_("a")).textContent="SWAPBOARD",a=O(),(s=_("button")).innerHTML='<span class="navbar-toggler-icon svelte-193ucez"></span>',c=O(),l&&l.c(),D(i,"class","navbar-brand svelte-193ucez"),D(i,"href","#/"),D(s,"class","navbar-toggler svelte-193ucez"),D(s,"type","button"),s.dataset.toggle="collapse",s.dataset.target="#navbarSupportedContent",D(s,"aria-controls","navbarSupportedContent"),D(s,"aria-expanded","false"),D(s,"aria-label","Toggle navigation"),D(r,"class","navbar fixed-top navbar-expand-sm navbar-light bg-light svelte-193ucez")},m(e,t){w(e,n,t),b(n,r),u&&u.m(r,null),b(r,o),b(r,i),b(r,a),b(r,s),b(r,c),l&&l.m(r,null)},p(e,t){t.$isLoggedIn?u||((u=Uc(t)).c(),u.m(r,o)):u&&(u.d(1),u=null),t.$isLoggedIn?l?l.p(e,t):((l=Gc(t)).c(),l.m(r,null)):l&&(l.d(1),l=null)},i:e,o:e,d(e){e&&E(n),u&&u.d(),l&&l.d()}}}function zc(){qe.set(""),Pe.set(0),Le.set(!1),Ae.set(!1),Qe.set({}),Ue.set(!1),sessionStorage.setItem("startedTimeoutSession",JSON.stringify(!1)),localStorage.setItem("startedTimeout",JSON.stringify(!1)),localStorage.setItem("logout-event","logout"+Math.random())}function Wc(e,t,n){let r,o,i;return c(e,Ue,e=>{n("$menuDisplayed",r=e)}),c(e,Ae,e=>{n("$isLoggedIn",o=e)}),c(e,Qe,e=>{n("$user",i=e)}),{toggleMenu:function(){Ue.set(!r)},$isLoggedIn:o,$user:i}}class Kc extends Ee{constructor(e){super(),we(this,e,Wc,Jc,s,[])}}var Xc=Zc;function Zc(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Zc.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Zc.prototype.reset=function(){this.attempts=0},Zc.prototype.setMin=function(e){this.ms=e},Zc.prototype.setMax=function(e){this.max=e},Zc.prototype.setJitter=function(e){this.jitter=e};var eu=Nn(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,i||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,o,i,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,o),!0;case 5:return l.fn.call(l.context,t,r,o,i),!0;case 6:return l.fn.call(l.context,t,r,o,i,a),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var f,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,o);break;default:if(!c)for(f=1,c=new Array(d-1);f<d;f++)c[f-1]=arguments[f];l[u].fn.apply(l[u].context,c)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||a(this,i);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==t||o&&!s[c].once||r&&s[c].context!==r)&&u.push(s[c]);u.length?this._events[i]=1===u.length?u[0]:u:a(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}),tu=Nn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e}});In(tu);var nu=Nn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null!==e&&"object"==typeof e}});In(nu);var ru=Object.freeze({getOperationAST:function(e,t){var n=null,r=!0,o=!1,i=void 0;try{for(var a,s=e.definitions[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;if(c.kind===Wo.OPERATION_DEFINITION)if(t){if(c.name&&c.name.value===t)return c}else{if(n)return null;n=c}}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}),ou=Nn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.GRAPHQL_WS="graphql-ws";t.GRAPHQL_SUBSCRIPTIONS="graphql-subscriptions"});In(ou);ou.GRAPHQL_WS,ou.GRAPHQL_SUBSCRIPTIONS;var iu=Nn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.WS_TIMEOUT=3e4});In(iu);iu.WS_TIMEOUT;var au=Nn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){throw new Error("Static Class")}return e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_CONNECTION_TERMINATE="connection_terminate",e.GQL_START="start",e.GQL_DATA="data",e.GQL_ERROR="error",e.GQL_COMPLETE="complete",e.GQL_STOP="stop",e.SUBSCRIPTION_START="subscription_start",e.SUBSCRIPTION_DATA="subscription_data",e.SUBSCRIPTION_SUCCESS="subscription_success",e.SUBSCRIPTION_FAIL="subscription_fail",e.SUBSCRIPTION_END="subscription_end",e.INIT="init",e.INIT_SUCCESS="init_success",e.INIT_FAIL="init_fail",e.KEEP_ALIVE="keepalive",e}();t.default=n});In(au);var su=Tn(So),cu=Tn(ru),uu=Nn(function(e,t){var n=On&&On.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r=On&&On.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=On&&On.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=void 0!==On?On:"undefined"!=typeof window?window:{},a=i.WebSocket||i.MozWebSocket,s=function(){function e(e,t,n,r){var o=t||{},i=o.connectionCallback,s=void 0===i?void 0:i,c=o.connectionParams,u=void 0===c?{}:c,l=o.timeout,d=void 0===l?iu.WS_TIMEOUT:l,f=o.reconnect,h=void 0!==f&&f,p=o.reconnectionAttempts,v=void 0===p?1/0:p,m=o.lazy,y=void 0!==m&&m,g=o.inactivityTimeout,b=void 0===g?0:g;if(this.wsImpl=n||a,!this.wsImpl)throw new Error("Unable to find native implementation, or alternative implementation for WebSocket!");this.wsProtocols=r||ou.GRAPHQL_WS,this.connectionCallback=s,this.url=e,this.operations={},this.nextOperationId=0,this.wsTimeout=d,this.unsentMessagesQueue=[],this.reconnect=h,this.reconnecting=!1,this.reconnectionAttempts=v,this.lazy=!!y,this.inactivityTimeout=b,this.closedByUser=!1,this.backoff=new Xc({jitter:.5}),this.eventEmitter=new eu.EventEmitter,this.middlewares=[],this.client=null,this.maxConnectTimeGenerator=this.createMaxConnectTimeGenerator(),this.connectionParams=this.getConnectionParams(u),this.lazy||this.connect()}return Object.defineProperty(e.prototype,"status",{get:function(){return null===this.client?this.wsImpl.CLOSED:this.client.readyState},enumerable:!0,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this.clearInactivityTimeout(),null!==this.client&&(this.closedByUser=t,e&&(this.clearCheckConnectionInterval(),this.clearMaxConnectTimeout(),this.clearTryReconnectTimeout(),this.unsubscribeAll(),this.sendMessage(void 0,au.default.GQL_CONNECTION_TERMINATE,null)),this.client.close(),this.client=null,this.eventEmitter.emit("disconnected"),e||this.tryReconnect())},e.prototype.request=function(e){var t,n,r=this.getObserver.bind(this),o=this.executeOperation.bind(this),i=this.unsubscribe.bind(this);return this.clearInactivityTimeout(),(t={})[Un.default]=function(){return this},t.subscribe=function(t,a,s){var c=r(t,a,s);return n=o(e,function(e,t){null===e&&null===t?c.complete&&c.complete():e?c.error&&c.error(e[0]):c.next&&c.next(t)}),{unsubscribe:function(){n&&(i(n),n=null)}}},t},e.prototype.on=function(e,t,n){var r=this.eventEmitter.on(e,t,n);return function(){r.off(e,t,n)}},e.prototype.onConnected=function(e,t){return this.on("connected",e,t)},e.prototype.onConnecting=function(e,t){return this.on("connecting",e,t)},e.prototype.onDisconnected=function(e,t){return this.on("disconnected",e,t)},e.prototype.onReconnected=function(e,t){return this.on("reconnected",e,t)},e.prototype.onReconnecting=function(e,t){return this.on("reconnecting",e,t)},e.prototype.onError=function(e,t){return this.on("error",e,t)},e.prototype.unsubscribeAll=function(){var e=this;Object.keys(this.operations).forEach(function(t){e.unsubscribe(t)})},e.prototype.applyMiddlewares=function(e){var t=this;return new Promise(function(n,r){var o,i,a;o=t.middlewares.slice(),i=t,(a=function(t){if(t)r(t);else if(o.length>0){var s=o.shift();s&&s.applyMiddleware.apply(i,[e,a])}else n(e)})()})},e.prototype.use=function(e){var t=this;return e.map(function(e){if("function"!=typeof e.applyMiddleware)throw new Error("Middleware must implement the applyMiddleware function.");t.middlewares.push(e)}),this},e.prototype.getConnectionParams=function(e){return function(){return new Promise(function(t,n){if("function"==typeof e)try{return t(e.call(null))}catch(e){return n(e)}t(e)})}},e.prototype.executeOperation=function(e,t){var n=this;null===this.client&&this.connect();var r=this.generateOperationId();return this.operations[r]={options:e,handler:t},this.applyMiddlewares(e).then(function(e){n.checkOperationOptions(e,t),n.operations[r]&&(n.operations[r]={options:e,handler:t},n.sendMessage(r,au.default.GQL_START,e))}).catch(function(e){n.unsubscribe(r),t(n.formatErrors(e))}),r},e.prototype.getObserver=function(e,t,n){return"function"==typeof e?{next:function(t){return e(t)},error:function(e){return t&&t(e)},complete:function(){return n&&n()}}:e},e.prototype.createMaxConnectTimeGenerator=function(){var e=this.wsTimeout;return new Xc({min:1e3,max:e,factor:1.2})},e.prototype.clearCheckConnectionInterval=function(){this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnectionIntervalId=null)},e.prototype.clearMaxConnectTimeout=function(){this.maxConnectTimeoutId&&(clearTimeout(this.maxConnectTimeoutId),this.maxConnectTimeoutId=null)},e.prototype.clearTryReconnectTimeout=function(){this.tryReconnectTimeoutId&&(clearTimeout(this.tryReconnectTimeoutId),this.tryReconnectTimeoutId=null)},e.prototype.clearInactivityTimeout=function(){this.inactivityTimeoutId&&(clearTimeout(this.inactivityTimeoutId),this.inactivityTimeoutId=null)},e.prototype.setInactivityTimeout=function(){var e=this;this.inactivityTimeout>0&&0===Object.keys(this.operations).length&&(this.inactivityTimeoutId=setTimeout(function(){0===Object.keys(e.operations).length&&e.close()},this.inactivityTimeout))},e.prototype.checkOperationOptions=function(e,t){var n=e.query,r=e.variables,o=e.operationName;if(!n)throw new Error("Must provide a query.");if(!t)throw new Error("Must provide an handler.");if(!tu.default(n)&&!cu.getOperationAST(n,o)||o&&!tu.default(o)||r&&!nu.default(r))throw new Error("Incorrect option types. query must be a string or a document,`operationName` must be a string, and `variables` must be an object.")},e.prototype.buildMessage=function(e,t,r){return{id:e,type:t,payload:r&&r.query?n({},r,{query:"string"==typeof r.query?r.query:su.print(r.query)}):r}},e.prototype.formatErrors=function(e){return Array.isArray(e)?e:e&&e.errors?this.formatErrors(e.errors):e&&e.message?[e]:[{name:"FormatedError",message:"Unknown error",originalError:e}]},e.prototype.sendMessage=function(e,t,n){this.sendMessageRaw(this.buildMessage(e,t,n))},e.prototype.sendMessageRaw=function(e){switch(this.status){case this.wsImpl.OPEN:var t=JSON.stringify(e);try{JSON.parse(t)}catch(t){this.eventEmitter.emit("error",new Error("Message must be JSON-serializable. Got: "+e))}this.client.send(t);break;case this.wsImpl.CONNECTING:this.unsentMessagesQueue.push(e);break;default:this.reconnecting||this.eventEmitter.emit("error",new Error("A message was not sent because socket is not connected, is closing or is already closed. Message was: "+JSON.stringify(e)))}},e.prototype.generateOperationId=function(){return String(++this.nextOperationId)},e.prototype.tryReconnect=function(){var e=this;if(this.reconnect&&!(this.backoff.attempts>=this.reconnectionAttempts)){this.reconnecting||(Object.keys(this.operations).forEach(function(t){e.unsentMessagesQueue.push(e.buildMessage(t,au.default.GQL_START,e.operations[t].options))}),this.reconnecting=!0),this.clearTryReconnectTimeout();var t=this.backoff.duration();this.tryReconnectTimeoutId=setTimeout(function(){e.connect()},t)}},e.prototype.flushUnsentMessagesQueue=function(){var e=this;this.unsentMessagesQueue.forEach(function(t){e.sendMessageRaw(t)}),this.unsentMessagesQueue=[]},e.prototype.checkConnection=function(){this.wasKeepAliveReceived?this.wasKeepAliveReceived=!1:this.reconnecting||this.close(!1,!0)},e.prototype.checkMaxConnectTimeout=function(){var e=this;this.clearMaxConnectTimeout(),this.maxConnectTimeoutId=setTimeout(function(){e.status!==e.wsImpl.OPEN&&(e.reconnecting=!0,e.close(!1,!0))},this.maxConnectTimeGenerator.duration())},e.prototype.connect=function(){var e=this;this.client=new this.wsImpl(this.url,this.wsProtocols),this.checkMaxConnectTimeout(),this.client.onopen=function(){return r(e,void 0,void 0,function(){var e,t;return o(this,function(n){switch(n.label){case 0:if(this.status!==this.wsImpl.OPEN)return[3,4];this.clearMaxConnectTimeout(),this.closedByUser=!1,this.eventEmitter.emit(this.reconnecting?"reconnecting":"connecting"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.connectionParams()];case 2:return e=n.sent(),this.sendMessage(void 0,au.default.GQL_CONNECTION_INIT,e),this.flushUnsentMessagesQueue(),[3,4];case 3:return t=n.sent(),this.sendMessage(void 0,au.default.GQL_CONNECTION_ERROR,t),this.flushUnsentMessagesQueue(),[3,4];case 4:return[2]}})})},this.client.onclose=function(){e.closedByUser||e.close(!1,!1)},this.client.onerror=function(t){e.eventEmitter.emit("error",t)},this.client.onmessage=function(t){var n=t.data;e.processReceivedData(n)}},e.prototype.processReceivedData=function(e){var t,r;try{r=(t=JSON.parse(e)).id}catch(t){throw new Error("Message must be JSON-parseable. Got: "+e)}if(-1===[au.default.GQL_DATA,au.default.GQL_COMPLETE,au.default.GQL_ERROR].indexOf(t.type)||this.operations[r])switch(t.type){case au.default.GQL_CONNECTION_ERROR:this.connectionCallback&&this.connectionCallback(t.payload);break;case au.default.GQL_CONNECTION_ACK:this.eventEmitter.emit(this.reconnecting?"reconnected":"connected"),this.reconnecting=!1,this.backoff.reset(),this.maxConnectTimeGenerator.reset(),this.connectionCallback&&this.connectionCallback();break;case au.default.GQL_COMPLETE:this.operations[r].handler(null,null),delete this.operations[r];break;case au.default.GQL_ERROR:this.operations[r].handler(this.formatErrors(t.payload),null),delete this.operations[r];break;case au.default.GQL_DATA:var o=t.payload.errors?n({},t.payload,{errors:this.formatErrors(t.payload.errors)}):t.payload;this.operations[r].handler(null,o);break;case au.default.GQL_CONNECTION_KEEP_ALIVE:var i=void 0===this.wasKeepAliveReceived;this.wasKeepAliveReceived=!0,i&&this.checkConnection(),this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnection()),this.checkConnectionIntervalId=setInterval(this.checkConnection.bind(this),this.wsTimeout);break;default:throw new Error("Invalid message type!")}else this.unsubscribe(r)},e.prototype.unsubscribe=function(e){this.operations[e]&&(delete this.operations[e],this.setInactivityTimeout(),this.sendMessage(e,au.default.GQL_STOP,void 0))},e}();t.SubscriptionClient=s});In(uu);var lu=uu.SubscriptionClient,du=function(e){function t(t){var n=e.call(this)||this;return n.subscriptionClient=t instanceof lu?t:new lu(t.uri,t.options,t.webSocketImpl),n}return st(t,e),t.prototype.request=function(e){return this.subscriptionClient.request(e)},t}(jn);function fu(e,t){const n=localStorage.getItem(t);n&&e.set(JSON.parse(n));e.subscribe(e=>{localStorage.setItem(t,JSON.stringify(e))})}function hu(e){var t;return{c(){(t=_("li")).innerHTML='<a href="#/dashboard/postshift" class="svelte-1iijn7s">Post Shift</a>',D(t,"class","svelte-1iijn7s")},m(e,n){w(e,t,n)},d(e){e&&E(t)}}}function pu(e){var t;return{c(){(t=_("a")).textContent="Invitations",D(t,"href","#/dashboard/invitations"),D(t,"class","svelte-1iijn7s")},m(e,n){w(e,t,n)},d(e){e&&E(t)}}}function vu(e){var t;return{c(){(t=_("a")).textContent="Invite",D(t,"href","#/dashboard/invite"),D(t,"class","svelte-1iijn7s")},m(e,n){w(e,t,n)},d(e){e&&E(t)}}}function mu(e){var t,n,r,o,i,a,s,c,u,l,d,f,h,p,v=new Kc({}),m=!e.$user.isCompany&&hu();function y(e){return e.$user.isCompany?vu:pu}var g=y(e),S=g(e),k=new wa({}),I=new xe({props:{routes:Bc}});return{c(){t=_("main"),v.$$.fragment.c(),n=O(),r=_("div"),o=_("div"),i=_("ul"),m&&m.c(),a=O(),(s=_("li")).innerHTML='<a href="#/dashboard/shifts" class="svelte-1iijn7s">Shift</a>',c=O(),u=_("li"),S.c(),l=O(),d=_("div"),k.$$.fragment.c(),f=O(),I.$$.fragment.c(),D(s,"class","svelte-1iijn7s"),D(u,"class","svelte-1iijn7s"),D(i,"class","sidebar-nav svelte-1iijn7s"),D(o,"id","sidebar-wrapper"),D(o,"class"," svelte-1iijn7s"),D(d,"id","page-content-wrapper"),D(d,"class","svelte-1iijn7s"),D(r,"id","wrapper"),D(r,"class",h=(e.$menuDisplayed?"menuDisplayed":"")+" svelte-1iijn7s")},m(e,h){w(e,t,h),ge(v,t,null),b(t,n),b(t,r),b(r,o),b(o,i),m&&m.m(i,null),b(i,a),b(i,s),b(i,c),b(i,u),S.m(u,null),b(r,l),b(r,d),ge(k,d,null),b(d,f),ge(I,d,null),p=!0},p(e,t){t.$user.isCompany?m&&(m.d(1),m=null):m||((m=hu()).c(),m.m(i,a)),g!==(g=y(t))&&(S.d(1),(S=g(t))&&(S.c(),S.m(u,null)));var n={};e.routes&&(n.routes=Bc),I.$set(n),p&&!e.$menuDisplayed||h===(h=(t.$menuDisplayed?"menuDisplayed":"")+" svelte-1iijn7s")||D(r,"class",h)},i(e){p||(ue(v.$$.fragment,e),ue(k.$$.fragment,e),ue(I.$$.fragment,e),p=!0)},o(e){le(v.$$.fragment,e),le(k.$$.fragment,e),le(I.$$.fragment,e),p=!1},d(e){e&&E(t),be(v),m&&m.d(),S.d(),be(k),be(I)}}}function yu(e,t,n){let r,o,i,a;c(e,Ae,e=>{n("$isLoggedIn",r=e)}),c(e,Le,e=>{n("$keepMeLoggedIn",o=e)}),c(e,Ue,e=>{n("$menuDisplayed",i=e)}),c(e,Qe,e=>{n("$user",a=e)});const s=("https"===window.location.protocol?"https":"http")+"://"+window.location.host+"/graphql",u=(window.location.protocol,"wss://"+window.location.host+"/graphql");!function e(){setTimeout(()=>{console.log("PROTOCOL : "+window.location.protocol),e()},3e3)}();const l=new No({uri:s}),d=Qn(({query:e})=>{const{kind:t,operation:n}=Gt(e);return"OperationDefinition"===t&&"subscription"===n},new du({uri:u,options:{reconnect:!0}}),l),f=new lr({link:d,cache:new co});return En(f),function(e,t){const n=sessionStorage.getItem(t);n&&e.set(JSON.parse(n)),e.subscribe(e=>{sessionStorage.setItem(t,JSON.stringify(e))})}(Ae,"isLoggedIn"),fu(Le,"keepMeLoggedIn"),fu(qe,"refreshToken"),fu(Pe,"lastLoggedIn"),fu(Qe,"user"),window.addEventListener("storage",function(e){"login-event"==e.key?setTimeout(()=>{Ae.set(!0),De("/dashboard/shifts")},1e3*Math.random()+1e3):"logout-event"==e.key?(sessionStorage.setItem("startedTimeoutSession",JSON.stringify(!1)),Ae.set(!1)):"new-tab-event"==e.key?!0===r&&localStorage.setItem("currently-logged-in-event","true"+Math.random()):"currently-logged-in-event"==e.key?!1===r&&(Ae.set(!0),De("/dashboard/shifts"),Sa(f),ka(f),Oa(f)):"start-timeout-event"==e.key&&setTimeout(()=>{Sa(f)},5e3*Math.random()+5e3)}),window.addEventListener("beforeunload",function(e){null!==sessionStorage.getItem("startedTimeoutSession")&&!0===JSON.parse(sessionStorage.getItem("startedTimeoutSession"))&&(sessionStorage.setItem("startedTimeoutSession",JSON.stringify(!1)),localStorage.setItem("startedTimeout",JSON.stringify(!1)),localStorage.setItem("start-timeout-event","timeout"+Math.random()))}),!0===o&&!1===r?(Ae.set(!0),Ue.set(!0),Sa(f),ka(f),Oa(f)):!0===r?(Ue.set(!0),Sa(f),ka(f),Oa(f)):localStorage.setItem("new-tab-event","newtab"+Math.random()),e.$$.update=((e={$isLoggedIn:1})=>{e.$isLoggedIn&&!1===r&&(_a(),De("/login"))}),window.screen.availWidth<640&&Ue.set(!1),{$menuDisplayed:i,$user:a}}return new class extends Ee{constructor(e){super(),we(this,e,yu,mu,s,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
