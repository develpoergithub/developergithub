var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(r)}function a(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,t,n){const r=t.subscribe(n);e.$$.on_destroy.push(r.unsubscribe?()=>r.unsubscribe():r)}function u(e,t,n){if(e){const r=l(e,t,n);return e[0](r)}}function l(e,t,r){return e[1]?n({},n(t.$$scope.ctx,e[1](r?r(t):{}))):t.$$scope.ctx}function d(e,t,r,o){return e[1]?n({},n(t.$$scope.changed||{},e[1](o?o(r):{}))):t.$$scope.changed||{}}let f="undefined"!=typeof window?()=>window.performance.now():()=>Date.now(),h=e=>requestAnimationFrame(e);const p=new Set;let v,m=!1;function y(){p.forEach(e=>{e[0](f())||(p.delete(e),e[1]())}),(m=p.size>0)&&h(y)}function g(e){let t;return m||(m=!0,h(y)),{promise:new Promise(n=>{p.add(t=[e,n])}),abort(){p.delete(t)}}}function b(e,t){e.appendChild(t)}function w(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode.removeChild(e)}function S(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function k(e){return document.createElement(e)}function _(e){return document.createTextNode(e)}function O(){return _(" ")}function I(){return _("")}function N(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function T(e){return function(t){return t.preventDefault(),e.call(this,t)}}function C(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function D(e,t){t=""+t,e.data!==t&&(e.data=t)}function x(e,t,n){e.style.setProperty(t,n)}function $(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function M(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function R(e,t,n){e.classList[n?"add":"remove"](t)}function A(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}let L,q=0,P={};function Q(e,t,n,r,o,i,a,s=0){const c=16.666/r;let u="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*i(e);u+=100*e+`%{${a(r,1-r)}}\n`}const l=u+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(l)}_${s}`;if(!P[d]){if(!v){const e=k("style");document.head.appendChild(e),v=e.sheet}P[d]=!0,v.insertRule(`@keyframes ${d} ${l}`,v.cssRules.length)}const f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${d} ${r}ms linear ${o}ms 1 both`,q+=1,d}function F(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--q&&h(()=>{if(q)return;let e=v.cssRules.length;for(;e--;)v.deleteRule(e);P={}})}function j(e){L=e}function V(){if(!L)throw new Error("Function called outside component initialization");return L}function B(e){V().$$.on_mount.push(e)}function U(){const e=L;return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=A(t,n);r.slice().forEach(t=>{t.call(e,o)})}}}const G=[],Y=[],H=[],J=[],z=Promise.resolve();let W,K=!1;function X(){K||(K=!0,z.then(te))}function Z(e){H.push(e)}function ee(e){J.push(e)}function te(){const e=new Set;do{for(;G.length;){const e=G.shift();j(e),ne(e.$$)}for(;Y.length;)Y.pop()();for(let t=0;t<H.length;t+=1){const n=H[t];e.has(n)||(n(),e.add(n))}H.length=0}while(G.length);for(;J.length;)J.pop()();K=!1}function ne(e){e.fragment&&(e.update(e.dirty),i(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(Z))}function re(){return W||(W=Promise.resolve()).then(()=>{W=null}),W}function oe(e,t,n){e.dispatchEvent(A(`${t?"intro":"outro"}${n}`))}const ie=new Set;let ae;function se(){ae={r:0,c:[],p:ae}}function ce(){ae.r||i(ae.c),ae=ae.p}function ue(e,t){e&&e.i&&(ie.delete(e),e.i(t))}function le(e,t,n,r){if(e&&e.o){if(ie.has(e))return;ie.add(e),ae.c.push(()=>{ie.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function de(n,r,o){let i,s,c=r(n,o),u=!1,l=0;function d(){i&&F(n,i)}function h(){const{delay:r=0,duration:o=300,easing:a=t,tick:h=e,css:p}=c;p&&(i=Q(n,0,1,o,r,a,p,l++)),h(0,1);const v=f()+r,m=v+o;s&&s.abort(),u=!0,Z(()=>oe(n,!0,"start")),s=g(e=>{if(u){if(e>=m)return h(1,0),oe(n,!0,"end"),d(),u=!1;if(e>=v){const t=a((e-v)/o);h(t,1-t)}}return u})}let p=!1;return{start(){p||(F(n),a(c)?(c=c(),re().then(h)):h())},invalidate(){p=!1},end(){u&&(d(),u=!1)}}}function fe(n,r,o){let s,c=r(n,o),u=!0;const l=ae;function d(){const{delay:r=0,duration:o=300,easing:a=t,tick:d=e,css:h}=c;h&&(s=Q(n,1,0,o,r,a,h));const p=f()+r,v=p+o;Z(()=>oe(n,!1,"start")),g(e=>{if(u){if(e>=v)return d(0,1),oe(n,!1,"end"),--l.r||i(l.c),!1;if(e>=p){const t=a((e-p)/o);d(1-t,t)}}return u})}return l.r+=1,a(c)?re().then(()=>{c=c(),d()}):d(),{end(e){e&&c.tick&&c.tick(1,0),u&&(s&&F(n,s),u=!1)}}}const he="undefined"!=typeof window?window:global;function pe(e,t){le(e,1,1,()=>{t.delete(e.key)})}function ve(e,t,n,r,o,i,a,s,c,u,l,d){let f=e.length,h=i.length,p=f;const v={};for(;p--;)v[e[p].key]=p;const m=[],y=new Map,g=new Map;for(p=h;p--;){const e=d(o,i,p),s=n(e);let c=a.get(s);c?r&&c.p(t,e):(c=u(s,e)).c(),y.set(s,m[p]=c),s in v&&g.set(s,Math.abs(p-v[s]))}const b=new Set,w=new Set;function E(e){ue(e,1),e.m(s,l),a.set(e.key,e),l=e.first,h--}for(;f&&h;){const t=m[h-1],n=e[f-1],r=t.key,o=n.key;t===n?(l=t.first,f--,h--):y.has(o)?!a.has(r)||b.has(r)?E(t):w.has(o)?f--:g.get(r)>g.get(o)?(w.add(r),E(t)):(b.add(o),f--):(c(n,a),f--)}for(;f--;){const t=e[f];y.has(t.key)||c(t,a)}for(;h;)E(m[h-1]);return m}function me(e,t,n){-1!==e.$$.props.indexOf(t)&&(e.$$.bound[t]=n,n(e.$$.ctx[t]))}function ye(e,t,n){const{fragment:o,on_mount:s,on_destroy:c,after_update:u}=e.$$;o.m(t,n),Z(()=>{const t=s.map(r).filter(a);c?c.push(...t):i(t),e.$$.on_mount=[]}),u.forEach(Z)}function ge(e,t){e.$$.fragment&&(i(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function be(t,n,r,a,s,c){const u=L;j(t);const l=n.props||{},d=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:s,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:null};let f=!1;var h;d.ctx=r?r(t,l,(e,n)=>{d.ctx&&s(d.ctx[e],d.ctx[e]=n)&&(d.bound[e]&&d.bound[e](n),f&&function(e,t){e.$$.dirty||(G.push(e),X(),e.$$.dirty=o()),e.$$.dirty[t]=!0}(t,e))}):l,d.update(),f=!0,i(d.before_update),d.fragment=a(d.ctx),n.target&&(n.hydrate?d.fragment.l((h=n.target,Array.from(h.childNodes))):d.fragment.c(),n.intro&&ue(t.$$.fragment),ye(t,n.target,n.anchor),te()),j(u)}class we{$destroy(){ge(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function Ee(e,t){return{subscribe:Se(e,t).subscribe}}function Se(t,n=e){let r;const o=[];function i(e){if(s(t,e)){if(t=e,!r)return;o.forEach(e=>e[1]()),o.forEach(e=>e[0](t))}}return{set:i,update:function(e){i(e(t))},subscribe:function(a,s=e){const c=[a,s];return o.push(c),1===o.length&&(r=n(i)||e),a(t),()=>{const e=o.indexOf(c);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}function ke(t,n,r){const o=!Array.isArray(t),s=o?[t]:t,c=n.length<2,u=[],l=Ee(r,t=>{let r=!1;const l=[];let d=0,f=e;const h=()=>{if(d)return;f();const r=n(o?l[0]:l,t);c?t(r):f=a(r)?r:e},p=s.map((e,t)=>e.subscribe(e=>{l[t]=e,d&=~(1<<t),r&&h()},()=>{i(u),d|=1<<t}));return r=!0,h(),function(){i(p),f()}});return{subscribe(t,n=e){u.push(n);const r=l.subscribe(t,n);return()=>{const e=u.indexOf(n);-1!==e&&u.splice(e,1),r()}}}}function _e(e){var t,n,r=e.component;function o(e){return{props:{params:e.componentParams}}}if(r)var i=new r(o(e));return{c(){i&&i.$$.fragment.c(),t=I()},m(e,r){i&&ye(i,e,r),w(e,t,r),n=!0},p(e,n){var a={};if(e.componentParams&&(a.params=n.componentParams),r!==(r=n.component)){if(i){se();const e=i;le(e.$$.fragment,1,0,()=>{ge(e,1)}),ce()}r?((i=new r(o(n))).$$.fragment.c(),ue(i.$$.fragment,1),ye(i,t.parentNode,t)):i=null}else r&&i.$set(a)},i(e){n||(i&&ue(i.$$.fragment,e),n=!0)},o(e){i&&le(i.$$.fragment,e),n=!1},d(e){e&&E(t),i&&ge(i,e)}}}function Oe(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Ie=Ee(Oe(),function(e){const t=()=>{e(Oe())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}),Ne=ke(Ie,e=>e.location);ke(Ie,e=>e.querystring);function Te(e){if(!e||e.length<1||"/"!=e.charAt(0))throw Error("Invalid parameter location");setTimeout(()=>{window.location.hash="#"+e},0)}function Ce(e,t,n){let r;c(e,Ie,e=>{n("$loc",r=e)});let{routes:o={}}=t;class i{constructor(e,t){if(!e||e.length<1||"/"!=e.charAt(0)&&"*"!=e.charAt(0))throw Error('Invalid value for "path" argument');const{pattern:n,keys:r}=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,i,a=[],s="",c=e.split("/");for(c[0]||c.shift();o=c.shift();)"*"===(n=o[0])?(a.push("wild"),s+="/(.*)"):":"===n?(r=o.indexOf("?",1),i=o.indexOf(".",1),a.push(o.substring(1,~r?r:~i?i:o.length)),s+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(s+=(~r?"?":"")+"\\"+o.substring(i))):s+="/"+o;return{keys:a,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}(e);this.path=e,this.component=t,this._pattern=n,this._keys=r}match(e){const t=this._pattern.exec(e);if(null===t)return null;const n={};let r=0;for(;r<this._keys.length;)n[this._keys[r]]=t[++r]||null;return n}}const a=Object.keys(o).map(e=>new i(e,o[e]));let s=null,u={};return e.$set=(e=>{"routes"in e&&n("routes",o=e.routes)}),e.$$.update=((e={component:1,$loc:1})=>{if(e.component||e.$loc){n("component",s=null);let e=0;for(;!s&&e<a.length;){const t=a[e].match(r.location);t&&(n("component",s=a[e].component),n("componentParams",u=t)),e++}}}),{routes:o,component:s,componentParams:u}}class De extends we{constructor(e){super(),be(this,e,Ce,_e,s,["routes"])}}function xe(e){const t=e-1;return t*t*t+1}function $e(e,{delay:t=0,duration:n=400}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,css:e=>`opacity: ${e*r}`}}function Me(e,{delay:t=0,duration:n=400,easing:r=xe,x:o=0,y:i=0,opacity:a=0}){const s=getComputedStyle(e),c=+s.opacity,u="none"===s.transform?"":s.transform,l=c*(1-a);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${u} translate(${(1-e)*o}px, ${(1-e)*i}px);\n\t\t\topacity: ${c-l*t}`}}const Re=Se(!1),Ae=Se(!1),Le=Se(33128064978),qe=Se(""),Pe=Se({}),Qe=Se([]),Fe=Se([]),je=Se([]),Ve=Se([]),Be=Se([]),Ue=Se(!1),Ge=Se({});function Ye(t){return{c:e,m:e,p:e,i:e,o:e,d:e}}function He(e,t,n){let r,o;return c(e,Re,e=>{n("$isLoggedIn",r=e)}),c(e,Ne,e=>{n("$location",o=e)}),!1===r?"/"!==o&&"/dashboard/"!==o||Te("/login"):Te("/dashboard/shifts"),{}}class Je extends we{constructor(e){super(),be(this,e,He,Ye,s,[])}}function ze(t){var n,r,o,i,a=new Je({});return{c(){a.$$.fragment.c(),n=O(),(r=k("div")).innerHTML='<h1 class="svelte-ysidjt">Home Page</h1>'},m(e,t){ye(a,e,t),w(e,n,t),w(e,r,t),i=!0},p:e,i(e){i||(ue(a.$$.fragment,e),o||Z(()=>{(o=de(r,$e,{duration:500})).start()}),i=!0)},o(e){le(a.$$.fragment,e),i=!1},d(e){ge(a,e),e&&(E(n),E(r))}}}var We="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Xe=10,Ze=2;function et(e){return tt(e,[])}function tt(e,t){switch(Ke(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(We)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==r){var o=r.call(e);if(o!==e)return"string"==typeof o?o:tt(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>Ze)return"[Array]";for(var n=Math.min(Xe,e.length),r=e.length-n,o=[],i=0;i<n;++i)o.push(tt(e[i],t));1===r?o.push("... 1 more item"):r>1&&o.push("... ".concat(r," more items"));return"["+o.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>Ze)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n)return n}return t}(e)+"]";return"{ "+n.map(function(n){var r=tt(e[n],t);return n+": "+r}).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}var nt={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},rt=Object.freeze({});function ot(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nt,r=void 0,o=Array.isArray(e),i=[e],a=-1,s=[],c=void 0,u=void 0,l=void 0,d=[],f=[],h=e;do{var p=++a===i.length,v=p&&0!==s.length;if(p){if(u=0===f.length?void 0:d[d.length-1],c=l,l=f.pop(),v){if(o)c=c.slice();else{for(var m={},y=0,g=Object.keys(c);y<g.length;y++){var b=g[y];m[b]=c[b]}c=m}for(var w=0,E=0;E<s.length;E++){var S=s[E][0],k=s[E][1];o&&(S-=w),o&&null===k?(c.splice(S,1),w++):c[S]=k}}a=r.index,i=r.keys,s=r.edits,o=r.inArray,r=r.prev}else{if(u=l?o?a:i[a]:void 0,null==(c=l?l[u]:h))continue;l&&d.push(u)}var _=void 0;if(!Array.isArray(c)){if(!it(c))throw new Error("Invalid AST Node: "+et(c));var O=at(t,c.kind,p);if(O){if((_=O.call(t,c,u,l,d,f))===rt)break;if(!1===_){if(!p){d.pop();continue}}else if(void 0!==_&&(s.push([u,_]),!p)){if(!it(_)){d.pop();continue}c=_}}}void 0===_&&v&&s.push([u,c]),p?d.pop():(r={inArray:o,index:a,keys:i,edits:s,prev:r},i=(o=Array.isArray(c))?c:n[c.kind]||[],a=-1,s=[],l&&f.push(l),l=c)}while(void 0!==r);return 0!==s.length&&(h=s[s.length-1][1]),h}function it(e){return Boolean(e&&"string"==typeof e.kind)}function at(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var o=n?r.leave:r.enter;if("function"==typeof o)return o}else{var i=n?e.leave:e.enter;if(i){if("function"==typeof i)return i;var a=i[t];if("function"==typeof a)return a}}}var st=function(e,t){return(st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function ct(e,t){function n(){this.constructor=e}st(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ut=function(){return(ut=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function lt(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})}function dt(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var ft="Invariant Violation",ht=Object.setPrototypeOf,pt=void 0===ht?function(e,t){return e.__proto__=t,e}:ht,vt=function(e){function t(n){void 0===n&&(n=ft);var r=e.call(this,"number"==typeof n?ft+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=ft,pt(r,t.prototype),r}return ct(t,e),t}(Error);function mt(e,t){if(!e)throw new vt(t)}function yt(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=yt("warn"),e.error=yt("error")}(mt||(mt={}));var gt={env:{}};if("object"==typeof process)gt=process;else try{Function("stub","process = stub")(gt)}catch(e){}var bt=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,o=t.cmp&&(n=t.cmp,function(e){return function(t,r){var o={key:t,value:e[t]},i={key:r,value:e[r]};return n(o,i)}}),i=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=i.push(t)-1,c=Object.keys(t).sort(o&&o(t));for(a="",n=0;n<c.length;n++){var u=c[n],l=e(t[u]);l&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l)}return i.splice(s,1),"{"+a+"}"}}(e)},wt=Object.prototype,Et=wt.toString,St=wt.hasOwnProperty,kt=new Map;function _t(e,t){try{return function e(t,n){if(t===n)return!0;var r=Et.call(t);var o=Et.call(n);if(r!==o)return!1;switch(r){case"[object Array]":if(t.length!==n.length)return!1;case"[object Object]":if(Ot(t,n))return!0;var i=Object.keys(t),a=Object.keys(n),s=i.length;if(s!==a.length)return!1;for(var c=0;c<s;++c)if(!St.call(n,i[c]))return!1;for(var c=0;c<s;++c){var u=i[c];if(!e(t[u],n[u]))return!1}return!0;case"[object Error]":return t.name===n.name&&t.message===n.message;case"[object Number]":if(t!=t)return n!=n;case"[object Boolean]":case"[object Date]":return+t==+n;case"[object RegExp]":case"[object String]":return t==""+n;case"[object Map]":case"[object Set]":if(t.size!==n.size)return!1;if(Ot(t,n))return!0;for(var l=t.entries(),d="[object Map]"===r;;){var f=l.next();if(f.done)break;var h=f.value,p=h[0],v=h[1];if(!n.has(p))return!1;if(d&&!e(v,n.get(p)))return!1}return!0}return!1}(e,t)}finally{kt.clear()}}function Ot(e,t){var n=kt.get(e);if(n){if(n.has(t))return!0}else kt.set(e,n=new Set);return n.add(t),!1}function It(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var o={};n.fields.map(function(e){return It(o,e.name,e.value,r)}),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(n)){var i=(r||{})[n.name.value];e[t.value]=i}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map(function(e){var n={};return It(n,t,e,r),n[t.value]});else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw"production"===process.env.NODE_ENV?new vt(17):new vt('The inline argument "'+t.value+'" of kind "'+n.kind+'"is not supported. Use variables instead of inline arguments to overcome this limitation.');e[t.value]=null}}var Nt=["connection","include","skip","client","rest","export"];function Tt(e,t,n){if(n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var o=t,i={};return r.forEach(function(e){i[e]=o[e]}),n.connection.key+"("+JSON.stringify(i)+")"}return n.connection.key}var a=e;if(t){var s=bt(t);a+="("+s+")"}return n&&Object.keys(n).forEach(function(e){-1===Nt.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?a+="@"+e+"("+JSON.stringify(n[e])+")":a+="@"+e)}),a}function Ct(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach(function(e){var r=e.name,o=e.value;return It(n,r,o,t)}),n}return null}function Dt(e){return e.alias?e.alias.value:e.name.value}function xt(e){return"Field"===e.kind}function $t(e){return"InlineFragment"===e.kind}function Mt(e){return e&&"id"===e.type&&"boolean"==typeof e.generated}function Rt(e,t){return void 0===t&&(t=!1),ut({type:"id",generated:t},"string"==typeof e?{id:e,typename:void 0}:e)}function At(e,t){if(e.directives&&e.directives.length){var n={};return e.directives.forEach(function(e){n[e.name.value]=Ct(e,t)}),n}return null}function Lt(e,t){return void 0===t&&(t={}),(n=e.directives,n?n.filter(Qt).map(function(e){var t=e.arguments,n=e.name.value;"production"===process.env.NODE_ENV?mt(t&&1===t.length,4):mt(t&&1===t.length,"Incorrect number of arguments for the @"+n+" directive.");var r=t[0];"production"===process.env.NODE_ENV?mt(r.name&&"if"===r.name.value,5):mt(r.name&&"if"===r.name.value,"Invalid argument for the @"+n+" directive.");var o=r.value;return"production"===process.env.NODE_ENV?mt(o&&("Variable"===o.kind||"BooleanValue"===o.kind),6):mt(o&&("Variable"===o.kind||"BooleanValue"===o.kind),"Argument for the @"+n+" directive must be a variable or a boolean value."),{directive:e,ifArgument:r}}):[]).every(function(e){var n=e.directive,r=e.ifArgument,o=!1;return"Variable"===r.value.kind?(o=t[r.value.name.value],"production"===process.env.NODE_ENV?mt(void 0!==o,3):mt(void 0!==o,"Invalid variable referenced in @"+n.name.value+" directive.")):o=r.value.value,"skip"===n.name.value?!o:o});var n}function qt(e,t){return function(e){var t=[];return ot(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some(function(t){return e.indexOf(t)>-1})}function Pt(e){return e&&qt(["client"],e)&&qt(["export"],e)}function Qt(e){var t=e.name.value;return"skip"===t||"include"===t}function Ft(e,t){var n=t,r=[];return e.definitions.forEach(function(e){if("OperationDefinition"===e.kind)throw"production"===process.env.NODE_ENV?new vt(1):new vt("Found a "+e.operation+" operation"+(e.name?" named '"+e.name.value+"'":"")+". No operations are allowed when using a fragment as a query. Only fragments are allowed.");"FragmentDefinition"===e.kind&&r.push(e)}),void 0===n&&("production"===process.env.NODE_ENV?mt(1===r.length,2):mt(1===r.length,"Found "+r.length+" fragments. `fragmentName` must be provided when there is not exactly 1 fragment."),n=r[0].name.value),ut({},e,{definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}].concat(e.definitions)})}function jt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){null!=t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function Vt(e){"production"===process.env.NODE_ENV?mt(e&&"Document"===e.kind,8):mt(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');var t=e.definitions.filter(function(e){return"FragmentDefinition"!==e.kind}).map(function(e){if("OperationDefinition"!==e.kind)throw"production"===process.env.NODE_ENV?new vt(9):new vt('Schema type definitions not allowed in queries. Found: "'+e.kind+'"');return e});return"production"===process.env.NODE_ENV?mt(t.length<=1,10):mt(t.length<=1,"Ambiguous GraphQL document: contains "+t.length+" operations"),e}function Bt(e){return Vt(e),e.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function Ut(e){return e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null}function Gt(e){return e.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function Yt(e){var t;Vt(e);for(var n=0,r=e.definitions;n<r.length;n++){var o=r[n];if("OperationDefinition"===o.kind){var i=o.operation;if("query"===i||"mutation"===i||"subscription"===i)return o}"FragmentDefinition"!==o.kind||t||(t=o)}if(t)return t;throw"production"===process.env.NODE_ENV?new vt(16):new vt("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.")}function Ht(e){void 0===e&&(e=[]);var t={};return e.forEach(function(e){t[e.name.value]=e}),t}function Jt(e){if(e&&e.variableDefinitions&&e.variableDefinitions.length){var t=e.variableDefinitions.filter(function(e){return e.defaultValue}).map(function(e){var t=e.variable,n=e.defaultValue,r={};return It(r,t.name,n),r});return jt.apply(void 0,[{}].concat(t))}return{}}function zt(e,t,n){var r=0;return e.forEach(function(n,o){t.call(this,n,o,e)&&(e[r++]=n)},n),e.length=r,e}var Wt={kind:"Field",name:{kind:"Name",value:"__typename"}};function Kt(e){return function e(t,n){return t.selectionSet.selections.every(function(t){return"FragmentSpread"===t.kind&&e(n[t.name.value],n)})}(Bt(e)||function(e){"production"===process.env.NODE_ENV?mt("Document"===e.kind,13):mt("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'),"production"===process.env.NODE_ENV?mt(e.definitions.length<=1,14):mt(e.definitions.length<=1,"Fragment must have exactly one definition.");var t=e.definitions[0];return"production"===process.env.NODE_ENV?mt("FragmentDefinition"===t.kind,15):mt("FragmentDefinition"===t.kind,"Must be a fragment definition."),t}(e),Ht(Gt(e)))?null:e}function Xt(e){return function(t){return e.some(function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)})}}function Zt(e,t){var n=Object.create(null),r=[],o=Object.create(null),i=[],a=Kt(ot(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some(function(e){return e.remove})&&t.directives&&t.directives.some(Xt(e))))return t.arguments&&t.arguments.forEach(function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})}),t.selectionSet&&function e(t){var n=[];t.selections.forEach(function(t){(xt(t)||$t(t))&&t.selectionSet?e(t.selectionSet).forEach(function(e){return n.push(e)}):"FragmentSpread"===t.kind&&n.push(t)});return n}(t.selectionSet).forEach(function(e){i.push({name:e.name.value})}),null}},FragmentSpread:{enter:function(e){o[e.name.value]=!0}},Directive:{enter:function(t){if(Xt(e)(t))return null}}}));return a&&zt(r,function(e){return!n[e.name]}).length&&(a=function(e,t){var n=function(e){return function(t){return e.some(function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))})}}(e);return Kt(ot(t,{OperationDefinition:{enter:function(t){return ut({},t,{variableDefinitions:t.variableDefinitions.filter(function(t){return!e.some(function(e){return e.name===t.variable.name.value})})})}},Field:{enter:function(t){var r=e.some(function(e){return e.remove});if(r){var o=0;if(t.arguments.forEach(function(e){n(e)&&(o+=1)}),1===o)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,a)),a&&zt(i,function(e){return!o[e.name]}).length&&(a=function(e,t){function n(t){if(e.some(function(e){return e.name===t.name.value}))return null}return Kt(ot(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(i,a)),a}var en={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some(function(e){return"key"===e.name.value})||"production"===process.env.NODE_ENV||mt.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function tn(e){return"query"===Yt(e).operation?e:ot(e,{OperationDefinition:{enter:function(e){return ut({},e,{operation:"query"})}}})}var nn="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),rn=Object.prototype.toString;function on(e){return function e(t,n){switch(rn.call(t)){case"[object Array]":if(n.has(t))return n.get(t);var r=t.slice(0);return n.set(t,r),r.forEach(function(t,o){r[o]=e(t,n)}),r;case"[object Object]":if(n.has(t))return n.get(t);var o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Object.keys(t).forEach(function(r){o[r]=e(t[r],n)}),o;default:return t}}(e,new Map)}function an(e){return("undefined"!=typeof process&&process.env.NODE_ENV?process.env.NODE_ENV:"development")===e}function sn(){return!0===an("test")}function cn(e){try{return e()}catch(e){console.error&&console.error(e)}}function un(e){return e.errors&&e.errors.length}function ln(e){if((!0===an("development")||sn())&&!("function"==typeof Symbol&&"string"==typeof Symbol("")))return function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(n){null===t[n]||"object"!=typeof t[n]&&"function"!=typeof t[n]||Object.isFrozen(t[n])||e(t[n])}),t}(e);return e}var dn,fn=Object.prototype.hasOwnProperty;function hn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return pn(e)}function pn(e){var t=e[0]||{},n=e.length;if(n>1){var r=[];t=yn(t,r);for(var o=1;o<n;++o)t=mn(t,e[o],r)}return t}function vn(e){return null!==e&&"object"==typeof e}function mn(e,t,n){return vn(t)&&vn(e)?(Object.isExtensible&&!Object.isExtensible(e)&&(e=yn(e,n)),Object.keys(t).forEach(function(r){var o=t[r];if(fn.call(e,r)){var i=e[r];o!==i&&(e[r]=mn(yn(i,n),o,n))}else e[r]=o}),e):t}function yn(e,t){return null!==e&&"object"==typeof e&&t.indexOf(e)<0&&(e=Array.isArray(e)?e.slice(0):ut({__proto__:Object.getPrototypeOf(e)},e),t.push(e)),e}var gn=function(){};function bn(e,t){return n=e,dn||(dn="function"==typeof Symbol&&Symbol.observable||"@@observable"),n&&n[dn]&&n[dn]()===n?Ee(void 0,function(n){var r=function(e,t){var n,r,o=void 0!==t;return e(o?t:new Promise(function(e,t){n=e,r=t})),{fulfill:function(t){if(o)return e(Promise.resolve(t));o=!0,n(t)},reject:function(t){if(o)return e(Promise.reject(t));o=!0,r(t)}}}(n,t),o=r.fulfill,i=r.reject,a=e.subscribe({next:function(e){o(e)},error:function(e){i(e)}});return function(){return a.unsubscribe()}}):Ee(e,gn);var n}var wn="undefined"!=typeof Symbol?Symbol("client"):"@@client";function En(){return e=wn,V().$$.context.get(e);var e}function Sn(e){var t,n;t=wn,n=e,V().$$.context.set(t,n)}var kn="undefined"!=typeof WeakSet?new WeakSet:new Set;function _n(e,t){var n,r=!1;if(kn.has(e))try{n={data:n=e.readQuery(t)||void 0}}catch(e){}var o=e.watchQuery(t),i=bn(o,n).subscribe;return{subscribe:Ee(n,function(e){r=!0;var t=void 0!==n,o=!1,a=!1;return i(function(n){t&&o&&!a?a=!0:(o||(o=!0),e(n))})}).subscribe,refetch:function(e){return!r&&_t(e,o.variables)?o.result():o.refetch(e)},result:function(){return o.result()},fetchMore:function(e){return o.fetchMore(e)},setOptions:function(e){return o.setOptions(e)},updateQuery:function(e){return o.updateQuery(e)},startPolling:function(e){return o.startPolling(e)},stopPolling:function(){return o.stopPolling()},subscribeToMore:function(e){return o.subscribeToMore(e)}}}function On(e,t){return e.mutate(t)}var In="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Nn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Tn(e,t){return e(t={exports:{}},t.exports),t.exports}function Cn(e){return e&&e.default||e}var Dn=Tn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){return"function"==typeof Symbol},i=function(e){return o()&&Boolean(Symbol[e])},a=function(e){return i(e)?Symbol[e]:"@@"+e};o()&&!i("observable")&&(Symbol.observable=Symbol("observable"));var s=a("iterator"),c=a("observable"),u=a("species");function l(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function d(e){var t=e.constructor;return void 0!==t&&null===(t=t[u])&&(t=void 0),void 0!==t?t:E}function f(e){return e instanceof E}function h(e){h.log?h.log(e):setTimeout(function(){throw e})}function p(e){Promise.resolve().then(function(){try{e()}catch(e){h(e)}})}function v(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=l(t,"unsubscribe");n&&n.call(t)}}catch(e){h(e)}}function m(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function y(e,t,n){e._state="running";var r=e._observer;try{var o=l(r,t);switch(t){case"next":o&&o.call(r,n);break;case"error":if(m(e),!o)throw n;o.call(r,n);break;case"complete":m(e),o&&o.call(r)}}catch(e){h(e)}"closed"===e._state?v(e):"running"===e._state&&(e._state="ready")}function g(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void p(function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(y(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)})):void y(e,t,n);e._queue.push({type:t,value:n})}}var b=function(){function e(t,n){r(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var o=new w(this);try{this._cleanup=n.call(void 0,o)}catch(e){o.error(e)}"initializing"===this._state&&(this._state="ready")}return n(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(m(this),v(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),w=function(){function e(t){r(this,e),this._subscription=t}return n(e,[{key:"next",value:function(e){g(this._subscription,"next",e)}},{key:"error",value:function(e){g(this._subscription,"error",e)}},{key:"complete",value:function(){g(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),E=t.Observable=function(){function e(t){if(r(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return n(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new b(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise(function(n,r){if("function"==typeof e)var o=t.subscribe({next:function(t){try{e(t,i)}catch(e){r(e),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),n()}})}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))(function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})})}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))(function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})})}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this),r=arguments.length>1,o=!1,i=arguments[1];return new n(function(n){return t.subscribe({next:function(t){var a=!o;if(o=!0,!a||r)try{i=e(i,t)}catch(e){return n.error(e)}else i=t},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(i),n.complete()}})})}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=d(this);return new o(function(t){var r=void 0,i=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){i===n.length?(r=void 0,t.complete()):e(o.from(n[i++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}})}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this);return new n(function(r){var o=[],i=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var i=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),a()}});o.push(i)},error:function(e){r.error(e)},complete:function(){a()}});function a(){i.closed&&0===o.length&&r.complete()}return function(){o.forEach(function(e){return e.unsubscribe()}),i.unsubscribe()}})}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=l(t,c);if(r){var o=r.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return f(o)&&o.constructor===n?o:new n(function(e){return o.subscribe(e)})}if(i("iterator")&&(r=l(t,s)))return new n(function(e){p(function(){if(!e.closed){var n=!0,o=!1,i=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;if(e.next(c),e.closed)return}}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}e.complete()}})});if(Array.isArray(t))return new n(function(e){p(function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}})});throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new("function"==typeof this?this:e)(function(e){p(function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}})})}},{key:u,get:function(){return this}}]),e}();o()&&Object.defineProperty(E,Symbol("extensions"),{value:{symbol:c,hostReportError:h},configurable:!0})});Nn(Dn);Dn.Observable;var xn=Dn.Observable;var $n=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return ct(t,e),t}(Error);function Mn(e){return e.request.length<=1}function Rn(e){return new xn(function(t){t.error(e)})}function An(e,t){var n=ut({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=ut({},n,"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return ut({},n)}}),Object.defineProperty(t,"toKey",{enumerable:!1,value:function(){return function(e){var t=e.query,n=e.variables,r=e.operationName;return JSON.stringify([r,t,n])}(t)}}),t}function Ln(e,t){return t?t(e):xn.of()}function qn(e){return"function"==typeof e?new Vn(e):e}function Pn(){return new Vn(function(){return xn.of()})}function Qn(e){return 0===e.length?Pn():e.map(qn).reduce(function(e,t){return e.concat(t)})}function Fn(e,t,n){var r=qn(t),o=qn(n||new Vn(Ln));return Mn(r)&&Mn(o)?new Vn(function(t){return e(t)?r.request(t)||xn.of():o.request(t)||xn.of()}):new Vn(function(t,n){return e(t)?r.request(t,n)||xn.of():o.request(t,n)||xn.of()})}var jn=function(e,t){var n=qn(e);if(Mn(n))return"production"===process.env.NODE_ENV||mt.warn(new $n("You are calling concat on a terminating link, which will have no effect",n)),n;var r=qn(t);return Mn(r)?new Vn(function(e){return n.request(e,function(e){return r.request(e)||xn.of()})||xn.of()}):new Vn(function(e,t){return n.request(e,function(e){return r.request(e,t)||xn.of()})||xn.of()})},Vn=function(){function e(e){e&&(this.request=e)}return e.prototype.split=function(t,n,r){return this.concat(Fn(t,n,r||new e(Ln)))},e.prototype.concat=function(e){return jn(this,e)},e.prototype.request=function(e,t){throw"production"===process.env.NODE_ENV?new vt(1):new vt("request is not implemented")},e.empty=Pn,e.from=Qn,e.split=Fn,e.execute=Bn,e}();function Bn(e,t){return e.request(An(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?Ut(t.query):""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];if(t.indexOf(o)<0)throw"production"===process.env.NODE_ENV?new vt(2):new vt("illegal argument: "+o)}return e}(t))))||xn.of()}var Un,Gn=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")());function Yn(e){return e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(Un||(Un={}));var Hn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ct(t,e),t.prototype[Gn]=function(){return this},t.prototype["@@observable"]=function(){return this},t}(xn);function Jn(e){return Array.isArray(e)&&e.length>0}var zn,Wn=function(e){var t="";return Jn(e.graphQLErrors)&&e.graphQLErrors.forEach(function(e){var n=e?e.message:"Error message not found.";t+="GraphQL error: "+n+"\n"}),e.networkError&&(t+="Network error: "+e.networkError.message+"\n"),t=t.replace(/\n$/,"")},Kn=function(e){function t(n){var r=n.graphQLErrors,o=n.networkError,i=n.errorMessage,a=n.extraInfo,s=e.call(this,i)||this;return s.graphQLErrors=r||[],s.networkError=o||null,s.message=i||Wn(s),s.extraInfo=a,s.__proto__=t.prototype,s}return ct(t,e),t}(Error);!function(e){e[e.normal=1]="normal",e[e.refetch=2]="refetch",e[e.poll=3]="poll"}(zn||(zn={}));var Xn=function(e){function t(t){var n=t.queryManager,r=t.options,o=t.shouldSubscribe,i=void 0===o||o,a=e.call(this,function(e){return a.onSubscribe(e)})||this;a.observers=new Set,a.subscriptions=new Set,a.isTornDown=!1,a.options=r,a.variables=r.variables||{},a.queryId=n.generateQueryId(),a.shouldSubscribe=i;var s=Bt(r.query);return a.queryName=s&&s.name&&s.name.value,a.queryManager=n,a}return ct(t,e),t.prototype.result=function(){var e=this;return new Promise(function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout(function(){o.unsubscribe()},0)},error:n},o=e.subscribe(r)})},t.prototype.currentResult=function(){var e=this.getCurrentResult();return void 0===e.data&&(e.data={}),e},t.prototype.getCurrentResult=function(){if(this.isTornDown){var e=this.lastResult;return{data:!this.lastError&&e&&e.data||void 0,error:this.lastError,loading:!1,networkStatus:Un.error}}var t,n,r,o=this.queryManager.getCurrentQueryResult(this),i=o.data,a=o.partial,s=this.queryManager.queryStore.get(this.queryId),c=this.options.fetchPolicy,u="network-only"===c||"no-cache"===c;if(s){var l=s.networkStatus;if(n=s,void 0===(r=this.options.errorPolicy)&&(r="none"),n&&(n.networkError||"none"===r&&Jn(n.graphQLErrors)))return{data:void 0,loading:!1,networkStatus:l,error:new Kn({graphQLErrors:s.graphQLErrors,networkError:s.networkError})};s.variables&&(this.options.variables=ut({},this.options.variables,s.variables),this.variables=this.options.variables),t={data:i,loading:Yn(l),networkStatus:l},s.graphQLErrors&&"all"===this.options.errorPolicy&&(t.errors=s.graphQLErrors)}else{var d=u||a&&"cache-only"!==c;t={data:i,loading:d,networkStatus:d?Un.loading:Un.ready}}return a||this.updateLastResult(ut({},t,{stale:!1})),ut({},t,{partial:a})},t.prototype.isDifferentFromLastResult=function(e){var t=this.lastResultSnapshot;return!(t&&e&&t.networkStatus===e.networkStatus&&t.stale===e.stale&&_t(t.data,e.data))},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){var e=this.queryManager.queryStore.get(this.queryId);e&&(e.networkError=null,e.graphQLErrors=[])},t.prototype.refetch=function(e){var t=this.options.fetchPolicy;return"cache-only"===t?Promise.reject("production"===process.env.NODE_ENV?new vt(3):new vt("cache-only fetchPolicy option should not be used together with query refetch.")):("no-cache"!==t&&"cache-and-network"!==t&&(t="network-only"),_t(this.variables,e)||(this.variables=ut({},this.variables,e)),_t(this.options.variables,this.variables)||(this.options.variables=ut({},this.options.variables,this.variables)),this.queryManager.fetchQuery(this.queryId,ut({},this.options,{fetchPolicy:t}),zn.refetch))},t.prototype.fetchMore=function(e){var t=this;"production"===process.env.NODE_ENV?mt(e.updateQuery,4):mt(e.updateQuery,"updateQuery option is required. This function defines how to update the query data with the new results.");var n=ut({},e.query?e:ut({},this.options,e,{variables:ut({},this.variables,e.variables)}),{fetchPolicy:"network-only"}),r=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(r,n,zn.normal,this.queryId).then(function(o){return t.updateQuery(function(t){return e.updateQuery(t,{fetchMoreResult:o.data,variables:n.variables})}),t.queryManager.stopQuery(r),o},function(e){throw t.queryManager.stopQuery(r),e})},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery(function(e,t){var o=t.variables;return r(e,{subscriptionData:n,variables:o})})},error:function(t){e.onError?e.onError(t):"production"===process.env.NODE_ENV||mt.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){var t=this.options.fetchPolicy;this.options=ut({},this.options,e),e.pollInterval?this.startPolling(e.pollInterval):0===e.pollInterval&&this.stopPolling();var n=e.fetchPolicy;return this.setVariables(this.options.variables,t!==n&&("cache-only"===t||"standby"===t||"network-only"===n),e.fetchResults)},t.prototype.setVariables=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!0),this.isTornDown=!1,e=e||this.variables,!t&&_t(e,this.variables)?this.observers.size&&n?this.result():Promise.resolve():(this.variables=this.options.variables=e,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=t.getQueryWithPreviousResult(this.queryId),r=n.previousResult,o=n.variables,i=n.document,a=cn(function(){return e(r,{variables:o})});a&&(t.dataStore.markUpdateQueryResult(i,o,a),t.broadcastQueries())},t.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},t.prototype.startPolling=function(e){tr(this),this.options.pollInterval=e,this.queryManager.startPollingQuery(this.options,this.queryId)},t.prototype.updateLastResult=function(e){var t=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:on(e),t},t.prototype.onSubscribe=function(e){var t=this;try{var n=e._subscription._observer;n&&!n.error&&(n.error=Zn)}catch(e){}var r=!this.observers.size;return this.observers.add(e),e.next&&this.lastResult&&e.next(this.lastResult),e.error&&this.lastError&&e.error(this.lastError),r&&this.setUpQuery(),function(){t.observers.delete(e)&&!t.observers.size&&t.tearDownQuery()}},t.prototype.setUpQuery=function(){var e=this,t=this.queryManager,n=this.queryId;this.shouldSubscribe&&t.addObservableQuery(n,this),this.options.pollInterval&&(tr(this),t.startPollingQuery(this.options,n));var r=function(t){e.updateLastResult(ut({},e.lastResult,{errors:t.graphQLErrors,networkStatus:Un.error,loading:!1})),er(e.observers,"error",e.lastError=t)};t.observeQuery(n,this.options,{next:function(n){if(e.lastError||e.isDifferentFromLastResult(n)){var r=e.updateLastResult(n),o=e.options,i=o.query,a=o.variables,s=o.fetchPolicy;t.transform(i).hasClientExports?t.getLocalState().addExportedVariables(i,a).then(function(o){var a=e.variables;e.variables=e.options.variables=o,!n.loading&&r&&"cache-only"!==s&&t.transform(i).serverQuery&&!_t(a,o)?e.refetch():er(e.observers,"next",n)}):er(e.observers,"next",n)}},error:r}).catch(r)},t.prototype.tearDownQuery=function(){var e=this.queryManager;this.isTornDown=!0,e.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions.clear(),e.removeObservableQuery(this.queryId),e.stopQuery(this.queryId),this.observers.clear()},t}(Hn);function Zn(e){"production"===process.env.NODE_ENV||mt.error("Unhandled error",e.message,e.stack)}function er(e,t,n){var r=[];e.forEach(function(e){return e[t]&&r.push(e)}),r.forEach(function(e){return e[t](n)})}function tr(e){var t=e.options.fetchPolicy;"production"===process.env.NODE_ENV?mt("cache-first"!==t&&"cache-only"!==t,5):mt("cache-first"!==t&&"cache-only"!==t,"Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.")}var nr=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initMutation=function(e,t,n){this.store[e]={mutation:t,variables:n||{},loading:!0,error:null}},e.prototype.markMutationError=function(e,t){var n=this.store[e];n&&(n.loading=!1,n.error=t)},e.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},e.prototype.reset=function(){this.store={}},e}(),rr=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initQuery=function(e){var t=this.store[e.queryId];"production"===process.env.NODE_ENV?mt(!t||t.document===e.document||_t(t.document,e.document),19):mt(!t||t.document===e.document||_t(t.document,e.document),"Internal Error: may not update existing query string in store");var n,r=!1,o=null;e.storePreviousVariables&&t&&t.networkStatus!==Un.loading&&(_t(t.variables,e.variables)||(r=!0,o=t.variables)),n=r?Un.setVariables:e.isPoll?Un.poll:e.isRefetch?Un.refetch:Un.loading;var i=[];t&&t.graphQLErrors&&(i=t.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:o,networkError:null,graphQLErrors:i,networkStatus:n,metadata:e.metadata},"string"==typeof e.fetchMoreForQueryId&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=Un.fetchMore)},e.prototype.markQueryResult=function(e,t,n){this.store&&this.store[e]&&(this.store[e].networkError=null,this.store[e].graphQLErrors=Jn(t.errors)?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=Un.ready,"string"==typeof n&&this.store[n]&&(this.store[n].networkStatus=Un.ready))},e.prototype.markQueryError=function(e,t,n){this.store&&this.store[e]&&(this.store[e].networkError=t,this.store[e].networkStatus=Un.error,"string"==typeof n&&this.markQueryResultClient(n,!0))},e.prototype.markQueryResultClient=function(e,t){var n=this.store&&this.store[e];n&&(n.networkError=null,n.previousVariables=null,t&&(n.networkStatus=Un.ready))},e.prototype.stopQuery=function(e){delete this.store[e]},e.prototype.reset=function(e){var t=this;Object.keys(this.store).forEach(function(n){e.indexOf(n)<0?t.stopQuery(n):t.store[n].networkStatus=Un.loading})},e}();var or=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,o=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),o&&this.setFragmentMatcher(o)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(e){t.resolvers=hn(t.resolvers,e)}):this.resolvers=hn(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,o=e.variables,i=e.onlyRunForcedResolvers,a=void 0!==i&&i;return lt(this,void 0,void 0,function(){return dt(this,function(e){return t?[2,this.resolveDocument(t,n.data,r,o,this.fragmentMatcher,a).then(function(e){return ut({},n,{data:e.result})})]:[2,n]})})},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){if(qt(["client"],e)){if(this.resolvers)return e;"production"===process.env.NODE_ENV||mt.warn("Found @client directives in a query but no ApolloClient resolvers were specified. This means ApolloClient local resolver handling has been disabled, and @client directives will be passed through to your link chain.")}return null},e.prototype.serverQuery=function(e){return this.resolvers?function(e){Vt(e);var t=Zt([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=ot(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every(function(e){return xt(e)&&"__typename"===e.name.value}))return null}}})),t}(e):e},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.cache;return ut({},e,{cache:t,getCacheKey:function(e){if(t.config)return t.config.dataIdFromObject(e);"production"===process.env.NODE_ENV?mt(!1,6):mt(!1,"To use context.getCacheKey, you need to use a cache that has a configurable dataIdFromObject, like apollo-cache-inmemory.")}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),lt(this,void 0,void 0,function(){return dt(this,function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then(function(e){return ut({},t,e.exportedVariables)})]:[2,ut({},t)]})})},e.prototype.shouldForceResolvers=function(e){var t=!1;return ot(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some(function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value})))return rt}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:tn(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,o,i){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===o&&(o=function(){return!0}),void 0===i&&(i=!1),lt(this,void 0,void 0,function(){var a,s,c,u,l,d,f,h,p;return dt(this,function(v){var m;return a=Yt(e),s=Gt(e),c=Ht(s),u=a.operation,l=u?(m=u).charAt(0).toUpperCase()+m.slice(1):"Query",f=(d=this).cache,h=d.client,p={fragmentMap:c,context:ut({},n,{cache:f,client:h}),variables:r,fragmentMatcher:o,defaultOperationType:l,exportedVariables:{},onlyRunForcedResolvers:i},[2,this.resolveSelectionSet(a.selectionSet,t,p).then(function(e){return{result:e,exportedVariables:p.exportedVariables}})]})})},e.prototype.resolveSelectionSet=function(e,t,n){return lt(this,void 0,void 0,function(){var r,o,i,a,s,c=this;return dt(this,function(u){return r=n.fragmentMap,o=n.context,i=n.variables,a=[t],s=function(e){return lt(c,void 0,void 0,function(){var s,c;return dt(this,function(u){return Lt(e,i)?xt(e)?[2,this.resolveField(e,t,n).then(function(t){var n;void 0!==t&&a.push(((n={})[Dt(e)]=t,n))})]:($t(e)?s=e:(s=r[e.name.value],"production"===process.env.NODE_ENV?mt(s,7):mt(s,"No fragment named "+e.name.value)),s&&s.typeCondition&&(c=s.typeCondition.name.value,n.fragmentMatcher(t,c,o))?[2,this.resolveSelectionSet(s.selectionSet,t,n).then(function(e){a.push(e)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(s)).then(function(){return pn(a)})]})})},e.prototype.resolveField=function(e,t,n){return lt(this,void 0,void 0,function(){var r,o,i,a,s,c,u,l,d,f=this;return dt(this,function(h){return r=n.variables,o=e.name.value,i=Dt(e),a=o!==i,s=t[i]||t[o],c=Promise.resolve(s),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(u=t.__typename||n.defaultOperationType,(l=this.resolvers&&this.resolvers[u])&&(d=l[a?o:i])&&(c=Promise.resolve(d(t,Ct(e,r),n.context,{field:e})))),[2,c.then(function(t){return void 0===t&&(t=s),e.directives&&e.directives.forEach(function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach(function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)})}),e.selectionSet?null==t?t:Array.isArray(t)?f.resolveSubSelectedArray(e,t,n):e.selectionSet?f.resolveSelectionSet(e.selectionSet,t,n):void 0:t})]})})},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map(function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0}))},e}();function ir(e){var t=new Set,n=null;return new Hn(function(r){return t.add(r),n=n||e.subscribe({next:function(e){t.forEach(function(t){return t.next&&t.next(e)})},error:function(e){t.forEach(function(t){return t.error&&t.error(e)})},complete:function(){t.forEach(function(e){return e.complete&&e.complete()})}}),function(){t.delete(r)&&!t.size&&n&&(n.unsubscribe(),n=null)}})}var ar=Object.prototype.hasOwnProperty,sr=function(){function e(e){var t=e.link,n=e.queryDeduplication,r=void 0!==n&&n,o=e.store,i=e.onBroadcast,a=void 0===i?function(){}:i,s=e.ssrMode,c=void 0!==s&&s,u=e.clientAwareness,l=void 0===u?{}:u,d=e.localState,f=e.assumeImmutableResults;this.mutationStore=new nr,this.queryStore=new rr,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(nn?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=t,this.queryDeduplication=r,this.dataStore=o,this.onBroadcast=a,this.clientAwareness=l,this.localState=d||new or({cache:o.getCache()}),this.ssrMode=c,this.assumeImmutableResults=!!f}return e.prototype.stop=function(){var e=this;this.queries.forEach(function(t,n){e.stopQueryNoBroadcast(n)}),this.fetchQueryRejectFns.forEach(function(e){e("production"===process.env.NODE_ENV?new vt(8):new vt("QueryManager stopped while query was in flight"))})},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,r=e.optimisticResponse,o=e.updateQueries,i=e.refetchQueries,a=void 0===i?[]:i,s=e.awaitRefetchQueries,c=void 0!==s&&s,u=e.update,l=e.errorPolicy,d=void 0===l?"none":l,f=e.fetchPolicy,h=e.context,p=void 0===h?{}:h;return lt(this,void 0,void 0,function(){var e,i,s,l=this;return dt(this,function(h){switch(h.label){case 0:return"production"===process.env.NODE_ENV?mt(t,9):mt(t,"mutation option is required. You must specify your GraphQL document in the mutation option."),"production"===process.env.NODE_ENV?mt(!f||"no-cache"===f,10):mt(!f||"no-cache"===f,"fetchPolicy for mutations currently only supports the 'no-cache' policy"),e=this.generateQueryId(),t=this.transform(t).document,this.setQuery(e,function(){return{document:t}}),n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,p)]:[3,2];case 1:n=h.sent(),h.label=2;case 2:return i=function(){var e={};return o&&l.queries.forEach(function(t,n){var r=t.observableQuery;if(r){var i=r.queryName;i&&ar.call(o,i)&&(e[n]={updater:o[i],query:l.queryStore.get(n)})}}),e},this.mutationStore.initMutation(e,t,n),this.dataStore.markMutationInit({mutationId:e,document:t,variables:n,updateQueries:i(),update:u,optimisticResponse:r}),this.broadcastQueries(),s=this,[2,new Promise(function(o,l){var h,v;s.getObservableFromLink(t,ut({},p,{optimisticResponse:r}),n,!1).subscribe({next:function(r){un(r)&&"none"===d?v=new Kn({graphQLErrors:r.errors}):(s.mutationStore.markMutationResult(e),"no-cache"!==f&&s.dataStore.markMutationResult({mutationId:e,result:r,document:t,variables:n,updateQueries:i(),update:u}),h=r)},error:function(t){s.mutationStore.markMutationError(e,t),s.dataStore.markMutationComplete({mutationId:e,optimisticResponse:r}),s.broadcastQueries(),s.setQuery(e,function(){return{document:null}}),l(new Kn({networkError:t}))},complete:function(){if(v&&s.mutationStore.markMutationError(e,v),s.dataStore.markMutationComplete({mutationId:e,optimisticResponse:r}),s.broadcastQueries(),v)l(v);else{"function"==typeof a&&(a=a(h));var t=[];Jn(a)&&a.forEach(function(e){if("string"==typeof e)s.queries.forEach(function(n){var r=n.observableQuery;r&&r.queryName===e&&t.push(r.refetch())});else{var n={query:e.query,variables:e.variables,fetchPolicy:"network-only"};e.context&&(n.context=e.context),t.push(s.query(n))}}),Promise.all(c?t:[]).then(function(){s.setQuery(e,function(){return{document:null}}),"ignore"===d&&h&&un(h)&&delete h.errors,o(h)})}}})})]}})})},e.prototype.fetchQuery=function(e,t,n,r){return lt(this,void 0,void 0,function(){var o,i,a,s,c,u,l,d,f,h,p,v,m,y,g,b,w,E,S=this;return dt(this,function(k){switch(k.label){case 0:return o=t.metadata,i=void 0===o?null:o,a=t.fetchPolicy,s=void 0===a?"cache-first":a,c=t.context,u=void 0===c?{}:c,l=this.transform(t.query).document,d=this.getVariables(l,t.variables),this.transform(l).hasClientExports?[4,this.localState.addExportedVariables(l,d,u)]:[3,2];case 1:d=k.sent(),k.label=2;case 2:if(t=ut({},t,{variables:d}),p=h="network-only"===s||"no-cache"===s,h||(v=this.dataStore.getCache().diff({query:l,variables:d,returnPartialData:!0,optimistic:!1}),m=v.complete,y=v.result,p=!m||"cache-and-network"===s,f=y),g=p&&"cache-only"!==s&&"standby"!==s,qt(["live"],l)&&(g=!0),b=this.idCounter++,w="no-cache"!==s?this.updateQueryWatch(e,l,t):void 0,this.setQuery(e,function(){return{document:l,lastRequestId:b,invalidated:!0,cancel:w}}),this.invalidate(r),this.queryStore.initQuery({queryId:e,document:l,storePreviousVariables:g,variables:d,isPoll:n===zn.poll,isRefetch:n===zn.refetch,metadata:i,fetchMoreForQueryId:r}),this.broadcastQueries(),g){if(E=this.fetchRequest({requestId:b,queryId:e,document:l,options:t,fetchMoreForQueryId:r}).catch(function(t){throw t.hasOwnProperty("graphQLErrors")?t:(b>=S.getQuery(e).lastRequestId&&(S.queryStore.markQueryError(e,t,r),S.invalidate(e),S.invalidate(r),S.broadcastQueries()),new Kn({networkError:t}))}),"cache-and-network"!==s)return[2,E];E.catch(function(){})}return this.queryStore.markQueryResultClient(e,!g),this.invalidate(e),this.invalidate(r),this.transform(l).hasForcedResolvers?[2,this.localState.runResolvers({document:l,remoteResult:{data:f},context:u,variables:d,onlyRunForcedResolvers:!0}).then(function(n){return S.markQueryResult(e,n,t,r),S.broadcastQueries(),n})]:(this.broadcastQueries(),[2,{data:f}])}})})},e.prototype.markQueryResult=function(e,t,n,r){var o=n.fetchPolicy,i=n.variables,a=n.errorPolicy;"no-cache"===o?this.setQuery(e,function(){return{newData:{result:t.data,complete:!0}}}):this.dataStore.markQueryResult(t,this.getQuery(e).document,i,r,"ignore"===a||"all"===a)},e.prototype.queryListenerForObserver=function(e,t,n){var r=this;function o(e,t){if(n[e])try{n[e](t)}catch(e){"production"===process.env.NODE_ENV||mt.error(e)}else"error"===e&&("production"===process.env.NODE_ENV||mt.error(t))}return function(n,i){if(r.invalidate(e,!1),n){var a=r.getQuery(e),s=a.observableQuery,c=a.document,u=s?s.options.fetchPolicy:t.fetchPolicy;if("standby"!==u){var l=Yn(n.networkStatus),d=s&&s.getLastResult(),f=!(!d||d.networkStatus===n.networkStatus),h=t.returnPartialData||!i&&n.previousVariables||f&&t.notifyOnNetworkStatusChange||"cache-only"===u||"cache-and-network"===u;if(!l||h){var p=Jn(n.graphQLErrors),v=s&&s.options.errorPolicy||t.errorPolicy||"none";if("none"===v&&p||n.networkError)return o("error",new Kn({graphQLErrors:n.graphQLErrors,networkError:n.networkError}));try{var m=void 0,y=void 0;if(i)"no-cache"!==u&&"network-only"!==u&&r.setQuery(e,function(){return{newData:null}}),m=i.result,y=!i.complete;else{var g=s&&s.getLastError(),b="none"!==v&&(g&&g.graphQLErrors)!==n.graphQLErrors;if(d&&d.data&&!b)m=d.data,y=!1;else{var w=r.dataStore.getCache().diff({query:c,variables:n.previousVariables||n.variables,returnPartialData:!0,optimistic:!0});m=w.result,y=!w.complete}}var E=y&&!(t.returnPartialData||"cache-only"===u),S={data:E?d&&d.data:m,loading:l,networkStatus:n.networkStatus,stale:E};"all"===v&&p&&(S.errors=n.graphQLErrors),o("next",S)}catch(e){o("error",new Kn({networkError:e}))}}}}}},e.prototype.transform=function(e){var t,n=this.transformCache;if(!n.has(e)){var r=this.dataStore.getCache(),o=r.transformDocument(e),i=(t=r.transformForLink(o),Zt([en],Vt(t))),a=this.localState.clientQuery(o),s=this.localState.serverQuery(i),c={document:o,hasClientExports:Pt(o),hasForcedResolvers:this.localState.shouldForceResolvers(o),clientQuery:a,serverQuery:s,defaultVars:Jt(Bt(o))},u=function(e){e&&!n.has(e)&&n.set(e,c)};u(e),u(o),u(a),u(s)}return n.get(e)},e.prototype.getVariables=function(e,t){return ut({},this.transform(e).defaultVars,t)},e.prototype.watchQuery=function(e,t){void 0===t&&(t=!0),"production"===process.env.NODE_ENV?mt("standby"!==e.fetchPolicy,11):mt("standby"!==e.fetchPolicy,'client.watchQuery cannot be called with fetchPolicy set to "standby"'),e.variables=this.getVariables(e.query,e.variables),void 0===e.notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var n=ut({},e);return new Xn({queryManager:this,options:n,shouldSubscribe:t})},e.prototype.query=function(e){var t=this;return"production"===process.env.NODE_ENV?mt(e.query,12):mt(e.query,"query option is required. You must specify your GraphQL document in the query option."),"production"===process.env.NODE_ENV?mt("Document"===e.query.kind,13):mt("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'),"production"===process.env.NODE_ENV?mt(!e.returnPartialData,14):mt(!e.returnPartialData,"returnPartialData option only supported on watchQuery."),"production"===process.env.NODE_ENV?mt(!e.pollInterval,15):mt(!e.pollInterval,"pollInterval option only supported on watchQuery."),new Promise(function(n,r){var o=t.watchQuery(e,!1);t.fetchQueryRejectFns.set("query:"+o.queryId,r),o.result().then(n,r).then(function(){return t.fetchQueryRejectFns.delete("query:"+o.queryId)})})},e.prototype.generateQueryId=function(){return String(this.idCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},e.prototype.addQueryListener=function(e,t){this.setQuery(e,function(e){return e.listeners.add(t),{invalidated:!1}})},e.prototype.updateQueryWatch=function(e,t,n){var r=this,o=this.getQuery(e).cancel;o&&o();return this.dataStore.getCache().watch({query:t,variables:n.variables,optimistic:!0,previousResult:function(){var t=null,n=r.getQuery(e).observableQuery;if(n){var o=n.getLastResult();o&&(t=o.data)}return t},callback:function(t){r.setQuery(e,function(){return{invalidated:!0,newData:t}})}})},e.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}})},e.prototype.removeObservableQuery=function(e){var t=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}}),t&&t()},e.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(e){e("production"===process.env.NODE_ENV?new vt(16):new vt("Store reset while query was in flight (not completed in link chain)"))});var e=[];return this.queries.forEach(function(t,n){t.observableQuery&&e.push(n)}),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.queries.forEach(function(r,o){var i=r.observableQuery;if(i){var a=i.options.fetchPolicy;i.resetLastResults(),"cache-only"===a||!e&&"standby"===a||n.push(i.refetch()),t.setQuery(o,function(){return{newData:null}}),t.invalidate(o)}}),this.broadcastQueries(),Promise.all(n)},e.prototype.observeQuery=function(e,t,n){return this.addQueryListener(e,this.queryListenerForObserver(e,t,n)),this.fetchQuery(e,t)},e.prototype.startQuery=function(e,t,n){return"production"===process.env.NODE_ENV||mt.warn("The QueryManager.startQuery method has been deprecated"),this.addQueryListener(e,n),this.fetchQuery(e,t).catch(function(){}),e},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,o=e.variables;n=this.transform(n).document,o=this.getVariables(n,o);var i=function(e){return t.getObservableFromLink(n,{},e,!1).map(function(o){if(r&&"no-cache"===r||(t.dataStore.markSubscriptionResult(o,n,e),t.broadcastQueries()),un(o))throw new Kn({graphQLErrors:o.errors});return o})};if(this.transform(n).hasClientExports){var a=this.localState.addExportedVariables(n,o).then(i);return new Hn(function(e){var t=null;return a.then(function(n){return t=n.subscribe(e)},e.error),function(){return t&&t.unsubscribe()}})}return i(o)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach(function(e){return e.unsubscribe()}),this.queries.delete(e)},e.prototype.getCurrentQueryResult=function(e,t){void 0===t&&(t=!0);var n=e.options,r=n.variables,o=n.query,i=n.fetchPolicy,a=n.returnPartialData,s=e.getLastResult(),c=this.getQuery(e.queryId).newData;if(c&&c.complete)return{data:c.result,partial:!1};if("no-cache"===i||"network-only"===i)return{data:void 0,partial:!1};var u=this.dataStore.getCache().diff({query:o,variables:r,previousResult:s?s.data:void 0,returnPartialData:!0,optimistic:t}),l=u.result,d=u.complete;return{data:d||a?l:void 0,partial:!d}},e.prototype.getQueryWithPreviousResult=function(e){var t;if("string"==typeof e){var n=this.getQuery(e).observableQuery;"production"===process.env.NODE_ENV?mt(n,17):mt(n,"ObservableQuery with this id doesn't exist: "+e),t=n}else t=e;var r=t.options,o=r.variables,i=r.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:o,document:i}},e.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(t,n){t.invalidated&&t.listeners.forEach(function(r){r&&r(e.queryStore.get(n),t.newData)})})},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var o,i=this;void 0===r&&(r=this.queryDeduplication);var a=this.transform(e).serverQuery;if(a){var s=this.inFlightLinkObservables,c=this.link,u={query:a,variables:n,operationName:Ut(a)||void 0,context:this.prepareContext(ut({},t,{forceFetch:!r}))};if(t=u.context,r){var l=s.get(a)||new Map;s.set(a,l);var d=JSON.stringify(n);if(!(o=l.get(d))){l.set(d,o=ir(Bn(c,u)));var f=function(){l.delete(d),l.size||s.delete(a),h.unsubscribe()},h=o.subscribe({next:f,error:f,complete:f})}}else o=ir(Bn(c,u))}else o=Hn.of({data:{}}),t=this.prepareContext(t);var p=this.transform(e).clientQuery;return p&&(o=function(e,t){return new Hn(function(n){var r=n.next,o=n.error,i=n.complete,a=0,s=!1,c={next:function(e){++a,new Promise(function(n){n(t(e))}).then(function(e){--a,r&&r.call(n,e),s&&c.complete()},function(e){--a,o&&o.call(n,e)})},error:function(e){o&&o.call(n,e)},complete:function(){s=!0,a||i&&i.call(n)}},u=e.subscribe(c);return function(){return u.unsubscribe()}})}(o,function(e){return i.localState.runResolvers({document:p,remoteResult:e,context:t,variables:n})})),o},e.prototype.fetchRequest=function(e){var t,n,r=this,o=e.requestId,i=e.queryId,a=e.document,s=e.options,c=e.fetchMoreForQueryId,u=s.variables,l=s.errorPolicy,d=void 0===l?"none":l,f=s.fetchPolicy;return new Promise(function(e,l){var h=r.getObservableFromLink(a,s.context,u),p="fetchRequest:"+i;r.fetchQueryRejectFns.set(p,l);var v=function(){r.fetchQueryRejectFns.delete(p),r.setQuery(i,function(e){e.subscriptions.delete(m)})},m=h.map(function(e){if(o>=r.getQuery(i).lastRequestId&&(r.markQueryResult(i,e,s,c),r.queryStore.markQueryResult(i,e,c),r.invalidate(i),r.invalidate(c),r.broadcastQueries()),"none"===d&&Jn(e.errors))return l(new Kn({graphQLErrors:e.errors}));if("all"===d&&(n=e.errors),c||"no-cache"===f)t=e.data;else{var h=r.dataStore.getCache().diff({variables:u,query:a,optimistic:!1,returnPartialData:!0}),p=h.result;(h.complete||s.returnPartialData)&&(t=p)}}).subscribe({error:function(e){v(),l(e)},complete:function(){v(),e({data:t,errors:n,loading:!1,networkStatus:Un.ready,stale:!1})}});r.setQuery(i,function(e){e.subscriptions.add(m)})})},e.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},e.prototype.setQuery=function(e,t){var n=this.getQuery(e),r=ut({},n,t(n));this.queries.set(e,r)},e.prototype.invalidate=function(e,t){void 0===t&&(t=!0),e&&this.setQuery(e,function(){return{invalidated:t}})},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return ut({},t,{clientAwareness:this.clientAwareness})},e.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==Un.ready&&t.networkStatus!==Un.error},e.prototype.startPollingQuery=function(e,t,n){var r=this,o=e.pollInterval;if("production"===process.env.NODE_ENV?mt(o,18):mt(o,"Attempted to start a polling query without a polling interval."),!this.ssrMode){var i=this.pollingInfoByQueryId.get(t);i||this.pollingInfoByQueryId.set(t,i={}),i.interval=o,i.options=ut({},e,{fetchPolicy:"network-only"});var a=function(){var e=r.pollingInfoByQueryId.get(t);e&&(r.checkInFlight(t)?s():r.fetchQuery(t,e.options,zn.poll).then(s,s))},s=function(){var e=r.pollingInfoByQueryId.get(t);e&&(clearTimeout(e.timeout),e.timeout=setTimeout(a,e.interval))};n&&this.addQueryListener(t,n),s()}return t},e.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},e}(),cr=function(){function e(e){this.cache=e}return e.prototype.getCache=function(){return this.cache},e.prototype.markQueryResult=function(e,t,n,r,o){void 0===o&&(o=!1);var i=!un(e);o&&un(e)&&e.data&&(i=!0),!r&&i&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:n})},e.prototype.markSubscriptionResult=function(e,t,n){un(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:n})},e.prototype.markMutationInit=function(e){var t,n=this;e.optimisticResponse&&(t="function"==typeof e.optimisticResponse?e.optimisticResponse(e.variables):e.optimisticResponse,this.cache.recordOptimisticTransaction(function(r){var o=n.cache;n.cache=r;try{n.markMutationResult({mutationId:e.mutationId,result:{data:t},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{n.cache=o}},e.mutationId))},e.prototype.markMutationResult=function(e){var t=this;if(!un(e.result)){var n=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],r=e.updateQueries;r&&Object.keys(r).forEach(function(o){var i=r[o],a=i.query,s=i.updater,c=t.cache.diff({query:a.document,variables:a.variables,returnPartialData:!0,optimistic:!1}),u=c.result;if(c.complete){var l=cn(function(){return s(u,{mutationResult:e.result,queryName:Ut(a.document)||void 0,queryVariables:a.variables})});l&&n.push({result:l,dataId:"ROOT_QUERY",query:a.document,variables:a.variables})}}),this.cache.performTransaction(function(t){n.forEach(function(e){return t.write(e)});var r=e.update;r&&cn(function(){return r(t,e.result)})})}},e.prototype.markMutationComplete=function(e){var t=e.mutationId;e.optimisticResponse&&this.cache.removeOptimistic(t)},e.prototype.markUpdateQueryResult=function(e,t,n){this.cache.write({result:n,dataId:"ROOT_QUERY",variables:t,query:e})},e.prototype.reset=function(){return this.cache.reset()},e}(),ur="2.6.4",lr=!1,dr=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.cache,r=e.ssrMode,o=void 0!==r&&r,i=e.ssrForceFetchDelay,a=void 0===i?0:i,s=e.connectToDevTools,c=e.queryDeduplication,u=void 0===c||c,l=e.defaultOptions,d=e.assumeImmutableResults,f=void 0!==d&&d,h=e.resolvers,p=e.typeDefs,v=e.fragmentMatcher,m=e.name,y=e.version,g=e.link;if(!g&&h&&(g=Vn.empty()),!g||!n)throw"production"===process.env.NODE_ENV?new vt(1):new vt("In order to initialize Apollo Client, you must specify 'link' and 'cache' properties in the options object.\nThese options are part of the upgrade requirements when migrating from Apollo Client 1.x to Apollo Client 2.x.\nFor more information, please visit: https://www.apollographql.com/docs/tutorial/client.html#apollo-client-setup");this.link=g,this.cache=n,this.store=new cr(n),this.disableNetworkFetches=o||a>0,this.queryDeduplication=u,this.defaultOptions=l||{},this.typeDefs=p,a&&setTimeout(function(){return t.disableNetworkFetches=!1},a),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var b="production"!==process.env.NODE_ENV&&"undefined"!=typeof window&&!window.__APOLLO_CLIENT__;(void 0===s?b:s&&"undefined"!=typeof window)&&(window.__APOLLO_CLIENT__=this),lr||"production"===process.env.NODE_ENV||(lr=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&void 0===window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("Chrome")>-1&&console.debug("Download the Apollo DevTools for a better development experience: https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm")),this.version=ur,this.localState=new or({cache:n,client:this,resolvers:h,fragmentMatcher:v}),this.queryManager=new sr({link:this.link,store:this.store,queryDeduplication:u,ssrMode:o,clientAwareness:{name:m,version:y},localState:this.localState,assumeImmutableResults:f,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.queryStore.getStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(!0)})}})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=ut({},this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=ut({},e,{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=ut({},this.defaultOptions.query,e)),"production"===process.env.NODE_ENV?mt("cache-and-network"!==e.fetchPolicy,2):mt("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=ut({},e,{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=ut({},this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeData=function(e){var t=this.cache.writeData(e);return this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return Bn(this.link,e)},e.prototype.initQueryManager=function(){return"production"===process.env.NODE_ENV||mt.warn("Calling the initQueryManager method is no longer necessary, and it will be removed from ApolloClient in version 3.0."),this.queryManager},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(e){return e()}))}).then(function(){return e.reFetchObservableQueries()})},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(e){return e()}))})},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(t){return t!==e})}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(t){return t!==e})}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e}();function fr(e){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:hr(e)}]}}function hr(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return null;if(Array.isArray(e))return hr(e[0]);var t=[];return Object.keys(e).forEach(function(n){var r={kind:"Field",name:{kind:"Name",value:n},selectionSet:hr(e[n])||void 0};t.push(r)}),{kind:"SelectionSet",selections:t}}var pr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},vr=function(){function e(){}return e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:Ft(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},e.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},e.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Ft(e.fragment,e.fragmentName)})},e.prototype.writeData=function(e){var t,n,r=e.id,o=e.data;if(void 0!==r){var i=null;try{i=this.read({rootId:r,optimistic:!1,query:pr})}catch(e){}var a=i&&i.__typename||"__ClientData",s=Object.assign({__typename:a},o);this.writeFragment({id:r,fragment:(t=s,n=a,{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:n||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:hr(t)}]}),data:s})}else this.writeQuery({query:fr(o),data:o})},e}(),mr=null,yr={},gr=1,br=Array,wr=br["@wry/context:Slot"]||function(){var e=function(){function e(){this.id=["slot",gr++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=mr;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===yr)break;return e!==mr&&(mr.slots[this.id]=t),!0}return mr&&(mr.slots[this.id]=yr),!1},e.prototype.getValue=function(){if(this.hasValue())return mr.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var o,i=((o={__proto__:null})[this.id]=e,o),a=mr;mr={parent:a,slots:i};try{return t.apply(r,n)}finally{mr=a}},e.bind=function(e){var t=mr;return function(){var n=mr;try{return mr=t,e.apply(this,arguments)}finally{mr=n}}},e.noContext=function(e,t,n){if(!mr)return e.apply(n,t);var r=mr;try{return mr=null,e.apply(n,t)}finally{mr=r}},e}();try{Object.defineProperty(br,"@wry/context:Slot",{value:br["@wry/context:Slot"]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();wr.bind,wr.noContext;function Er(){}var Sr=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=Er),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},e.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getEntry(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),kr=new wr,_r=[],Or=[],Ir=100;function Nr(e,t){if(!e)throw new Error(t||"assertion failure")}function Tr(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var Cr=function(){function e(t,n){this.fn=t,this.args=n,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++e.count}return e.prototype.recompute=function(){if(Nr(!this.recomputing,"already recomputing"),function(e){var t=kr.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),xr(e)?Rr(t,e):Ar(t,e),t}(this)||!qr(this))return xr(this)?function(e){var t=Pr(e);kr.withValue(e,Dr,[e]),function(e){if("function"==typeof e.subscribe)try{Fr(e),e.unsubscribe=e.subscribe.apply(null,e.args)}catch(t){return e.setDirty(),!1}return!0}(e)&&function(e){if(e.dirty=!1,xr(e))return;Mr(e)}(e);return t.forEach(qr),Tr(e.value)}(this):Tr(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,$r(this),Fr(this))},e.prototype.dispose=function(){var e=this;Pr(this).forEach(qr),Fr(this),this.parents.forEach(function(t){t.setDirty(),Qr(t,e)})},e.count=0,e}();function Dr(e){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,e.args)}catch(t){e.value[1]=t}e.recomputing=!1}function xr(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function $r(e){e.parents.forEach(function(t){return Rr(t,e)})}function Mr(e){e.parents.forEach(function(t){return Ar(t,e)})}function Rr(e,t){if(Nr(e.childValues.has(t)),Nr(xr(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=Or.pop()||new Set;e.dirtyChildren.add(t),$r(e)}function Ar(e,t){Nr(e.childValues.has(t)),Nr(!xr(t));var n,r,o,i=e.childValues.get(t);0===i.length?e.childValues.set(t,t.value.slice(0)):(n=i,r=t.value,(o=n.length)>0&&o===r.length&&n[o-1]===r[o-1]||e.setDirty()),Lr(e,t),xr(e)||Mr(e)}function Lr(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(Or.length<Ir&&Or.push(n),e.dirtyChildren=null))}function qr(e){return 0===e.parents.size&&"function"==typeof e.reportOrphan&&!0===e.reportOrphan()}function Pr(e){var t=_r;return e.childValues.size>0&&(t=[],e.childValues.forEach(function(n,r){Qr(e,r),t.push(r)})),Nr(null===e.dirtyChildren),t}function Qr(e,t){t.parents.delete(e),e.childValues.delete(t),Lr(e,t)}function Fr(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var jr=function(){function e(e){this.weakness=e}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return e.forEach(function(e){return t=t.getChildTrie(e)}),t.data||(t.data=Object.create(null))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness)),r},e}();var Vr=new jr("function"==typeof WeakMap);function Br(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Vr.lookupArray(e)}var Ur=new Set;function Gr(e,t){void 0===t&&(t=Object.create(null));var n=new Sr(t.max||Math.pow(2,16),function(e){return e.dispose()}),r=!!t.disposable,o=t.makeCacheKey||Br;function i(){if(!r||kr.hasValue()){var i=o.apply(null,arguments);if(!i)return e.apply(null,arguments);var a=Array.prototype.slice.call(arguments),s=n.get(i);s?s.args=a:(s=new Cr(e,a),n.set(i,s),s.subscribe=t.subscribe,r&&(s.reportOrphan=function(){return n.delete(i)}));var c=s.recompute();return n.set(i,s),Ur.add(n),kr.hasValue()||(Ur.forEach(function(e){return e.clean()}),Ur.clear()),r?void 0:c}}return i.dirty=function(){var e=o.apply(null,arguments),t=e&&n.get(e);t&&t.setDirty()},i}var Yr=!1;function Hr(){var e=!Yr;return sn()||(Yr=!0),e}var Jr=function(){function e(){}return e.prototype.ensureReady=function(){return Promise.resolve()},e.prototype.canBypassInit=function(){return!0},e.prototype.match=function(e,t,n){var r=n.store.get(e.id),o="ROOT_QUERY"===e.id;if(!r)return o;var i=r.__typename,a=void 0===i?o&&"Query":i;return a?a===t||(Hr()&&("production"===process.env.NODE_ENV||mt.error("You are using the simple (heuristic) fragment matcher, but your queries contain union or interface types. Apollo Client will not be able to accurately map fragments. To make this error go away, use the `IntrospectionFragmentMatcher` as described in the docs: https://www.apollographql.com/docs/react/advanced/fragments.html#fragment-matcher")),"heuristic"):(Hr()&&("production"===process.env.NODE_ENV||mt.warn("You're using fragments in your queries, but either don't have the addTypename:\n  true option set in Apollo Client, or you are trying to write a fragment to the store without the __typename.\n   Please turn on the addTypename option and include __typename when writing fragments so that Apollo Client\n   can accurately match fragments."),"production"===process.env.NODE_ENV||mt.warn("Could not find __typename on Fragment ",t,r),"production"===process.env.NODE_ENV||mt.warn("DEPRECATION WARNING: using fragments without __typename is unsupported behavior and will be removed in future versions of Apollo client. You should fix this and set addTypename to true now.")),"heuristic")},e}(),zr=Object.prototype.hasOwnProperty,Wr=function(){function e(e){var t=this;void 0===e&&(e=Object.create(null)),this.data=e,this.depend=Gr(function(e){return t.data[e]},{disposable:!0,makeCacheKey:function(e){return e}})}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.depend(e),this.data[e]},e.prototype.set=function(e,t){t!==this.data[e]&&(this.data[e]=t,this.depend.dirty(e))},e.prototype.delete=function(e){zr.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},e.prototype.clear=function(){this.replace(null)},e.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach(function(n){t.set(n,e[n])}),Object.keys(this.data).forEach(function(n){zr.call(e,n)||t.delete(n)})):Object.keys(this.data).forEach(function(e){t.delete(e)})},e}();function Kr(e){return new Wr(e)}var Xr=function(){function e(e){var t=this,n=void 0===e?{}:e,r=n.cacheKeyRoot,o=void 0===r?new jr(nn):r,i=n.freezeResults,a=void 0!==i&&i,s=this.executeStoreQuery,c=this.executeSelectionSet,u=this.executeSubSelectedArray;this.freezeResults=a,this.executeStoreQuery=Gr(function(e){return s.call(t,e)},{makeCacheKey:function(e){var t=e.query,n=e.rootValue,r=e.contextValue,i=e.variableValues,a=e.fragmentMatcher;if(r.store instanceof Wr)return o.lookup(r.store,t,a,JSON.stringify(i),n.id)}}),this.executeSelectionSet=Gr(function(e){return c.call(t,e)},{makeCacheKey:function(e){var t=e.selectionSet,n=e.rootValue,r=e.execContext;if(r.contextValue.store instanceof Wr)return o.lookup(r.contextValue.store,t,r.fragmentMatcher,JSON.stringify(r.variableValues),n.id)}}),this.executeSubSelectedArray=Gr(function(e){return u.call(t,e)},{makeCacheKey:function(e){var t=e.field,n=e.array,r=e.execContext;if(r.contextValue.store instanceof Wr)return o.lookup(r.contextValue.store,t,n,JSON.stringify(r.variableValues))}})}return e.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(ut({},e,{returnPartialData:!1})).result},e.prototype.diffQueryAgainstStore=function(e){var t,n=e.store,r=e.query,o=e.variables,i=e.previousResult,a=e.returnPartialData,s=void 0===a||a,c=e.rootId,u=void 0===c?"ROOT_QUERY":c,l=e.fragmentMatcherFunction,d=e.config;o=jt({},Jt((t=Bt(r),"production"===process.env.NODE_ENV?mt(t&&"query"===t.operation,12):mt(t&&"query"===t.operation,"Must contain a query definition."),t)),o);var f={store:n,dataIdFromObject:d&&d.dataIdFromObject,cacheRedirects:d&&d.cacheRedirects||{}},h=this.executeStoreQuery({query:r,rootValue:{type:"id",id:u,generated:!0,typename:"Query"},contextValue:f,variableValues:o,fragmentMatcher:l}),p=h.missing&&h.missing.length>0;return p&&!s&&h.missing.forEach(function(e){if(!e.tolerable)throw"production"===process.env.NODE_ENV?new vt(8):new vt("Can't find field "+e.fieldName+" on object "+JSON.stringify(e.object,null,2)+".")}),i&&_t(i,h.result)&&(h.result=i),{result:h.result,complete:!p}},e.prototype.executeStoreQuery=function(e){var t=e.query,n=e.rootValue,r=e.contextValue,o=e.variableValues,i=e.fragmentMatcher,a=void 0===i?eo:i,s=Yt(t),c={query:t,fragmentMap:Ht(Gt(t)),contextValue:r,variableValues:o,fragmentMatcher:a};return this.executeSelectionSet({selectionSet:s.selectionSet,rootValue:n,execContext:c})},e.prototype.executeSelectionSet=function(e){var t=this,n=e.selectionSet,r=e.rootValue,o=e.execContext,i=o.fragmentMap,a=o.contextValue,s=o.variableValues,c={result:null},u=[],l=a.store.get(r.id),d=l&&l.__typename||"ROOT_QUERY"===r.id&&"Query"||void 0;function f(e){var t;return e.missing&&(c.missing=c.missing||[],(t=c.missing).push.apply(t,e.missing)),e.result}return n.selections.forEach(function(e){var n;if(Lt(e,s))if(xt(e)){var c=f(t.executeField(l,d,e,o));void 0!==c&&u.push(((n={})[Dt(e)]=c,n))}else{var h=void 0;if($t(e))h=e;else if(!(h=i[e.name.value]))throw"production"===process.env.NODE_ENV?new vt(9):new vt("No fragment named "+e.name.value);var p=h.typeCondition&&h.typeCondition.name.value,v=!p||o.fragmentMatcher(r,p,a);if(v){var m=t.executeSelectionSet({selectionSet:h.selectionSet,rootValue:r,execContext:o});"heuristic"===v&&m.missing&&(m=ut({},m,{missing:m.missing.map(function(e){return ut({},e,{tolerable:!0})})})),u.push(f(m))}}}),c.result=pn(u),this.freezeResults&&"production"!==process.env.NODE_ENV&&Object.freeze(c.result),c},e.prototype.executeField=function(e,t,n,r){var o=r.variableValues,i=r.contextValue,a=function(e,t,n,r,o,i){i.resultKey;var a=i.directives,s=n;(r||a)&&(s=Tt(s,r,a));var c=void 0;if(e&&void 0===(c=e[s])&&o.cacheRedirects&&"string"==typeof t){var u=o.cacheRedirects[t];if(u){var l=u[n];l&&(c=l(e,r,{getCacheKey:function(e){var t=o.dataIdFromObject(e);return t&&Rt({id:t,typename:e.__typename})}}))}}if(void 0===c)return{result:c,missing:[{object:e,fieldName:s,tolerable:!1}]};d=c,null!=d&&"object"==typeof d&&"json"===d.type&&(c=c.json);var d;return{result:c}}(e,t,n.name.value,Ct(n,o),i,{resultKey:Dt(n),directives:At(n,o)});return Array.isArray(a.result)?this.combineExecResults(a,this.executeSubSelectedArray({field:n,array:a.result,execContext:r})):n.selectionSet?null==a.result?a:this.combineExecResults(a,this.executeSelectionSet({selectionSet:n.selectionSet,rootValue:a.result,execContext:r})):(Zr(n,a.result),this.freezeResults&&"production"!==process.env.NODE_ENV&&ln(a),a)},e.prototype.combineExecResults=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach(function(t){t.missing&&(e=e||[]).push.apply(e,t.missing)}),{result:t.pop().result,missing:e}},e.prototype.executeSubSelectedArray=function(e){var t,n=this,r=e.field,o=e.array,i=e.execContext;function a(e){return e.missing&&(t=t||[]).push.apply(t,e.missing),e.result}return o=o.map(function(e){return null===e?null:Array.isArray(e)?a(n.executeSubSelectedArray({field:r,array:e,execContext:i})):r.selectionSet?a(n.executeSelectionSet({selectionSet:r.selectionSet,rootValue:e,execContext:i})):(Zr(r,e),e)}),this.freezeResults&&"production"!==process.env.NODE_ENV&&Object.freeze(o),{result:o,missing:t}},e}();function Zr(e,t){if(!e.selectionSet&&Mt(t))throw"production"===process.env.NODE_ENV?new vt(10):new vt("Missing selection set for object of type "+t.typename+" returned for query field "+e.name.value)}function eo(){return!0}var to=function(){function e(e){void 0===e&&(e=Object.create(null)),this.data=e}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){this.data[e]=t},e.prototype.delete=function(e){this.data[e]=void 0},e.prototype.clear=function(){this.data=Object.create(null)},e.prototype.replace=function(e){this.data=e||Object.create(null)},e}(),no=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="WriteError",t}return ct(t,e),t}(Error);var ro=function(){function e(){}return e.prototype.writeQueryToStore=function(e){var t=e.query,n=e.result,r=e.store,o=void 0===r?Kr():r,i=e.variables,a=e.dataIdFromObject,s=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:n,document:t,store:o,variables:i,dataIdFromObject:a,fragmentMatcherFunction:s})},e.prototype.writeResultToStore=function(e){var t=e.dataId,n=e.result,r=e.document,o=e.store,i=void 0===o?Kr():o,a=e.variables,s=e.dataIdFromObject,c=e.fragmentMatcherFunction,u=Bt(r);try{return this.writeSelectionSetToStore({result:n,dataId:t,selectionSet:u.selectionSet,context:{store:i,processedData:{},variables:jt({},Jt(u),a),dataIdFromObject:s,fragmentMap:Ht(Gt(r)),fragmentMatcherFunction:c}})}catch(e){throw function(e,t){var n=new no("Error writing result to store for query:\n "+JSON.stringify(t));return n.message+="\n"+e.message,n.stack=e.stack,n}(e,r)}},e.prototype.writeSelectionSetToStore=function(e){var t=this,n=e.result,r=e.dataId,o=e.selectionSet,i=e.context,a=i.variables,s=i.store,c=i.fragmentMap;return o.selections.forEach(function(e){var o;if(Lt(e,a))if(xt(e)){var s=Dt(e),u=n[s];if(void 0!==u)t.writeFieldToStore({dataId:r,value:u,field:e,context:i});else{var l=!1,d=!1;e.directives&&e.directives.length&&(l=e.directives.some(function(e){return e.name&&"defer"===e.name.value}),d=e.directives.some(function(e){return e.name&&"client"===e.name.value})),l||d||!i.fragmentMatcherFunction||"production"===process.env.NODE_ENV||mt.warn("Missing field "+s+" in "+JSON.stringify(n,null,2).substring(0,100))}}else{var f=void 0;$t(e)?f=e:(f=(c||{})[e.name.value],"production"===process.env.NODE_ENV?mt(f,2):mt(f,"No fragment named "+e.name.value+"."));var h=!0;if(i.fragmentMatcherFunction&&f.typeCondition){var p=r||"self",v=Rt({id:p,typename:void 0}),m={store:new to((o={},o[p]=n,o)),cacheRedirects:{}},y=i.fragmentMatcherFunction(v,f.typeCondition.name.value,m);!0!==an("production")&&"heuristic"===y&&("production"===process.env.NODE_ENV||mt.error("WARNING: heuristic fragment matching going on!")),h=!!y}h&&t.writeSelectionSetToStore({result:n,selectionSet:f.selectionSet,dataId:r,context:i})}}),s},e.prototype.writeFieldToStore=function(e){var t,n,r,o=e.field,i=e.value,a=e.dataId,s=e.context,c=s.variables,u=s.dataIdFromObject,l=s.store,d=function(e,t){var n=null;e.directives&&(n={},e.directives.forEach(function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach(function(r){var o=r.name,i=r.value;return It(n[e.name.value],o,i,t)})}));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach(function(e){var n=e.name,o=e.value;return It(r,n,o,t)})),Tt(e.name.value,r,n)}(o,c);if(o.selectionSet&&null!==i)if(Array.isArray(i)){var f=a+"."+d;n=this.processArrayValue(i,f,o.selectionSet,s)}else{var h=a+"."+d,p=!0;if(oo(h)||(h="$"+h),u){var v=u(i);"production"===process.env.NODE_ENV?mt(!v||!oo(v),3):mt(!v||!oo(v),'IDs returned by dataIdFromObject cannot begin with the "$" character.'),(v||"number"==typeof v&&0===v)&&(h=v,p=!1)}io(h,o,s.processedData)||this.writeSelectionSetToStore({dataId:h,result:i,selectionSet:o.selectionSet,context:s});var m=i.__typename;n=Rt({id:h,typename:m},p);var y=(r=l.get(a))&&r[d];if(y!==n&&Mt(y)){var g=void 0!==y.typename,b=void 0!==m,w=g&&b&&y.typename!==m;"production"===process.env.NODE_ENV?mt(!p||y.generated||w,4):mt(!p||y.generated||w,"Store error: the application attempted to write an object with no provided id but the store already contains an id of "+y.id+" for this object. The selectionSet that was trying to be written is:\n"+JSON.stringify(o)),"production"===process.env.NODE_ENV?mt(!g||b,5):mt(!g||b,"Store error: the application attempted to write an object with no provided typename but the store already contains an object with typename of "+y.typename+" for the object of id "+y.id+". The selectionSet that was trying to be written is:\n"+JSON.stringify(o)),y.generated&&(w?p||l.delete(y.id):function e(t,n,r){if(t===n)return!1;var o=r.get(t);var i=r.get(n);var a=!1;Object.keys(o).forEach(function(t){var n=o[t],s=i[t];Mt(n)&&oo(n.id)&&Mt(s)&&!_t(n,s)&&e(n.id,s.id,r)&&(a=!0)});r.delete(t);var s=ut({},o,i);if(_t(s,i))return a;r.set(n,s);return!0}(y.id,n.id,l))}}else n=null!=i&&"object"==typeof i?{type:"json",json:i}:i;(r=l.get(a))&&_t(n,r[d])||l.set(a,ut({},r,((t={})[d]=n,t)))},e.prototype.processArrayValue=function(e,t,n,r){var o=this;return e.map(function(e,i){if(null===e)return null;var a=t+"."+i;if(Array.isArray(e))return o.processArrayValue(e,a,n,r);var s=!0;if(r.dataIdFromObject){var c=r.dataIdFromObject(e);c&&(a=c,s=!1)}return io(a,n,r.processedData)||o.writeSelectionSetToStore({dataId:a,result:e,selectionSet:n,context:r}),Rt({id:a,typename:e.__typename},s)})},e}();function oo(e){return"$"===e[0]}function io(e,t,n){if(!n)return!1;if(n[e]){if(n[e].indexOf(t)>=0)return!0;n[e].push(t)}else n[e]=[t];return!1}var ao={fragmentMatcher:new Jr,dataIdFromObject:function(e){if(e.__typename){if(void 0!==e.id)return e.__typename+":"+e.id;if(void 0!==e._id)return e.__typename+":"+e._id}return null},addTypename:!0,resultCaching:!0,freezeResults:!1};var so=Object.prototype.hasOwnProperty,co=function(e){function t(t,n,r){var o=e.call(this,Object.create(null))||this;return o.optimisticId=t,o.parent=n,o.transaction=r,o}return ct(t,e),t.prototype.toObject=function(){return ut({},this.parent.toObject(),this.data)},t.prototype.get=function(e){return so.call(this.data,e)?this.data[e]:this.parent.get(e)},t}(to),uo=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n.watches=new Set,n.typenameDocumentCache=new Map,n.cacheKeyRoot=new jr(nn),n.silenceBroadcast=!1,n.config=ut({},ao,t),n.config.customResolvers&&("production"===process.env.NODE_ENV||mt.warn("customResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating customResolvers in the next major version."),n.config.cacheRedirects=n.config.customResolvers),n.config.cacheResolvers&&("production"===process.env.NODE_ENV||mt.warn("cacheResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating cacheResolvers in the next major version."),n.config.cacheRedirects=n.config.cacheResolvers),n.addTypename=!!n.config.addTypename,n.data=n.config.resultCaching?new Wr:new to,n.optimisticData=n.data,n.storeWriter=new ro,n.storeReader=new Xr({cacheKeyRoot:n.cacheKeyRoot,freezeResults:t.freezeResults});var r=n,o=r.maybeBroadcastWatch;return n.maybeBroadcastWatch=Gr(function(e){return o.call(n,e)},{makeCacheKey:function(e){if(!e.optimistic&&!e.previousResult)return r.data instanceof Wr?r.cacheKeyRoot.lookup(e.query,JSON.stringify(e.variables)):void 0}}),n}return ct(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).toObject()},t.prototype.read=function(e){if("string"==typeof e.rootId&&void 0===this.data.get(e.rootId))return null;var t=this.config.fragmentMatcher,n=t&&t.match;return this.storeReader.readQueryFromStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,rootId:e.rootId,fragmentMatcherFunction:n,previousResult:e.previousResult,config:this.config})||null},t.prototype.write=function(e){var t=this.config.fragmentMatcher,n=t&&t.match;this.storeWriter.writeResultToStore({dataId:e.dataId,result:e.result,variables:e.variables,document:this.transformDocument(e.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:n}),this.broadcastWatches()},t.prototype.diff=function(e){var t=this.config.fragmentMatcher,n=t&&t.match;return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,returnPartialData:e.returnPartialData,previousResult:e.previousResult,fragmentMatcherFunction:n,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.add(e),function(){t.watches.delete(e)}},t.prototype.evict=function(e){throw"production"===process.env.NODE_ENV?new vt(1):new vt("eviction is not implemented on InMemory Cache")},t.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){for(var t=[],n=0,r=this.optimisticData;r instanceof co;)r.optimisticId===e?++n:t.push(r),r=r.parent;if(n>0){for(this.optimisticData=r;t.length>0;){var o=t.pop();this.performTransaction(o.transaction,o.optimisticId)}this.broadcastWatches()}},t.prototype.performTransaction=function(e,t){var n=this.data,r=this.silenceBroadcast;this.silenceBroadcast=!0,"string"==typeof t&&(this.data=this.optimisticData=new co(t,this.optimisticData,e));try{e(this)}finally{this.silenceBroadcast=r,this.data=n}this.broadcastWatches()},t.prototype.recordOptimisticTransaction=function(e,t){return this.performTransaction(e,t)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=ot(Vt(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r&&!r.some(function(e){return xt(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))})){var o=n;if(!(xt(o)&&o.directives&&o.directives.some(function(e){return"export"===e.name.value})))return ut({},e,{selections:r.concat([Wt])})}}}}}),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(){var e=this;this.silenceBroadcast||this.watches.forEach(function(t){return e.maybeBroadcastWatch(t)})},t.prototype.maybeBroadcastWatch=function(e){e.callback(this.diff({query:e.query,variables:e.variables,previousResult:e.previousResult&&e.previousResult(),optimistic:e.optimistic}))},t}(vr);function lo(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t=null,n=1;n<e.length;n++){var r=e[n],o=fo(r);if(o!==r.length&&((null===t||o<t)&&0===(t=o)))break}return null===t?0:t}(t);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(;t.length>0&&ho(t[0]);)t.shift();for(;t.length>0&&ho(t[t.length-1]);)t.pop();return t.join("\n")}function fo(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function ho(e){return fo(e)===e.length}function po(e){return ot(e,{leave:vo})}var vo={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return yo(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=bo("(",yo(e.variableDefinitions,", "),")"),o=yo(e.directives," "),i=e.selectionSet;return n||o||r||"query"!==t?yo([t,yo([n,r]),o,i]," "):i},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,o=e.directives;return t+": "+n+bo(" = ",r)+bo(" ",yo(o," "))},SelectionSet:function(e){return go(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,o=e.directives,i=e.selectionSet;return yo([bo("",t,": ")+n+bo("(",yo(r,", "),")"),yo(o," "),i]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+bo(" ",yo(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return yo(["...",bo("on ",t),yo(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,o=e.directives,i=e.selectionSet;return"fragment ".concat(t).concat(bo("(",yo(r,", "),")")," ")+"on ".concat(n," ").concat(bo("",yo(o," ")," "))+i},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),o=" "===e[0]||"\t"===e[0],i='"'===e[e.length-1],a=!r||i||n,s="";return!a||r&&o||(s+="\n"+t),s+=t?e.replace(/\n/g,"\n"+t):e,a&&(s+="\n"),'"""'+s.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+yo(e.values,", ")+"]"},ObjectValue:function(e){return"{"+yo(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+bo("(",yo(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return yo(["schema",yo(t," "),go(n)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:mo(function(e){return yo(["scalar",e.name,yo(e.directives," ")]," ")}),ObjectTypeDefinition:mo(function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return yo(["type",t,bo("implements ",yo(n," & ")),yo(r," "),go(o)]," ")}),FieldDefinition:mo(function(e){var t=e.name,n=e.arguments,r=e.type,o=e.directives;return t+(So(n)?bo("(\n",wo(yo(n,"\n")),"\n)"):bo("(",yo(n,", "),")"))+": "+r+bo(" ",yo(o," "))}),InputValueDefinition:mo(function(e){var t=e.name,n=e.type,r=e.defaultValue,o=e.directives;return yo([t+": "+n,bo("= ",r),yo(o," ")]," ")}),InterfaceTypeDefinition:mo(function(e){var t=e.name,n=e.directives,r=e.fields;return yo(["interface",t,yo(n," "),go(r)]," ")}),UnionTypeDefinition:mo(function(e){var t=e.name,n=e.directives,r=e.types;return yo(["union",t,yo(n," "),r&&0!==r.length?"= "+yo(r," | "):""]," ")}),EnumTypeDefinition:mo(function(e){var t=e.name,n=e.directives,r=e.values;return yo(["enum",t,yo(n," "),go(r)]," ")}),EnumValueDefinition:mo(function(e){return yo([e.name,yo(e.directives," ")]," ")}),InputObjectTypeDefinition:mo(function(e){var t=e.name,n=e.directives,r=e.fields;return yo(["input",t,yo(n," "),go(r)]," ")}),DirectiveDefinition:mo(function(e){var t=e.name,n=e.arguments,r=e.repeatable,o=e.locations;return"directive @"+t+(So(n)?bo("(\n",wo(yo(n,"\n")),"\n)"):bo("(",yo(n,", "),")"))+(r?" repeatable":"")+" on "+yo(o," | ")}),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return yo(["extend schema",yo(t," "),go(n)]," ")},ScalarTypeExtension:function(e){return yo(["extend scalar",e.name,yo(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return yo(["extend type",t,bo("implements ",yo(n," & ")),yo(r," "),go(o)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return yo(["extend interface",t,yo(n," "),go(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return yo(["extend union",t,yo(n," "),r&&0!==r.length?"= "+yo(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return yo(["extend enum",t,yo(n," "),go(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return yo(["extend input",t,yo(n," "),go(r)]," ")}};function mo(e){return function(t){return yo([t.description,e(t)],"\n")}}function yo(e,t){return e?e.filter(function(e){return e}).join(t||""):""}function go(e){return e&&0!==e.length?"{\n"+wo(yo(e,"\n"))+"\n}":""}function bo(e,t,n){return t?e+t+(n||""):""}function wo(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function Eo(e){return-1!==e.indexOf("\n")}function So(e){return e&&e.some(Eo)}var ko=Object.freeze({print:po}),_o={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},Oo=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},Io=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r="production"===process.env.NODE_ENV?new vt(2):new vt("Network request failed. "+t+" is not serializable: "+e.message);throw r.parseError=e,r}return n},No=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,o=e.includeExtensions,i=e.useGETForQueries,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["uri","fetch","includeExtensions","useGETForQueries"]);!function(e){if(!e&&"undefined"==typeof fetch){var t="unfetch";throw"undefined"==typeof window&&(t="node-fetch"),"production"===process.env.NODE_ENV?new vt(1):new vt("\nfetch is not found globally and no fetcher passed, to fix pass a fetch for\nyour environment like https://www.npmjs.com/package/"+t+".\n\nFor example:\nimport fetch from '"+t+"';\nimport { createHttpLink } from 'apollo-link-http';\n\nconst link = createHttpLink({ uri: '/graphql', fetch: fetch });")}}(r),r||(r=fetch);var s={http:{includeExtensions:o},options:a.fetchOptions,credentials:a.credentials,headers:a.headers};return new Vn(function(e){var t=function(e,t){var n=e.getContext().uri;return n||("function"==typeof t?t(e):t||"/graphql")}(e,n),o=e.getContext(),a={};if(o.clientAwareness){var c=o.clientAwareness,u=c.name,l=c.version;u&&(a["apollographql-client-name"]=u),l&&(a["apollographql-client-version"]=l)}var d,f=ut({},a,o.headers),h={http:o.http,options:o.fetchOptions,credentials:o.credentials,headers:f},p=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=ut({},t.options,{headers:t.headers,credentials:t.credentials}),i=t.http;n.forEach(function(e){o=ut({},o,e.options,{headers:ut({},o.headers,e.headers)}),e.credentials&&(o.credentials=e.credentials),i=ut({},i,e.http)});var a=e.operationName,s=e.extensions,c=e.variables,u=e.query,l={operationName:a,variables:c};return i.includeExtensions&&(l.extensions=s),i.includeQuery&&(l.query=po(u)),{options:o,body:l}}(e,_o,s,h),v=p.options,m=p.body;if(!v.signal){var y=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),g=y.controller,b=y.signal;(d=g)&&(v.signal=b)}if(i&&!e.query.definitions.some(function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})&&(v.method="GET"),"GET"===v.method){var w=function(e,t){var n=[],r=function(e,t){n.push(e+"="+encodeURIComponent(t))};"query"in t&&r("query",t.query);t.operationName&&r("operationName",t.operationName);if(t.variables){var o=void 0;try{o=Io(t.variables,"Variables map")}catch(e){return{parseError:e}}r("variables",o)}if(t.extensions){var i=void 0;try{i=Io(t.extensions,"Extensions map")}catch(e){return{parseError:e}}r("extensions",i)}var a="",s=e,c=e.indexOf("#");-1!==c&&(a=e.substr(c),s=e.substr(0,c));var u=-1===s.indexOf("?")?"?":"&";return{newURI:s+u+n.join("&")+a}}(t,m),E=w.newURI,S=w.parseError;if(S)return Rn(S);t=E}else try{v.body=Io(m,"Payload")}catch(S){return Rn(S)}return new xn(function(n){var o;return r(t,v).then(function(t){return e.setContext({response:t}),t}).then((o=e,function(e){return e.text().then(function(t){try{return JSON.parse(t)}catch(r){var n=r;return n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,Promise.reject(n)}}).then(function(t){return e.status>=300&&Oo(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||t.hasOwnProperty("data")||t.hasOwnProperty("errors")||Oo(e,t,"Server response was missing for query '"+(Array.isArray(o)?o.map(function(e){return e.operationName}):o.operationName)+"'."),t})})).then(function(e){return n.next(e),n.complete(),e}).catch(function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))}),function(){d&&d.abort()}})})};var To=function(e){function t(t){return e.call(this,No(t).request)||this}return ct(t,e),t}(Vn);function Co(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.prototype.toString;e.prototype.toJSON=t,e.prototype.inspect=t,We&&(e.prototype[We]=t)}function Do(e,t){if(!Boolean(e))throw new Error(t)}var xo,$o=function(e,t,n){this.body=e,this.name=t||"GraphQL request",this.locationOffset=n||{line:1,column:1},this.locationOffset.line>0||Do(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||Do(0,"column in locationOffset is 1-indexed and must be positive")};function Mo(e){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ro(e,t){for(var n,r=/\r\n|[\n\r]/g,o=1,i=t+1;(n=r.exec(e.body))&&n.index<t;)o+=1,i=t+1-(n.index+n[0].length);return{line:o,column:i}}function Ao(e){return Lo(e.source,Ro(e.source,e.start))}function Lo(e,t){var n=e.locationOffset.column-1,r=Po(n)+e.body,o=t.line-1,i=e.locationOffset.line-1,a=t.line+i,s=1===t.line?n:0,c=t.column+s,u="".concat(e.name,":").concat(a,":").concat(c,"\n"),l=r.split(/\r\n|[\n\r]/g),d=l[o];if(d.length>120){for(var f=Math.floor(c/80),h=c%80,p=[],v=0;v<d.length;v+=80)p.push(d.slice(v,v+80));return u+qo([["".concat(a),p[0]]].concat(p.slice(1,f+1).map(function(e){return["",e]}),[[" ",Po(h-1)+"^"],["",p[f+1]]]))}return u+qo([["".concat(a-1),l[o-1]],["".concat(a),d],["",Po(c-1)+"^"],["".concat(a+1),l[o+1]]])}function qo(e){var t=e.filter(function(e){e[0];return void 0!==e[1]}),n=Math.max.apply(Math,t.map(function(e){return e[0].length}));return t.map(function(e){var t,r=e[0],o=e[1];return Po(n-(t=r).length)+t+" | "+o}).join("\n")}function Po(e){return Array(e+1).join(" ")}function Qo(e,t,n,r,o,i,a){var s=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,c=n;if(!c&&s){var u=s[0];c=u&&u.loc&&u.loc.source}var l,d=r;!d&&s&&(d=s.reduce(function(e,t){return t.loc&&e.push(t.loc.start),e},[])),d&&0===d.length&&(d=void 0),r&&n?l=r.map(function(e){return Ro(n,e)}):s&&(l=s.reduce(function(e,t){return t.loc&&e.push(Ro(t.loc.source,t.loc.start)),e},[]));var f,h=a;if(null==h&&null!=i){var p=i.extensions;"object"==Mo(f=p)&&null!==f&&(h=p)}Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:l||void 0,enumerable:Boolean(l)},path:{value:o||void 0,enumerable:Boolean(o)},nodes:{value:s||void 0},source:{value:c||void 0},positions:{value:d||void 0},originalError:{value:i},extensions:{value:h||void 0,enumerable:Boolean(h)}}),i&&i.stack?Object.defineProperty(this,"stack",{value:i.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Qo):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}function Fo(e,t,n){return new Qo("Syntax Error: ".concat(n),void 0,e,[t])}xo=$o,"function"==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(xo.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}}),Qo.prototype=Object.create(Error.prototype,{constructor:{value:Qo},name:{value:"GraphQLError"},toString:{value:function(){return function(e){var t=e.message;if(e.nodes){var n=!0,r=!1,o=void 0;try{for(var i,a=e.nodes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;s.loc&&(t+="\n\n"+Ao(s.loc))}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}else if(e.source&&e.locations){var c=!0,u=!1,l=void 0;try{for(var d,f=e.locations[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var h=d.value;t+="\n\n"+Lo(e.source,h)}}catch(e){u=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}return t}(this)}}});var jo=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Vo(e,t){var n=new Yo(jo.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:Bo,lookahead:Uo}}function Bo(){return this.lastToken=this.token,this.token=this.lookahead()}function Uo(){var e=this.token;if(e.kind!==jo.EOF)do{e=e.next||(e.next=Jo(this,e))}while(e.kind===jo.COMMENT);return e}function Go(e){var t=e.value;return t?"".concat(e.kind,' "').concat(t,'"'):e.kind}function Yo(e,t,n,r,o,i,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=o,this.value=a,this.prev=i,this.next=null}function Ho(e){return isNaN(e)?jo.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function Jo(e,t){var n=e.source,r=n.body,o=r.length,i=function(e,t,n){var r=e.length,o=t;for(;o<r;){var i=e.charCodeAt(o);if(9===i||32===i||44===i||65279===i)++o;else if(10===i)++o,++n.line,n.lineStart=o;else{if(13!==i)break;10===e.charCodeAt(o+1)?o+=2:++o,++n.line,n.lineStart=o}}return o}(r,t.end,e),a=e.line,s=1+i-e.lineStart;if(i>=o)return new Yo(jo.EOF,o,o,a,s,t);var c=r.charCodeAt(i);switch(c){case 33:return new Yo(jo.BANG,i,i+1,a,s,t);case 35:return function(e,t,n,r,o){var i,a=e.body,s=t;do{i=a.charCodeAt(++s)}while(!isNaN(i)&&(i>31||9===i));return new Yo(jo.COMMENT,t,s,n,r,o,a.slice(t+1,s))}(n,i,a,s,t);case 36:return new Yo(jo.DOLLAR,i,i+1,a,s,t);case 38:return new Yo(jo.AMP,i,i+1,a,s,t);case 40:return new Yo(jo.PAREN_L,i,i+1,a,s,t);case 41:return new Yo(jo.PAREN_R,i,i+1,a,s,t);case 46:if(46===r.charCodeAt(i+1)&&46===r.charCodeAt(i+2))return new Yo(jo.SPREAD,i,i+3,a,s,t);break;case 58:return new Yo(jo.COLON,i,i+1,a,s,t);case 61:return new Yo(jo.EQUALS,i,i+1,a,s,t);case 64:return new Yo(jo.AT,i,i+1,a,s,t);case 91:return new Yo(jo.BRACKET_L,i,i+1,a,s,t);case 93:return new Yo(jo.BRACKET_R,i,i+1,a,s,t);case 123:return new Yo(jo.BRACE_L,i,i+1,a,s,t);case 124:return new Yo(jo.PIPE,i,i+1,a,s,t);case 125:return new Yo(jo.BRACE_R,i,i+1,a,s,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,o){var i=e.body,a=i.length,s=t+1,c=0;for(;s!==a&&!isNaN(c=i.charCodeAt(s))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++s;return new Yo(jo.NAME,t,s,n,r,o,i.slice(t,s))}(n,i,a,s,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,o,i){var a=e.body,s=n,c=t,u=!1;45===s&&(s=a.charCodeAt(++c));if(48===s){if((s=a.charCodeAt(++c))>=48&&s<=57)throw Fo(e,c,"Invalid number, unexpected digit after 0: ".concat(Ho(s),"."))}else c=zo(e,c,s),s=a.charCodeAt(c);46===s&&(u=!0,s=a.charCodeAt(++c),c=zo(e,c,s),s=a.charCodeAt(c));69!==s&&101!==s||(u=!0,43!==(s=a.charCodeAt(++c))&&45!==s||(s=a.charCodeAt(++c)),c=zo(e,c,s));return new Yo(u?jo.FLOAT:jo.INT,t,c,r,o,i,a.slice(t,c))}(n,i,c,a,s,t);case 34:return 34===r.charCodeAt(i+1)&&34===r.charCodeAt(i+2)?function(e,t,n,r,o,i){var a=e.body,s=t+3,c=s,u=0,l="";for(;s<a.length&&!isNaN(u=a.charCodeAt(s));){if(34===u&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(c,s),new Yo(jo.BLOCK_STRING,t,s+3,n,r,o,lo(l));if(u<32&&9!==u&&10!==u&&13!==u)throw Fo(e,s,"Invalid character within String: ".concat(Ho(u),"."));10===u?(++s,++i.line,i.lineStart=s):13===u?(10===a.charCodeAt(s+1)?s+=2:++s,++i.line,i.lineStart=s):92===u&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(c,s)+'"""',c=s+=4):++s}throw Fo(e,s,"Unterminated string.")}(n,i,a,s,t,e):function(e,t,n,r,o){var i=e.body,a=t+1,s=a,c=0,u="";for(;a<i.length&&!isNaN(c=i.charCodeAt(a))&&10!==c&&13!==c;){if(34===c)return u+=i.slice(s,a),new Yo(jo.STRING,t,a+1,n,r,o,u);if(c<32&&9!==c)throw Fo(e,a,"Invalid character within String: ".concat(Ho(c),"."));if(++a,92===c){switch(u+=i.slice(s,a-1),c=i.charCodeAt(a)){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+="\n";break;case 114:u+="\r";break;case 116:u+="\t";break;case 117:var l=(f=i.charCodeAt(a+1),h=i.charCodeAt(a+2),p=i.charCodeAt(a+3),v=i.charCodeAt(a+4),Wo(f)<<12|Wo(h)<<8|Wo(p)<<4|Wo(v));if(l<0){var d=i.slice(a+1,a+5);throw Fo(e,a,"Invalid character escape sequence: \\u".concat(d,"."))}u+=String.fromCharCode(l),a+=4;break;default:throw Fo(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}s=++a}}var f,h,p,v;throw Fo(e,a,"Unterminated string.")}(n,i,a,s,t)}throw Fo(n,i,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(Ho(e),".");if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(Ho(e),".")}(c))}function zo(e,t,n){var r=e.body,o=t,i=n;if(i>=48&&i<=57){do{i=r.charCodeAt(++o)}while(i>=48&&i<=57);return o}throw Fo(e,o,"Invalid number, expected digit but got: ".concat(Ho(i),"."))}function Wo(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}Co(Yo,function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}});var Ko=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),Xo=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function Zo(e){var t=Pi(e,jo.NAME);return{kind:Ko.NAME,value:t.value,loc:Ai(e,t)}}function ei(e){if(qi(e,jo.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return ti(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return Ei(e);case"extend":return function(e){var t=e.lookahead();if(t.kind===jo.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Fi(e,"extend"),Fi(e,"schema");var n=yi(e,!0),r=qi(e,jo.BRACE_L)?Ui(e,jo.BRACE_L,_i,jo.BRACE_R):[];if(0===n.length&&0===r.length)throw Vi(e);return{kind:Ko.SCHEMA_EXTENSION,directives:n,operationTypes:r,loc:Ai(e,t)}}(e);case"scalar":return function(e){var t=e.token;Fi(e,"extend"),Fi(e,"scalar");var n=Zo(e),r=yi(e,!0);if(0===r.length)throw Vi(e);return{kind:Ko.SCALAR_TYPE_EXTENSION,name:n,directives:r,loc:Ai(e,t)}}(e);case"type":return function(e){var t=e.token;Fi(e,"extend"),Fi(e,"type");var n=Zo(e),r=Oi(e),o=yi(e,!0),i=Ii(e);if(0===r.length&&0===o.length&&0===i.length)throw Vi(e);return{kind:Ko.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:o,fields:i,loc:Ai(e,t)}}(e);case"interface":return function(e){var t=e.token;Fi(e,"extend"),Fi(e,"interface");var n=Zo(e),r=yi(e,!0),o=Ii(e);if(0===r.length&&0===o.length)throw Vi(e);return{kind:Ko.INTERFACE_TYPE_EXTENSION,name:n,directives:r,fields:o,loc:Ai(e,t)}}(e);case"union":return function(e){var t=e.token;Fi(e,"extend"),Fi(e,"union");var n=Zo(e),r=yi(e,!0),o=Di(e);if(0===r.length&&0===o.length)throw Vi(e);return{kind:Ko.UNION_TYPE_EXTENSION,name:n,directives:r,types:o,loc:Ai(e,t)}}(e);case"enum":return function(e){var t=e.token;Fi(e,"extend"),Fi(e,"enum");var n=Zo(e),r=yi(e,!0),o=xi(e);if(0===r.length&&0===o.length)throw Vi(e);return{kind:Ko.ENUM_TYPE_EXTENSION,name:n,directives:r,values:o,loc:Ai(e,t)}}(e);case"input":return function(e){var t=e.token;Fi(e,"extend"),Fi(e,"input");var n=Zo(e),r=yi(e,!0),o=Mi(e);if(0===r.length&&0===o.length)throw Vi(e);return{kind:Ko.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:o,loc:Ai(e,t)}}(e)}throw Vi(e,t)}(e)}else{if(qi(e,jo.BRACE_L))return ti(e);if(Si(e))return Ei(e)}throw Vi(e)}function ti(e){if(qi(e,jo.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return ni(e);case"fragment":return function(e){var t=e.token;if(Fi(e,"fragment"),e.options.experimentalFragmentVariables)return{kind:Ko.FRAGMENT_DEFINITION,name:fi(e),variableDefinitions:oi(e),typeCondition:(Fi(e,"on"),wi(e)),directives:yi(e,!1),selectionSet:si(e),loc:Ai(e,t)};return{kind:Ko.FRAGMENT_DEFINITION,name:fi(e),typeCondition:(Fi(e,"on"),wi(e)),directives:yi(e,!1),selectionSet:si(e),loc:Ai(e,t)}}(e)}else if(qi(e,jo.BRACE_L))return ni(e);throw Vi(e)}function ni(e){var t=e.token;if(qi(e,jo.BRACE_L))return{kind:Ko.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:si(e),loc:Ai(e,t)};var n,r=ri(e);return qi(e,jo.NAME)&&(n=Zo(e)),{kind:Ko.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:oi(e),directives:yi(e,!1),selectionSet:si(e),loc:Ai(e,t)}}function ri(e){var t=Pi(e,jo.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw Vi(e,t)}function oi(e){return qi(e,jo.PAREN_L)?Ui(e,jo.PAREN_L,ii,jo.PAREN_R):[]}function ii(e){var t=e.token;return{kind:Ko.VARIABLE_DEFINITION,variable:ai(e),type:(Pi(e,jo.COLON),bi(e)),defaultValue:Qi(e,jo.EQUALS)?hi(e,!0):void 0,directives:yi(e,!0),loc:Ai(e,t)}}function ai(e){var t=e.token;return Pi(e,jo.DOLLAR),{kind:Ko.VARIABLE,name:Zo(e),loc:Ai(e,t)}}function si(e){var t=e.token;return{kind:Ko.SELECTION_SET,selections:Ui(e,jo.BRACE_L,ci,jo.BRACE_R),loc:Ai(e,t)}}function ci(e){return qi(e,jo.SPREAD)?function(e){var t=e.token;Pi(e,jo.SPREAD);var n=ji(e,"on");if(!n&&qi(e,jo.NAME))return{kind:Ko.FRAGMENT_SPREAD,name:fi(e),directives:yi(e,!1),loc:Ai(e,t)};return{kind:Ko.INLINE_FRAGMENT,typeCondition:n?wi(e):void 0,directives:yi(e,!1),selectionSet:si(e),loc:Ai(e,t)}}(e):function(e){var t,n,r=e.token,o=Zo(e);Qi(e,jo.COLON)?(t=o,n=Zo(e)):n=o;return{kind:Ko.FIELD,alias:t,name:n,arguments:ui(e,!1),directives:yi(e,!1),selectionSet:qi(e,jo.BRACE_L)?si(e):void 0,loc:Ai(e,r)}}(e)}function ui(e,t){var n=t?di:li;return qi(e,jo.PAREN_L)?Ui(e,jo.PAREN_L,n,jo.PAREN_R):[]}function li(e){var t=e.token,n=Zo(e);return Pi(e,jo.COLON),{kind:Ko.ARGUMENT,name:n,value:hi(e,!1),loc:Ai(e,t)}}function di(e){var t=e.token;return{kind:Ko.ARGUMENT,name:Zo(e),value:(Pi(e,jo.COLON),vi(e)),loc:Ai(e,t)}}function fi(e){if("on"===e.token.value)throw Vi(e);return Zo(e)}function hi(e,t){var n=e.token;switch(n.kind){case jo.BRACKET_L:return function(e,t){var n=e.token,r=t?vi:mi;return{kind:Ko.LIST,values:Bi(e,jo.BRACKET_L,r,jo.BRACKET_R),loc:Ai(e,n)}}(e,t);case jo.BRACE_L:return function(e,t){var n=e.token;return{kind:Ko.OBJECT,fields:Bi(e,jo.BRACE_L,function(){return function(e,t){var n=e.token,r=Zo(e);return Pi(e,jo.COLON),{kind:Ko.OBJECT_FIELD,name:r,value:hi(e,t),loc:Ai(e,n)}}(e,t)},jo.BRACE_R),loc:Ai(e,n)}}(e,t);case jo.INT:return e.advance(),{kind:Ko.INT,value:n.value,loc:Ai(e,n)};case jo.FLOAT:return e.advance(),{kind:Ko.FLOAT,value:n.value,loc:Ai(e,n)};case jo.STRING:case jo.BLOCK_STRING:return pi(e);case jo.NAME:return"true"===n.value||"false"===n.value?(e.advance(),{kind:Ko.BOOLEAN,value:"true"===n.value,loc:Ai(e,n)}):"null"===n.value?(e.advance(),{kind:Ko.NULL,loc:Ai(e,n)}):(e.advance(),{kind:Ko.ENUM,value:n.value,loc:Ai(e,n)});case jo.DOLLAR:if(!t)return ai(e)}throw Vi(e)}function pi(e){var t=e.token;return e.advance(),{kind:Ko.STRING,value:t.value,block:t.kind===jo.BLOCK_STRING,loc:Ai(e,t)}}function vi(e){return hi(e,!0)}function mi(e){return hi(e,!1)}function yi(e,t){for(var n=[];qi(e,jo.AT);)n.push(gi(e,t));return n}function gi(e,t){var n=e.token;return Pi(e,jo.AT),{kind:Ko.DIRECTIVE,name:Zo(e),arguments:ui(e,t),loc:Ai(e,n)}}function bi(e){var t,n=e.token;return Qi(e,jo.BRACKET_L)?(t=bi(e),Pi(e,jo.BRACKET_R),t={kind:Ko.LIST_TYPE,type:t,loc:Ai(e,n)}):t=wi(e),Qi(e,jo.BANG)?{kind:Ko.NON_NULL_TYPE,type:t,loc:Ai(e,n)}:t}function wi(e){var t=e.token;return{kind:Ko.NAMED_TYPE,name:Zo(e),loc:Ai(e,t)}}function Ei(e){var t=Si(e)?e.lookahead():e.token;if(t.kind===jo.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Fi(e,"schema");var n=yi(e,!0),r=Ui(e,jo.BRACE_L,_i,jo.BRACE_R);return{kind:Ko.SCHEMA_DEFINITION,directives:n,operationTypes:r,loc:Ai(e,t)}}(e);case"scalar":return function(e){var t=e.token,n=ki(e);Fi(e,"scalar");var r=Zo(e),o=yi(e,!0);return{kind:Ko.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:o,loc:Ai(e,t)}}(e);case"type":return function(e){var t=e.token,n=ki(e);Fi(e,"type");var r=Zo(e),o=Oi(e),i=yi(e,!0),a=Ii(e);return{kind:Ko.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:o,directives:i,fields:a,loc:Ai(e,t)}}(e);case"interface":return function(e){var t=e.token,n=ki(e);Fi(e,"interface");var r=Zo(e),o=yi(e,!0),i=Ii(e);return{kind:Ko.INTERFACE_TYPE_DEFINITION,description:n,name:r,directives:o,fields:i,loc:Ai(e,t)}}(e);case"union":return function(e){var t=e.token,n=ki(e);Fi(e,"union");var r=Zo(e),o=yi(e,!0),i=Di(e);return{kind:Ko.UNION_TYPE_DEFINITION,description:n,name:r,directives:o,types:i,loc:Ai(e,t)}}(e);case"enum":return function(e){var t=e.token,n=ki(e);Fi(e,"enum");var r=Zo(e),o=yi(e,!0),i=xi(e);return{kind:Ko.ENUM_TYPE_DEFINITION,description:n,name:r,directives:o,values:i,loc:Ai(e,t)}}(e);case"input":return function(e){var t=e.token,n=ki(e);Fi(e,"input");var r=Zo(e),o=yi(e,!0),i=Mi(e);return{kind:Ko.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:o,fields:i,loc:Ai(e,t)}}(e);case"directive":return function(e){var t=e.token,n=ki(e);Fi(e,"directive"),Pi(e,jo.AT);var r=Zo(e),o=Ti(e),i=ji(e,"repeatable");Fi(e,"on");var a=function(e){Qi(e,jo.PIPE);var t=[];do{t.push(Ri(e))}while(Qi(e,jo.PIPE));return t}(e);return{kind:Ko.DIRECTIVE_DEFINITION,description:n,name:r,arguments:o,repeatable:i,locations:a,loc:Ai(e,t)}}(e)}throw Vi(e,t)}function Si(e){return qi(e,jo.STRING)||qi(e,jo.BLOCK_STRING)}function ki(e){if(Si(e))return pi(e)}function _i(e){var t=e.token,n=ri(e);Pi(e,jo.COLON);var r=wi(e);return{kind:Ko.OPERATION_TYPE_DEFINITION,operation:n,type:r,loc:Ai(e,t)}}function Oi(e){var t=[];if(ji(e,"implements")){Qi(e,jo.AMP);do{t.push(wi(e))}while(Qi(e,jo.AMP)||e.options.allowLegacySDLImplementsInterfaces&&qi(e,jo.NAME))}return t}function Ii(e){return e.options.allowLegacySDLEmptyFields&&qi(e,jo.BRACE_L)&&e.lookahead().kind===jo.BRACE_R?(e.advance(),e.advance(),[]):qi(e,jo.BRACE_L)?Ui(e,jo.BRACE_L,Ni,jo.BRACE_R):[]}function Ni(e){var t=e.token,n=ki(e),r=Zo(e),o=Ti(e);Pi(e,jo.COLON);var i=bi(e),a=yi(e,!0);return{kind:Ko.FIELD_DEFINITION,description:n,name:r,arguments:o,type:i,directives:a,loc:Ai(e,t)}}function Ti(e){return qi(e,jo.PAREN_L)?Ui(e,jo.PAREN_L,Ci,jo.PAREN_R):[]}function Ci(e){var t=e.token,n=ki(e),r=Zo(e);Pi(e,jo.COLON);var o,i=bi(e);Qi(e,jo.EQUALS)&&(o=vi(e));var a=yi(e,!0);return{kind:Ko.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:o,directives:a,loc:Ai(e,t)}}function Di(e){var t=[];if(Qi(e,jo.EQUALS)){Qi(e,jo.PIPE);do{t.push(wi(e))}while(Qi(e,jo.PIPE))}return t}function xi(e){return qi(e,jo.BRACE_L)?Ui(e,jo.BRACE_L,$i,jo.BRACE_R):[]}function $i(e){var t=e.token,n=ki(e),r=Zo(e),o=yi(e,!0);return{kind:Ko.ENUM_VALUE_DEFINITION,description:n,name:r,directives:o,loc:Ai(e,t)}}function Mi(e){return qi(e,jo.BRACE_L)?Ui(e,jo.BRACE_L,Ci,jo.BRACE_R):[]}function Ri(e){var t=e.token,n=Zo(e);if(void 0!==Xo[n.value])return n;throw Vi(e,t)}function Ai(e,t){if(!e.options.noLocation)return new Li(t,e.lastToken,e.source)}function Li(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function qi(e,t){return e.token.kind===t}function Pi(e,t){var n=e.token;if(n.kind===t)return e.advance(),n;throw Fo(e.source,n.start,"Expected ".concat(t,", found ").concat(Go(n)))}function Qi(e,t){var n=e.token;if(n.kind===t)return e.advance(),n}function Fi(e,t){var n=e.token;if(n.kind!==jo.NAME||n.value!==t)throw Fo(e.source,n.start,'Expected "'.concat(t,'", found ').concat(Go(n)));e.advance()}function ji(e,t){var n=e.token;return n.kind===jo.NAME&&n.value===t&&(e.advance(),!0)}function Vi(e,t){var n=t||e.token;return Fo(e.source,n.start,"Unexpected ".concat(Go(n)))}function Bi(e,t,n,r){Pi(e,t);for(var o=[];!Qi(e,r);)o.push(n(e));return o}function Ui(e,t,n,r){Pi(e,t);for(var o=[n(e)];!Qi(e,r);)o.push(n(e));return o}Co(Li,function(){return{start:this.start,end:this.end}});var Gi=Cn(Object.freeze({parse:function(e,t){var n="string"==typeof e?new $o(e):e;if(!(n instanceof $o))throw new TypeError("Must provide Source. Received: ".concat(et(n)));return function(e){var t=e.token;return{kind:Ko.DOCUMENT,definitions:Ui(e,jo.SOF,ei,jo.EOF),loc:Ai(e,t)}}(Vo(n,t||{}))},parseValue:function(e,t){var n=Vo("string"==typeof e?new $o(e):e,t||{});Pi(n,jo.SOF);var r=hi(n,!1);return Pi(n,jo.EOF),r},parseType:function(e,t){var n=Vo("string"==typeof e?new $o(e):e,t||{});Pi(n,jo.SOF);var r=bi(n);return Pi(n,jo.EOF),r},parseConstValue:vi,parseTypeReference:bi,parseNamedType:wi})).parse;function Yi(e){return e.replace(/[\s,]+/g," ").trim()}var Hi={},Ji={};var zi=!0;var Wi=!1;function Ki(e){var t=Yi(e);if(Hi[t])return Hi[t];var n=Gi(e,{experimentalFragmentVariables:Wi});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");return n=function e(t,n){var r=Object.prototype.toString.call(t);if("[object Array]"===r)return t.map(function(t){return e(t,n)});if("[object Object]"!==r)throw new Error("Unexpected input.");n&&t.loc&&delete t.loc,t.loc&&(delete t.loc.startToken,delete t.loc.endToken);var o,i,a,s=Object.keys(t);for(o in s)s.hasOwnProperty(o)&&(i=t[s[o]],"[object Object]"!==(a=Object.prototype.toString.call(i))&&"[object Array]"!==a||(t[s[o]]=e(i,!0)));return t}(n=function(e){for(var t,n={},r=[],o=0;o<e.definitions.length;o++){var i=e.definitions[o];if("FragmentDefinition"===i.kind){var a=i.name.value,s=Yi((t=i.loc).source.body.substring(t.start,t.end));Ji.hasOwnProperty(a)&&!Ji[a][s]?(zi&&console.warn("Warning: fragment with name "+a+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),Ji[a][s]=!0):Ji.hasOwnProperty(a)||(Ji[a]={},Ji[a][s]=!0),n[s]||(n[s]=!0,r.push(i))}else r.push(i)}return e.definitions=r,e}(n),!1),Hi[t]=n,n}function Xi(){for(var e=Array.prototype.slice.call(arguments),t=e[0],n="string"==typeof t?t:t[0],r=1;r<e.length;r++)e[r]&&e[r].kind&&"Document"===e[r].kind?n+=e[r].loc.source.body:n+=e[r],n+=t[r];return Ki(n)}Xi.default=Xi,Xi.resetCaches=function(){Hi={},Ji={}},Xi.disableFragmentWarnings=function(){zi=!1},Xi.enableExperimentalFragmentVariables=function(){Wi=!0},Xi.disableExperimentalFragmentVariables=function(){Wi=!1};const Zi=Xi`
	mutation(
		$isCompany: Boolean!
		$name: String!
		$email: String!
		$password: String!
	) {
		createUser(
			isCompany: $isCompany
			name: $name
			email: $email
			password: $password
		) {
			user {
				id
				username
				isActive
			}
		}
	}
`,ea=Xi`
	mutation($email: String!, $code: String!) {
		activateUser(email: $email, code: $code) {
			activated
		}
	}
`,ta=Xi`
	mutation($email: String!, $password: String!) {
		tokenAuth(email: $email, password: $password) {
			token
			refreshToken
		}
	}
`,na=Xi`
	{
		me {
			id
			dateJoined
			email
			isCompany
		}
	}
`,ra=(Xi`
	{
		checkLogin
	}
`,Xi`
	mutation($refreshToken: String!) {
		refreshToken(refreshToken: $refreshToken) {
			token
			refreshToken
			payload
		}
	}
`),oa=Xi`
	mutation($employeeEmail: String!) {
		createUserConnection(employeeEmail: $employeeEmail) {
			userConnection {
				id
				employeeEmail
				company {
					id
					email
				}
				isConfirmed
				isDeclined
			}
		}
	}
`,ia=Xi`
	query {
		invitations {
			id
			created
			isDeclined
			isConfirmed
			employeeEmail
			company {
				id
				userprofile {
					id
					companyName
				}
			}
		}
	}
`,aa=Xi`
	mutation($invitationId: ID!) {
		confirmUserConnection(userConnectionId: $invitationId) {
			userConnection {
				id
				isConfirmed
				employeeEmail
				company {
					id
					userprofile {
						id
						companyName
					}
				}
				created
			}
		}
	}
`,sa=Xi`
	query {
		connections {
			id
			created
			company {
				id
				userprofile {
					id
					companyName
				}
			}
			employee {
				id
				userprofile {
					id
					firstName
					lastName
				}
			}
		}
	}
`,ca=Xi`
	query($companyId: ID!) {
		shifts(companyId: $companyId) {
			id
			fromTime
			toTime
			note
			isSponsored
			created
			postedBy {
				id
				email
				userprofile {
					id
					firstName
					lastName
				}
			}
			postedTo {
				id
				email
				userprofile {
					id
					companyName
				}
			}
		}
	}
`,ua=Xi`
	mutation(
		$fromTime: DateTime!
		$toTime: DateTime!
		$note: String!
		$isSponsored: Boolean!
		$companyId: ID!
	) {
		createShift(
			fromTime: $fromTime
			toTime: $toTime
			note: $note
			isSponsored: $isSponsored
			companyId: $companyId
		) {
			shift {
				id
				fromTime
				toTime
				note
				isSponsored
				created
				postedBy {
					id
					email
					userprofile {
						id
						firstName
						lastName
					}
				}
				postedTo {
					id
					email
					userprofile {
						id
						companyName
					}
				}
			}
		}
	}
`,la=Xi`
	mutation($proposedShiftId: ID!, $shiftId: ID!) {
		createShiftConnection(
			proposedShiftId: $proposedShiftId
			shiftId: $shiftId
		) {
			shiftConnection {
				id
				created
				isAccepted
				shift {
					id
					fromTime
					toTime
					isSponsored
					postedBy {
						id
						email
						userprofile {
							firstName
							lastName
						}
					}
				}
				proposedShift {
					id
					fromTime
					toTime
					isSponsored
					postedBy {
						id
						email
						userprofile {
							firstName
							lastName
						}
					}
				}
			}
		}
	}
`,da=Xi`
	query($companyId: ID!) {
		shiftConnections(companyId: $companyId) {
			id
			created
			isAccepted
			shift {
				id
				fromTime
				toTime
				note
				isSponsored
				postedBy {
					id
					userprofile {
						firstName
						lastName
					}
				}
				postedTo {
					id
					userprofile {
						companyName
					}
				}
			}
			proposedShift {
				id
				fromTime
				toTime
				note
				isSponsored
				postedBy {
					id
					userprofile {
						firstName
						lastName
					}
				}
				postedTo {
					id
					userprofile {
						companyName
					}
				}
			}
		}
	}
`,fa=Xi`
	mutation($shiftConnectionId: ID!) {
		confirmShiftConnection(shiftConnectionId: $shiftConnectionId) {
			shiftConnection {
				id
				created
				isAccepted
				shift {
					id
				}
				proposedShift {
					id
				}
			}
		}
	}
`;function ha(e,t,n){const r=Object.create(e);return r.toast=t[n],r}function pa(e,t){var n,r,o,i,a,s,c,u,l,d=t.toast.msg;function f(){return t.animationend_handler(t)}return{key:e,first:null,c(){n=k("li"),r=k("div"),o=_(d),i=O(),a=k("div"),s=O(),C(r,"class","content"),C(a,"class","progress"),x(a,"animation-duration",t.toast.timeout+"ms"),C(n,"class","toast"),x(n,"background",t.toast.background),l=N(a,"animationend",f),this.first=n},m(e,t){w(e,n,t),b(n,r),b(r,o),b(n,i),b(n,a),b(n,s),u=!0},p(e,r){t=r,u&&!e.toasts||d===(d=t.toast.msg)||D(o,d),u&&!e.toasts||(x(a,"animation-duration",t.toast.timeout+"ms"),x(n,"background",t.toast.background))},i(e){u||(c&&c.end(1),u=!0)},o(e){c=fe(n,ma,{}),u=!1},d(e){e&&(E(n),c&&c.end()),l()}}}function va(e){var t,n,r=[],o=new Map,i=e.toasts;const a=e=>e.toast.id;for(var s=0;s<i.length;s+=1){let t=ha(e,i,s),n=a(t);o.set(n,r[s]=pa(n,t))}return{c(){for(t=k("ul"),s=0;s<r.length;s+=1)r[s].c();C(t,"class","toasts")},m(e,o){for(w(e,t,o),s=0;s<r.length;s+=1)r[s].m(t,null);n=!0},p(e,n){const i=n.toasts;se(),r=ve(r,e,a,1,n,i,o,t,pe,pa,null,ha),ce()},i(e){if(!n){for(var t=0;t<i.length;t+=1)ue(r[t]);n=!0}},o(e){for(s=0;s<r.length;s+=1)le(r[s]);n=!1},d(e){for(e&&E(t),s=0;s<r.length;s+=1)r[s].d()}}}function ma(e,{delay:t=0,duration:n=300}){return{delay:t,duration:n,css:e=>`opacity: ${1*(e-.5)}; transform-origin: top right; transform: scaleX(${1*(e-.5)});`}}function ya(e,t,n){let r=0,o=[],i={danger:"#bb2124",success:"#22bb33",warning:"#f0ad4e",info:"#5bc0de",default:"#aaaaaa"};function a(e){n("toasts",o=o.filter(t=>t.id!=e))}function s(e,t=3e3,a="default"){!function(e,t,a){const s=i[t]||i.default;n("toasts",o=[{id:r,msg:e,background:s,timeout:a,width:"100%"},...o]),r+=1}(e,a,t)}return{toasts:o,removeToast:a,show:s,danger:function(e,t){s(e,t,"danger")},warning:function(e,t){s(e,t,"warning")},info:function(e,t){s(e,t,"info")},success:function(e,t){s(e,t,"success")},animationend_handler:function({toast:e}){return a(e.id)}}}class ga extends we{constructor(e){super(),be(this,e,ya,va,s,["removeToast","show","danger","warning","info","success"])}get removeToast(){return this.$$.ctx.removeToast}get show(){return this.$$.ctx.show}get danger(){return this.$$.ctx.danger}get warning(){return this.$$.ctx.warning}get info(){return this.$$.ctx.info}get success(){return this.$$.ctx.success}}function ba(e){var t;var n=new ga({props:{}});return e.notification_binding(n),{c(){n.$$.fragment.c()},m(e,r){ye(n,e,r),t=!0},p(e,t){n.$set({})},i(e){t||(ue(n.$$.fragment,e),t=!0)},o(e){le(n.$$.fragment,e),t=!1},d(t){e.notification_binding(null),ge(n,t)}}}let wa,Ea;function Sa(e,t,n){return{notification_binding:function(e){Y[e?"unshift":"push"](()=>{n("notifications",wa=e)})}}}class ka extends we{constructor(e){super(),be(this,e,Sa,ba,s,[])}}async function _a(e,t){try{await On(e,{mutation:ra,variables:{refreshToken:t}}).then(t=>{const n=t.data.refreshToken.refreshToken;qe.set(n),Le.set(Date.now()),Re.set(!0),Oa(e)})}catch(e){console.log(e),Re.set(!1)}}async function Oa(e){null===localStorage.getItem("startedTimeout")&&localStorage.setItem("startedTimeout",JSON.stringify(!1)),null===sessionStorage.getItem("startedTimeoutSession")&&sessionStorage.setItem("startedTimeoutSession",JSON.stringify(!1));const t=JSON.parse(localStorage.getItem("startedTimeout")),n=JSON.parse(sessionStorage.getItem("startedTimeoutSession"));if(!0===t&&!1===n)return console.log("Already started Timeout, exiting function!!!");let r=JSON.parse(localStorage.getItem("lastLoggedIn")),o=JSON.parse(localStorage.getItem("refreshToken")),i=Math.abs(Date.now()-r)/6e4;if(i>54)await _a(e,o);else{let r=54-i;Ia(),Ea=setTimeout(_a,6e4*r,e,o),!1===t&&localStorage.setItem("startedTimeout",JSON.stringify(!0)),!1===n&&sessionStorage.setItem("startedTimeoutSession",JSON.stringify(!0)),console.log("Fetch token in : "+r)}}function Ia(){clearTimeout(Ea)}async function Na(e,t){const n=_n(e,{query:da,variables:{companyId:t}});try{await n.refetch().then(e=>{Be.set(e.data.shiftConnections)})}catch(e){console.log(e)}}function Ta(e,t,n){const r=Object.create(e);return r.choice=t[n],r}function Ca(e){var t,n,r=e.choice.text;return{c(){t=k("option"),n=_(r),t.__value=e.choice,t.value=t.__value},m(e,r){w(e,t,r),b(t,n)},p(e,n){t.value=t.__value},d(e){e&&E(t)}}}function Da(e){for(var t,n,r,o,a,s,c,u,l,d,f,h,p,v,m,y,g,_,I,D,x,M,R,A,L,q,P,Q,F,j,V,B,U,G,Y,H=new Je({}),J=e.userTypeChoices,z=[],W=0;W<J.length;W+=1)z[W]=Ca(Ta(e,J,W));return{c(){H.$$.fragment.c(),t=O(),n=k("main"),r=k("div"),o=k("div"),(a=k("div")).innerHTML='<h3 class="card-title svelte-1ex7cpf">Create Account</h3> <h6 class="card-subtitle mb-2 svelte-1ex7cpf">\n\t\t\t          Please fill in the form below to create an account on SwapBoard\n\t\t\t        </h6>',s=O(),c=k("form"),u=k("fieldset"),l=k("div"),d=k("select");for(var i=0;i<z.length;i+=1)z[i].c();f=O(),(h=k("small")).textContent="Please note that you can not change this later.",p=O(),v=k("div"),m=k("input"),y=O(),g=k("div"),_=k("input"),I=O(),(D=k("small")).textContent="We'll never share your email with anyone else.",x=O(),M=k("div"),R=k("input"),A=O(),L=k("div"),q=k("input"),P=O(),Q=k("div"),F=O(),(j=k("button")).innerHTML="<h5>SignUp</h5>",V=O(),(B=k("p")).innerHTML='\n\t\t\t            Already registered?\n\t\t\t            <a href="#/login">Login</a>\n\t\t\t            or\n\t\t\t            <a href="#/verifyaccount">Verify your account</a>',C(a,"class","card-header svelte-1ex7cpf"),void 0===e.selectedUserType&&Z(()=>e.select_change_handler.call(d)),C(d,"aria-describedby","inputGroupSelect01"),C(d,"class","custom-select"),C(h,"id","inputGroupSelect01"),C(h,"class","form-text text-muted note"),C(l,"class","form-group svelte-1ex7cpf"),C(m,"type","text"),C(m,"class","form-control text"),C(m,"id","exampleInputText1"),C(m,"placeholder",e.placeHolderName),m.required=!0,C(m,"maxlength","60"),C(v,"class","form-group svelte-1ex7cpf"),C(_,"type","email"),C(_,"class","form-control"),C(_,"id","exampleInputEmail1"),C(_,"aria-describedby","emailHelp"),C(_,"placeholder","Enter a valid email address"),_.required=!0,C(D,"id","emailHelp"),C(D,"class","form-text text-muted"),C(g,"class","form-group svelte-1ex7cpf"),C(R,"type","password"),C(R,"class","form-control password"),C(R,"id","password"),C(R,"placeholder","Password"),R.required=!0,C(R,"minlength","8"),C(R,"maxlength","30"),C(M,"class","form-group svelte-1ex7cpf"),C(q,"type","password"),C(q,"class","form-control password"),C(q,"id","confirmPassword"),C(q,"placeholder","Confirm Password"),q.required=!0,C(q,"minlength","8"),C(q,"maxlength","30"),C(L,"class","form-group svelte-1ex7cpf"),C(Q,"class","form-group form-check svelte-1ex7cpf"),C(j,"type","submit"),C(j,"class","btn btn-primary svelte-1ex7cpf"),C(B,"class","form-text text-muted svelte-1ex7cpf"),u.disabled=e.formIsDisabled,C(c,"class","form-group svelte-1ex7cpf"),C(o,"class","card-body svelte-1ex7cpf"),C(r,"class","card .mx-auto svelte-1ex7cpf"),C(n,"class","svelte-1ex7cpf"),Y=[N(d,"change",e.select_change_handler),N(m,"input",e.input0_input_handler),N(_,"input",e.input1_input_handler),N(R,"input",e.input2_input_handler),N(q,"input",e.input3_input_handler),N(c,"submit",T(e.handleSubmit))]},m(i,E){ye(H,i,E),w(i,t,E),w(i,n,E),b(n,r),b(r,o),b(o,a),b(o,s),b(o,c),b(c,u),b(u,l),b(l,d);for(var S=0;S<z.length;S+=1)z[S].m(d,null);$(d,e.selectedUserType),b(l,f),b(l,h),b(u,p),b(u,v),b(v,m),m.value=e.name,b(u,y),b(u,g),b(g,_),_.value=e.email,b(g,I),b(g,D),b(u,x),b(u,M),b(M,R),R.value=e.password,b(u,A),b(u,L),b(L,q),q.value=e.confirmPassword,b(u,P),b(u,Q),b(u,F),b(u,j),b(u,V),b(u,B),G=!0},p(e,t){if(e.userTypeChoices){J=t.userTypeChoices;for(var n=0;n<J.length;n+=1){const r=Ta(t,J,n);z[n]?z[n].p(e,r):(z[n]=Ca(r),z[n].c(),z[n].m(d,null))}for(;n<z.length;n+=1)z[n].d(1);z.length=J.length}e.selectedUserType&&$(d,t.selectedUserType),e.name&&m.value!==t.name&&(m.value=t.name),G&&!e.placeHolderName||C(m,"placeholder",t.placeHolderName),e.email&&_.value!==t.email&&(_.value=t.email),e.password&&R.value!==t.password&&(R.value=t.password),e.confirmPassword&&q.value!==t.confirmPassword&&(q.value=t.confirmPassword),G&&!e.formIsDisabled||(u.disabled=t.formIsDisabled)},i(e){G||(ue(H.$$.fragment,e),U||Z(()=>{(U=de(r,$e,{duration:500})).start()}),G=!0)},o(e){le(H.$$.fragment,e),G=!1},d(e){ge(H,e),e&&(E(t),E(n)),S(z,e),i(Y)}}}function xa(e,t,n){const r=En();let o=[{id:0,text:"Signup as company or employee"},{id:1,text:"Employee"},{id:2,text:"Company"}],i=o,a="",s="",c="",u="",l="",d=!1,f=!1;return e.$$.update=((e={selectedUserType:1})=>{e.selectedUserType&&(1===i.id?n("placeHolderName",s="your name"):2===i.id?n("placeHolderName",s="company name"):n("placeHolderName",s="company or employee name"))}),{userTypeChoices:o,selectedUserType:i,name:a,placeHolderName:s,email:c,password:u,confirmPassword:l,formIsDisabled:f,handleSubmit:async function(){if(n("formIsDisabled",f=!0),setTimeout(()=>{n("formIsDisabled",f=!1)},2e3),0===a.trim().length)return n("name",a=""),wa.danger("You must enter a name");if(0===c.trim().length)return n("email",c=""),wa.danger("You must enter an email");if(1===i.id)d=!1;else{if(2!==i.id)return wa.danger("You must signup as a company or employee!");d=!0}if(u!==l)return n("password",u=""),n("confirmPassword",l=""),wa.danger("Your passwords do not match!");try{await async function(e,t,n,r,o){await On(e,{mutation:Zi,variables:{isCompany:t,name:n,email:r,password:o}}).then(()=>{Te("/verifyaccount")})}(r,d,a,c,u)}catch(e){return wa.danger("Email already exist")}},select_change_handler:function(){i=M(this),n("selectedUserType",i),n("userTypeChoices",o)},input0_input_handler:function(){a=this.value,n("name",a)},input1_input_handler:function(){c=this.value,n("email",c)},input2_input_handler:function(){u=this.value,n("password",u)},input3_input_handler:function(){l=this.value,n("confirmPassword",l)}}}function $a(e){var t,n,r,o,a,s,c,u,l,d,f,h,p,v,m,y,g,S,_,I,D,x,$,M,R,A,L,q,P,Q,F,j,V=new Je({});return{c(){V.$$.fragment.c(),t=O(),n=k("main"),r=k("div"),o=k("div"),(a=k("div")).innerHTML='<h3 class="card-title svelte-1t2q2t9">Log into SwapBoard</h3> <h6 class="card-subtitle mb-2 svelte-1t2q2t9">\n\t\t\t          Please enter your email and password to login\n\t\t\t        </h6>',s=O(),c=k("form"),u=k("fieldset"),l=k("div"),d=k("input"),f=O(),(h=k("small")).textContent="We'll never share your email with anyone else.",v=O(),m=k("div"),y=k("input"),g=O(),S=k("div"),_=k("input"),I=O(),(D=k("label")).textContent="keep me logged in",x=O(),($=k("button")).innerHTML="<h5>Login</h5>",M=O(),(R=k("p")).innerHTML='\n\t\t\t            Not registered?\n\t\t\t            <a href="#/signup">Create an account</a>',A=O(),(L=k("p")).innerHTML='<a href="#/recoveraccount">Forgort Password?</a>',q=O(),(P=k("p")).innerHTML='<a href="#/verifyaccount">Verify your account?</a>',C(a,"class","card-header svelte-1t2q2t9"),C(d,"type","email"),C(d,"class","form-control"),C(d,"id","exampleInputEmail1"),C(d,"aria-describedby","emailHelp"),C(d,"placeholder","Enter email"),d.required=!0,C(h,"id","emailHelp"),C(h,"class","form-text text-muted"),C(l,"class",p="form-group "+e.formIsDisabled+" svelte-1t2q2t9"),C(y,"type","password"),C(y,"class","form-control password"),C(y,"id","exampleInputPassword1"),C(y,"placeholder","Password"),y.required=!0,C(y,"minlength","8"),C(y,"maxlength","30"),C(m,"class","form-group svelte-1t2q2t9"),C(_,"type","checkbox"),C(_,"class","form-check-input"),C(_,"id","exampleCheck1"),C(D,"class","form-check-label"),C(D,"for","exampleCheck1"),C(S,"class","form-group form-check svelte-1t2q2t9"),C($,"type","submit"),C($,"class","btn btn-primary svelte-1t2q2t9"),C(R,"class","form-text text-muted ca svelte-1t2q2t9"),C(L,"class","form-text text-muted fp svelte-1t2q2t9"),C(P,"class","form-text text-muted ca svelte-1t2q2t9"),u.disabled=e.formIsDisabled,C(o,"class","card-body svelte-1t2q2t9"),C(r,"class","card svelte-1t2q2t9"),C(n,"class","svelte-1t2q2t9"),j=[N(d,"input",e.input0_input_handler),N(y,"input",e.input1_input_handler),N(_,"change",e.input2_change_handler),N(c,"submit",T(e.handleSubmit))]},m(i,p){ye(V,i,p),w(i,t,p),w(i,n,p),b(n,r),b(r,o),b(o,a),b(o,s),b(o,c),b(c,u),b(u,l),b(l,d),d.value=e.email,b(l,f),b(l,h),b(u,v),b(u,m),b(m,y),y.value=e.password,b(u,g),b(u,S),b(S,_),_.checked=e.isKeepMeLoggedIn,b(S,I),b(S,D),b(u,x),b(u,$),b(u,M),b(u,R),b(u,A),b(u,L),b(u,q),b(u,P),F=!0},p(e,t){e.email&&d.value!==t.email&&(d.value=t.email),F&&!e.formIsDisabled||p===(p="form-group "+t.formIsDisabled+" svelte-1t2q2t9")||C(l,"class",p),e.password&&y.value!==t.password&&(y.value=t.password),e.isKeepMeLoggedIn&&(_.checked=t.isKeepMeLoggedIn),F&&!e.formIsDisabled||(u.disabled=t.formIsDisabled)},i(e){F||(ue(V.$$.fragment,e),Q||Z(()=>{(Q=de(r,$e,{duration:500})).start()}),F=!0)},o(e){le(V.$$.fragment,e),F=!1},d(e){ge(V,e),e&&(E(t),E(n)),i(j)}}}function Ma(e,t,n){const r=En();let o="",i="",a=!1,s=!1;return{email:o,password:i,isKeepMeLoggedIn:a,formIsDisabled:s,handleSubmit:async function(){if(n("formIsDisabled",s=!0),setTimeout(()=>{n("formIsDisabled",s=!1)},2e3),0===o.trim().length||0===i.trim().length){const e="Email or password fields can not be empty!";return wa.danger(e,3e3)}try{await async function(e,t,n,r){await On(e,{mutation:ta,variables:{email:t,password:n}}).then(e=>{qe.set(e.data.tokenAuth.refreshToken),Ae.set(r),Le.set(Date.now()),Re.set(!0),localStorage.setItem("login-event","login"+Math.random())})}(r,o,i,a).then(async()=>{})}catch(e){n("password",i="");let t="Please make sure your email and password are correct!";wa.danger(t,3e3)}},input0_input_handler:function(){o=this.value,n("email",o)},input1_input_handler:function(){i=this.value,n("password",i)},input2_change_handler:function(){a=this.checked,n("isKeepMeLoggedIn",a)}}}function Ra(t){var n,r;return{c(){(n=k("div")).innerHTML='<h1 class="svelte-ysidjt">Forgot Password Page</h1>'},m(e,t){w(e,n,t)},p:e,i(e){r||Z(()=>{(r=de(n,$e,{duration:500})).start()})},o:e,d(e){e&&E(n)}}}function Aa(t){var n,r;return{c(){(n=k("div")).innerHTML='<h1 class="svelte-ysidjt">Recover Account Page</h1>'},m(e,t){w(e,n,t)},p:e,i(e){r||Z(()=>{(r=de(n,$e,{duration:500})).start()})},o:e,d(e){e&&E(n)}}}function La(e){var t,n,r,o,a,s,c,u,l,d,f,h,p,v,m,y,g,S,_=new Je({});return{c(){_.$$.fragment.c(),t=O(),n=k("main"),r=k("div"),o=k("div"),(a=k("div")).innerHTML='<h3 class="card-title svelte-92piy6">Verify Account</h3> <h6 class="card-subtitle mb-2 svelte-92piy6">\n\t\t\t          Please enter your email and the code that was sent to your email\n\t\t\t        </h6>',s=O(),c=k("form"),u=k("fieldset"),l=k("div"),d=k("input"),f=O(),h=k("div"),p=k("input"),v=O(),(m=k("button")).innerHTML="<h5>Confirm Account</h5>",C(a,"class","card-header svelte-92piy6"),C(d,"type","email"),C(d,"class","form-control"),C(d,"id","exampleInputEmail1"),C(d,"aria-describedby","emailHelp"),C(d,"placeholder","Enter email"),C(l,"class","form-group svelte-92piy6"),C(p,"type","text"),C(p,"class","form-control"),C(p,"id","exampleInputText1"),C(p,"aria-describedby","textHelp"),C(p,"placeholder","Enter code"),C(h,"class","form-group svelte-92piy6"),C(m,"type","submit"),C(m,"class","btn btn-primary svelte-92piy6"),u.disabled=e.formIsDisabled,C(o,"class","card-body svelte-92piy6"),C(r,"class","card svelte-92piy6"),C(n,"class","svelte-92piy6"),S=[N(d,"input",e.input0_input_handler),N(p,"input",e.input1_input_handler),N(c,"submit",T(e.handleSubmit))]},m(i,y){ye(_,i,y),w(i,t,y),w(i,n,y),b(n,r),b(r,o),b(o,a),b(o,s),b(o,c),b(c,u),b(u,l),b(l,d),d.value=e.email,b(u,f),b(u,h),b(h,p),p.value=e.code,b(u,v),b(u,m),g=!0},p(e,t){e.email&&d.value!==t.email&&(d.value=t.email),e.code&&p.value!==t.code&&(p.value=t.code),g&&!e.formIsDisabled||(u.disabled=t.formIsDisabled)},i(e){g||(ue(_.$$.fragment,e),y||Z(()=>{(y=de(r,$e,{duration:500})).start()}),g=!0)},o(e){le(_.$$.fragment,e),g=!1},d(e){ge(_,e),e&&(E(t),E(n)),i(S)}}}function qa(e,t,n){const r=En();let o="",i="",a=!1;return{email:o,code:i,formIsDisabled:a,handleSubmit:async function(){if(n("formIsDisabled",a=!0),setTimeout(()=>{n("formIsDisabled",a=!1)},2e3),0===o.trim().length||0===i.trim().length)return n("email",o=""),n("code",i=""),wa.danger("Email or code fields can not be empty");try{await async function(e,t,n){await On(e,{mutation:ea,variables:{email:t,code:n}}).then(()=>{Te("/login")})}(r,o,i)}catch(e){wa.danger("Please make sure your code and email are correct")}},input0_input_handler:function(){o=this.value,n("email",o)},input1_input_handler:function(){i=this.value,n("code",i)}}}function Pa(t){var n,r,o,a,s,c,u,l,d,f,h;return{c(){n=k("main"),r=k("div"),o=k("div"),a=k("form"),s=k("fieldset"),c=k("div"),u=k("input"),l=O(),(d=k("button")).textContent="Send Invite",C(u,"type","email"),C(u,"id","email"),C(u,"class","form-control"),u.required=!0,C(u,"placeholder","Enter employee email"),C(c,"class","form-group"),C(d,"type","submit"),C(d,"class","btn btn-primary"),s.disabled=t.formIsDisabled,C(o,"class","card-body svelte-1wydt8p"),C(r,"class","card"),C(n,"class","svelte-1wydt8p"),h=[N(u,"input",t.input_input_handler),N(a,"submit",T(t.handleSubmit))]},m(e,i){w(e,n,i),b(n,r),b(r,o),b(o,a),b(a,s),b(s,c),b(c,u),u.value=t.email,b(s,l),b(s,d)},p(e,t){e.email&&u.value!==t.email&&(u.value=t.email),e.formIsDisabled&&(s.disabled=t.formIsDisabled)},i(e){f||Z(()=>{(f=de(n,$e,{duration:500})).start()})},o:e,d(e){e&&E(n),i(h)}}}function Qa(e,t,n){const r=En();let o="",i=!1;return{email:o,formIsDisabled:i,handleSubmit:function(){o&&async function(){n("formIsDisabled",i=!0);try{await On(r,{mutation:oa,variables:{employeeEmail:o}}).then(e=>{console.log(e.data.createUserConnection.userConnection),wa.success("Invite Sent!"),n("email",o=""),n("formIsDisabled",i=!1)})}catch(e){console.log(e),wa.danger("Something went wrong, please try again!"),n("formIsDisabled",i=!1)}}()},input_input_handler:function(){o=this.value,n("email",o)}}}const Fa=(e,t,n)=>e.replace(new RegExp("#{"+t+"}","g"),n),ja=function(e,t,n){if(e=e.toString(),void 0===t)return e;if(e.length==t)return e;if(n=void 0!==n&&n,e.length<t)for(;t-e.length>0;)e="0"+e;else e.length>t&&(e=n?e.substring(e.length-t):e.substring(0,t));return e};let Va={daysOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthsOfYear:["January","February","March","April","May","June","July","August","September","October","November","December"]};var Ba=[{key:"d",method:function(e){return ja(e.getDate(),2)}},{key:"D",method:function(e){return ja(Va.daysOfWeek[e.getDay()],3)}},{key:"j",method:function(e){return e.getDate()}},{key:"l",method:function(e){return Va.daysOfWeek[e.getDay()]}},{key:"F",method:function(e){return Va.monthsOfYear[e.getMonth()]}},{key:"m",method:function(e){return ja(e.getMonth()+1,2)}},{key:"M",method:function(e){return ja(Va.monthsOfYear[e.getMonth()],3)}},{key:"n",method:function(e){return e.getMonth()+1}},{key:"Y",method:function(e){return e.getFullYear()}},{key:"y",method:function(e){return ja(e.getFullYear(),2,!0)}}],Ua=[{key:"a",method:function(e){return e.getHours()>11?"pm":"am"}},{key:"A",method:function(e){return e.getHours()>11?"PM":"AM"}},{key:"g",method:function(e){return e.getHours()%12||12}},{key:"G",method:function(e){return e.getHours()}},{key:"h",method:function(e){return ja(e.getHours()%12||12,2)}},{key:"H",method:function(e){return ja(e.getHours(),2)}},{key:"i",method:function(e){return ja(e.getMinutes(),2)}},{key:"s",method:function(e){return ja(e.getSeconds(),2)}}];const Ga=(e,t="#{m}/#{d}/#{Y}")=>(Ba.forEach(n=>{-1!=t.indexOf(`#{${n.key}}`)&&(t=Fa(t,n.key,n.method(e)))}),Ua.forEach(n=>{-1!=t.indexOf(`#{${n.key}}`)&&(t=Fa(t,n.key,n.method(e)))}),t);function Ya(e){var t,n,r,o;return{c(){(t=k("p")).textContent="Please accept invitation to post and swap shifts with your colleagues.",n=O(),(r=k("button")).textContent="Accept",C(t,"class","card-text"),C(r,"class","btn btn-primary"),o=N(r,"click",e.confirmInvitation)},m(e,o){w(e,t,o),w(e,n,o),w(e,r,o)},d(e){e&&(E(t),E(n),E(r)),o()}}}function Ha(e){var t,n,r;return{c(){(t=k("p")).textContent="You need to request another invite from your company's admin.",n=O(),(r=k("h5")).textContent="You declined this invitation!",C(t,"class","card-text")},m(e,o){w(e,t,o),w(e,n,o),w(e,r,o)},d(e){e&&(E(t),E(n),E(r))}}}function Ja(e){var t,n,r;return{c(){(t=k("p")).textContent="You can now post and swap shifts with your colleagues in this company.",n=O(),(r=k("h5")).textContent="You have already accepted this invitation!",C(t,"class","card-text")},m(e,o){w(e,t,o),w(e,n,o),w(e,r,o)},d(e){e&&(E(t),E(n),E(r))}}}function za(t){var n,r,o,i,a,s,c,u,l,d,f,h,p=Ga(new Date(t.invitation.created),Wa),v=t.invitation.company.userprofile.companyName;function m(e){return e.invitation.isConfirmed?Ja:e.invitation.isDeclined?Ha:Ya}var y=m(t),g=y(t);return{c(){n=k("main"),r=k("div"),o=k("div"),i=_("Invitation sent on "),a=_(p),s=O(),c=k("div"),u=k("h5"),l=_("From "),d=_(v),f=O(),g.c(),C(o,"class","card-header"),C(u,"class","card-title"),C(c,"class","card-body"),C(r,"class","card"),C(n,"class","svelte-cgz76s")},m(e,t){w(e,n,t),b(n,r),b(r,o),b(o,i),b(o,a),b(r,s),b(r,c),b(c,u),b(u,l),b(u,d),b(c,f),g.m(c,null)},p(e,t){e.invitation&&p!==(p=Ga(new Date(t.invitation.created),Wa))&&D(a,p),e.invitation&&v!==(v=t.invitation.company.userprofile.companyName)&&D(d,v),y!==(y=m(t))&&(g.d(1),(g=y(t))&&(g.c(),g.m(c,null)))},i(e){h||Z(()=>{(h=de(n,$e,{transition:500})).start()})},o:e,d(e){e&&E(n),g.d()}}}let Wa="#{l}, #{F} #{j}, #{Y} at #{H}:#{i}";function Ka(e,t,n){let r;c(e,Qe,e=>{n("$invitations",r=e)});let{invitation:o}=t;const i=En();return e.$set=(e=>{"invitation"in e&&n("invitation",o=e.invitation)}),{invitation:o,confirmInvitation:async function(){try{await On(i,{mutation:aa,variables:{invitationId:o.id}}).then(e=>{var t=e.data.confirmUserConnection.userConnection,n=r.findIndex(e=>e.id===t.id);r[n]=t,Qe.set(r),wa.success("Congratulations! You have successfully joined "+t.company.userprofile.companyName,4e3)})}catch(e){console.log(e),wa.danger("Something went wrong, please try again!")}}}}class Xa extends we{constructor(e){super(),be(this,e,Ka,za,s,["invitation"])}}function Za(e,t,n){const r=Object.create(e);return r.invite=t[n],r}function es(t){var n;return{c(){(n=k("h5")).textContent="No new Invitation(s), please request an invite from your company's\r\n        admin!"},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&E(n)}}}function ts(e){for(var t,n,r=e.$invitations,o=[],i=0;i<r.length;i+=1)o[i]=ns(Za(e,r,i));const a=e=>le(o[e],1,1,()=>{o[e]=null});return{c(){for(var e=0;e<o.length;e+=1)o[e].c();t=I()},m(e,r){for(var i=0;i<o.length;i+=1)o[i].m(e,r);w(e,t,r),n=!0},p(e,n){if(e.$invitations){r=n.$invitations;for(var i=0;i<r.length;i+=1){const a=Za(n,r,i);o[i]?(o[i].p(e,a),ue(o[i],1)):(o[i]=ns(a),o[i].c(),ue(o[i],1),o[i].m(t.parentNode,t))}for(se(),i=r.length;i<o.length;i+=1)a(i);ce()}},i(e){if(!n){for(var t=0;t<r.length;t+=1)ue(o[t]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)le(o[e]);n=!1},d(e){S(o,e),e&&E(t)}}}function ns(e){var t,n=new Xa({props:{invitation:e.invite}});return{c(){n.$$.fragment.c()},m(e,r){ye(n,e,r),t=!0},p(e,t){var r={};e.$invitations&&(r.invitation=t.invite),n.$set(r)},i(e){t||(ue(n.$$.fragment,e),t=!0)},o(e){le(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function rs(e){var t,n,r,o,i,a=[ts,es],s=[];function c(e){return e.$invitations.length>0?0:1}return r=c(e),o=s[r]=a[r](e),{c(){t=k("main"),n=k("div"),o.c(),C(t,"class","svelte-3xtjq7")},m(e,o){w(e,t,o),b(t,n),s[r].m(n,null),i=!0},p(e,t){var i=r;(r=c(t))===i?s[r].p(e,t):(se(),le(s[i],1,1,()=>{s[i]=null}),ce(),(o=s[r])||(o=s[r]=a[r](t)).c(),ue(o,1),o.m(n,null))},i(e){i||(ue(o),i=!0)},o(e){le(o),i=!1},d(e){e&&E(t),s[r].d()}}}function os(e,t,n){let r;c(e,Qe,e=>{n("$invitations",r=e)});const o=_n(En(),{query:ia});return B(()=>{!async function(){try{await o.refetch().then(e=>{Qe.set(e.data.invitations)})}catch(e){console.log(e)}}()}),{$invitations:r}}function is(e,t,n){const r=Object.create(e);return r.key=t[n],r}function as(e,t,n){const r=Object.create(e);return r.body=t[n],r.i=n,r}function ss(e,t,n){const r=Object.create(e);return r.head=t[n],r}function cs(e){var t,n,r=e.head;return{c(){t=k("th"),n=_(r),C(t,"class","svelte-1p518x2")},m(e,r){w(e,t,r),b(t,n)},p(e,t){e.heads&&r!==(r=t.head)&&D(n,r)},d(e){e&&E(t)}}}function us(e){var t,n,r=e.body[e.key];return{c(){t=k("td"),n=_(r),C(t,"class","svelte-1p518x2")},m(e,r){w(e,t,r),b(t,n)},p(e,t){(e.bodies||e.heads)&&r!==(r=t.body[t.key])&&D(n,r)},d(e){e&&E(t)}}}function ls(e){for(var t,n,r,o=e.i,i=e.heads,a=[],s=0;s<i.length;s+=1)a[s]=us(is(e,i,s));const c=()=>e.tr_binding(t,o),u=()=>e.tr_binding(null,o);function l(){return e.click_handler(e)}return{c(){t=k("tr");for(var e=0;e<a.length;e+=1)a[e].c();n=O(),C(t,"class","svelte-1p518x2"),r=N(t,"click",l)},m(e,r){w(e,t,r);for(var o=0;o<a.length;o+=1)a[o].m(t,null);b(t,n),c()},p(r,s){if(e=s,r.bodies||r.heads){i=e.heads;for(var l=0;l<i.length;l+=1){const o=is(e,i,l);a[l]?a[l].p(r,o):(a[l]=us(o),a[l].c(),a[l].m(t,n))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}o!==e.i&&(u(),o=e.i,c())},d(e){e&&E(t),S(a,e),u(),r()}}}function ds(t){for(var n,r,o,i,a,s,c=t.heads,u=[],l=0;l<c.length;l+=1)u[l]=cs(ss(t,c,l));var d=t.bodies,f=[];for(l=0;l<d.length;l+=1)f[l]=ls(as(t,d,l));return{c(){n=k("div"),r=k("table"),o=k("thead"),i=k("tr");for(var e=0;e<u.length;e+=1)u[e].c();a=O(),s=k("tbody");for(e=0;e<f.length;e+=1)f[e].c();C(i,"class","svelte-1p518x2"),C(o,"class","svelte-1p518x2"),C(s,"class","svelte-1p518x2"),C(r,"class","content-table svelte-1p518x2"),C(n,"class","svelte-1p518x2")},m(e,t){w(e,n,t),b(n,r),b(r,o),b(o,i);for(var c=0;c<u.length;c+=1)u[c].m(i,null);b(r,a),b(r,s);for(c=0;c<f.length;c+=1)f[c].m(s,null)},p(e,t){if(e.heads){c=t.heads;for(var n=0;n<c.length;n+=1){const r=ss(t,c,n);u[n]?u[n].p(e,r):(u[n]=cs(r),u[n].c(),u[n].m(i,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=c.length}if(e.trs||e.heads||e.bodies){d=t.bodies;for(n=0;n<d.length;n+=1){const r=as(t,d,n);f[n]?f[n].p(e,r):(f[n]=ls(r),f[n].c(),f[n].m(s,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=d.length}},i:e,o:e,d(e){e&&E(n),S(u,e),S(f,e)}}}function fs(e,t,n){let{heads:r,bodies:o,trs:i=[],handleClick:a}=t;return e.$set=(e=>{"heads"in e&&n("heads",r=e.heads),"bodies"in e&&n("bodies",o=e.bodies),"trs"in e&&n("trs",i=e.trs),"handleClick"in e&&n("handleClick",a=e.handleClick)}),{heads:r,bodies:o,trs:i,handleClick:a,tr_binding:function(e,t){i[t]!==e&&Y[e?"unshift":"push"](()=>{i[t]=e,n("trs",i)})},click_handler:function({body:e,i:t}){a(e,i[t])}}}class hs extends we{constructor(e){super(),be(this,e,fs,ds,s,["heads","bodies","trs","handleClick"])}}function ps(e,t,n){const r=Object.create(e);return r.choice=t[n],r}function vs(e){var t,n,r,o,i,a,s,c,u=[bs,gs,ys],l=[];function d(e){return e.bodies.length>0?0:e.$user.isCompany?1:2}n=d(e),r=l[n]=u[n](e);var f=e.clickedShift&&ws(e);return{c(){t=k("div"),r.c(),o=O(),i=k("div"),a=k("div"),f&&f.c(),C(a,"class","popover__content svelte-y24sho"),C(i,"id","popover__wrapper"),C(i,"class",s=(e.showing?"show":"hide")+" svelte-y24sho"),C(t,"class","content svelte-y24sho")},m(r,s){w(r,t,s),l[n].m(t,null),b(t,o),b(t,i),b(i,a),f&&f.m(a,null),e.div1_binding(i),e.div2_binding(t),c=!0},p(e,h){var p=n;(n=d(h))===p?l[n].p(e,h):(se(),le(l[p],1,1,()=>{l[p]=null}),ce(),(r=l[n])||(r=l[n]=u[n](h)).c(),ue(r,1),r.m(t,o)),h.clickedShift?f?f.p(e,h):((f=ws(h)).c(),f.m(a,null)):f&&(f.d(1),f=null),c&&!e.showing||s===(s=(h.showing?"show":"hide")+" svelte-y24sho")||C(i,"class",s)},i(e){c||(ue(r),c=!0)},o(e){le(r),c=!1},d(r){r&&E(t),l[n].d(),f&&f.d(),e.div1_binding(null),e.div2_binding(null)}}}function ms(t){var n;function r(e){return e.$user.isCompany?Cs:Ds}var o=r(t),i=o(t);return{c(){i.c(),n=I()},m(e,t){i.m(e,t),w(e,n,t)},p(e,t){o!==(o=r(t))&&(i.d(1),(i=o(t))&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i.d(e),e&&E(n)}}}function ys(t){var n;return{c(){(n=k("h5")).textContent="Select a company at the top to view and swap shifts!",C(n,"class","svelte-y24sho")},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&E(n)}}}function gs(t){var n;return{c(){(n=k("h5")).textContent="No shifts posted to your company yet!",C(n,"class","svelte-y24sho")},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&E(n)}}}function bs(e){var t,n=new hs({props:{heads:e.heads,bodies:e.bodies,handleClick:e.handleClickedShift}});return{c(){n.$$.fragment.c()},m(e,r){ye(n,e,r),t=!0},p(e,t){var r={};e.heads&&(r.heads=t.heads),e.bodies&&(r.bodies=t.bodies),e.handleClickedShift&&(r.handleClick=t.handleClickedShift),n.$set(r)},i(e){t||(ue(n.$$.fragment,e),t=!0)},o(e){le(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function ws(e){var t;function n(e){return e.$user.isCompany?Es:Ss}var r=n(e),o=r(e);return{c(){o.c(),t=I()},m(e,n){o.m(e,n),w(e,t,n)},p(e,i){r===(r=n(i))&&o?o.p(e,i):(o.d(1),(o=r(i))&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&E(t)}}}function Es(t){var n;return{c(){(n=k("p")).textContent="This shift was posted to your company.",C(n,"class","svelte-y24sho")},m(e,t){w(e,n,t)},p:e,d(e){e&&E(n)}}}function Ss(e){var t;function n(e){return e.$user.id!==e.clickedShift.postedBy.id?_s:ks}var r=n(e),o=r(e);return{c(){o.c(),t=I()},m(e,n){o.m(e,n),w(e,t,n)},p(e,i){r===(r=n(i))&&o?o.p(e,i):(o.d(1),(o=r(i))&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&E(t)}}}function ks(t){var n;return{c(){(n=k("p")).textContent="This is your shift!!!",C(n,"class","svelte-y24sho")},m(e,t){w(e,n,t)},p:e,d(e){e&&E(n)}}}function _s(e){var t,n;function r(e){return e.$myShifts.length>0?Is:Os}var o=r(e),i=o(e),a=e.selectedShift&&Ts(e);return{c(){i.c(),t=O(),a&&a.c(),n=I()},m(e,r){i.m(e,r),w(e,t,r),a&&a.m(e,r),w(e,n,r)},p(e,s){o===(o=r(s))&&i?i.p(e,s):(i.d(1),(i=o(s))&&(i.c(),i.m(t.parentNode,t))),s.selectedShift?a?a.p(e,s):((a=Ts(s)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(e){i.d(e),e&&E(t),a&&a.d(e),e&&E(n)}}}function Os(t){var n;return{c(){(n=k("p")).textContent="You do not have any shift to propose, post shift to start\r\n                    swapping.",C(n,"class","svelte-y24sho")},m(e,t){w(e,n,t)},p:e,d(e){e&&E(n)}}}function Is(e){for(var t,n,r,o,i=e.$myShifts,a=[],s=0;s<i.length;s+=1)a[s]=Ns(ps(e,i,s));return{c(){t=k("div"),n=k("select"),(r=k("option")).textContent="Select shift to propose\r\n                      ";for(var i=0;i<a.length;i+=1)a[i].c();r.__value="",r.value=r.__value,r.selected=!0,r.disabled=!0,r.hidden=!0,void 0===e.selectedShift&&Z(()=>e.select_change_handler.call(n)),C(n,"id","myShift-selector"),C(n,"class","custom-select"),C(t,"class","input-group mb-3"),o=N(n,"change",e.select_change_handler)},m(o,i){w(o,t,i),b(t,n),b(n,r);for(var s=0;s<a.length;s+=1)a[s].m(n,null);$(n,e.selectedShift)},p(e,t){if(e.$myShifts||e.formatDate||e.Date||e.dateFormat){i=t.$myShifts;for(var r=0;r<i.length;r+=1){const o=ps(t,i,r);a[r]?a[r].p(e,o):(a[r]=Ns(o),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}e.selectedShift&&$(n,t.selectedShift)},d(e){e&&E(t),S(a,e),o()}}}function Ns(e){var t,n,r,o,i,a="Starts "+Ga(new e.Date(e.choice.fromTime),$s)+" Ends "+Ga(new e.Date(e.choice.toTime),$s);return{c(){t=k("option"),n=k("p"),r=_(a),o=O(),C(n,"class","svelte-y24sho"),t.__value=i=e.choice,t.value=t.__value},m(e,i){w(e,t,i),b(t,n),b(n,r),b(t,o)},p(e,n){e.$myShifts&&a!==(a="Starts "+Ga(new n.Date(n.choice.fromTime),$s)+" Ends "+Ga(new n.Date(n.choice.toTime),$s))&&D(r,a),e.$myShifts&&i!==(i=n.choice)&&(t.__value=i),t.value=t.__value},d(e){e&&E(t)}}}function Ts(e){var t,n,r,o,i,a,s,c,u,l,d=Ga(new e.Date(e.selectedShift.fromTime),$s),f=Ga(new e.Date(e.selectedShift.toTime),$s);return{c(){t=k("p"),n=_("Starts "),r=_(d),o=O(),i=k("p"),a=_("Ends "),s=_(f),c=O(),(u=k("button")).textContent="Propose Selected Shift",C(t,"class","svelte-y24sho"),C(i,"class","svelte-y24sho"),C(u,"class","btn btn-primary"),l=N(u,"click",e.proposeShift)},m(e,l){w(e,t,l),b(t,n),b(t,r),w(e,o,l),w(e,i,l),b(i,a),b(i,s),w(e,c,l),w(e,u,l)},p(e,t){e.selectedShift&&d!==(d=Ga(new t.Date(t.selectedShift.fromTime),$s))&&D(r,d),e.selectedShift&&f!==(f=Ga(new t.Date(t.selectedShift.toTime),$s))&&D(s,f)},d(e){e&&(E(t),E(o),E(i),E(c),E(u)),l()}}}function Cs(e){var t;return{c(){(t=k("div")).innerHTML='<h5 class="svelte-y24sho">\n\t\t\t          You do not have any staff on your company yet, please send invites to\n\t\t\t          your employees for them to start swapping shifts.\n\t\t\t        </h5>'},m(e,n){w(e,t,n)},d(e){e&&E(t)}}}function Ds(e){var t;return{c(){(t=k("div")).innerHTML='<h5 class="svelte-y24sho">\n\t\t\t          You are not a member of any company yet, please request an invite from\n\t\t\t          your company\'s admin to start swapping shifts with your colleagues.\n\t\t\t        </h5>'},m(e,n){w(e,t,n)},d(e){e&&E(t)}}}function xs(e){var t,n,r,o,i,a=[ms,vs],s=[];function c(e){return e.$connections.length<1?0:1}return n=c(e),r=s[n]=a[n](e),{c(){t=k("main"),r.c(),C(t,"class","svelte-y24sho")},m(e,r){w(e,t,r),s[n].m(t,null),i=!0},p(e,o){var i=n;(n=c(o))===i?s[n].p(e,o):(se(),le(s[i],1,1,()=>{s[i]=null}),ce(),(r=s[n])||(r=s[n]=a[n](o)).c(),ue(r,1),r.m(t,null))},i(e){i||(ue(r),o||Z(()=>{(o=de(t,$e,{duration:500})).start()}),i=!0)},o(e){le(r),i=!1},d(e){e&&E(t),s[n].d()}}}let $s="#{l}, #{F} #{j}, #{Y} at #{H}:#{i}";function Ms(e,t,n){let r,o,i,a,s,u;c(e,je,e=>{n("$shifts",r=e)}),c(e,Fe,e=>{n("$connections",o=e)}),c(e,Pe,e=>{n("$user",i=e)}),c(e,Ve,e=>{n("$myShifts",a=e)});let l,d,f,h,p=!1,v=!1,m=[];const y=En();return e.$$.update=((e={$shifts:1,dateFormat:1,bodies:1})=>{(e.$shifts||e.dateFormat||e.bodies)&&r.length>0&&(r.forEach(e=>{let t={id:e.id,From:Ga(new Date(e.fromTime),$s),To:Ga(new Date(e.toTime),$s),"Posted By":e.postedBy.userprofile.firstName+" "+e.postedBy.userprofile.lastName,Note:e.note};m.push(t)}),n("bodies",m),n("$shifts",r),n("dateFormat",$s))}),{selectedShift:s,clickedShift:u,showing:p,popoverWrapper:f,content:h,heads:["From","To","Posted By","Note"],bodies:m,proposeShift:async function(){if(!0!==v)if(s&&u){v=!0;try{await On(y,{mutation:la,variables:{proposedShiftId:s.id,shiftId:u.id}}).then(e=>{console.log(e.data.createShiftConnection.shiftConnection),wa.success("Shift Request Sent"),v=!1})}catch(e){wa.danger(e.message),v=!1}}else wa.danger("You must select a shift to propose");else wa.info("A Shift Request is in progress!")},handleClickedShift:function(e,t){if(!0===v)return void wa.info("A Shift Request is in progress!");if(!0===p&&u.id===e.id)return n("showing",p=!1),n("clickedShift",u=null),f.style.display="none",void n("popoverWrapper",f);n("showing",p=!1),n("selectedShift",s=null),f.style.display="inline-block",n("popoverWrapper",f);let o=h.getBoundingClientRect(),i=t.getBoundingClientRect();f.firstChild.getBoundingClientRect(),l=i.left,d=i.top+i.height/3-o.height+window.scrollY,f.style.left=l+"px",n("popoverWrapper",f),f.style.top=d+"px",n("popoverWrapper",f),n("clickedShift",u=r.find(t=>t.id===e.id)),setTimeout(()=>{n("showing",p=!0)},1)},Date:Date,$connections:o,$user:i,$myShifts:a,select_change_handler:function(){s=M(this),n("selectedShift",s)},div1_binding:function(e){Y[e?"unshift":"push"](()=>{n("popoverWrapper",f=e)})},div2_binding:function(e){Y[e?"unshift":"push"](()=>{n("content",h=e)})}}}const Rs=(e,t,n)=>{let r=new Date(t,e,1);r.setDate(r.getDate()-r.getDay());let o=11===e?0:e+1,i=[];for(;r.getMonth()!==o||0!==r.getDay()||6!==i.length;)0===r.getDay()&&i.unshift({days:[],id:`${t}${e}${t}${i.length}`}),i[0].days.push({partOfMonth:r.getMonth()===e,date:new Date(r),...n(r)}),r.setDate(r.getDate()+1);return i.reverse(),{month:e,year:t,weeks:i}},As=(e,t,n)=>{let r=new Date;return r.setHours(0,0,0,0),o=>({selectable:o>=e&&o<=t&&(!n||n(o)),isToday:o.getTime()===r.getTime()})};const Ls=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear();function qs(e,t,n){const r=Object.create(e);return r.day=t[n],r}function Ps(e){var t,n,r,o,i,a=e.day.date.getDate();function s(){return e.click_handler(e)}return{c(){t=k("div"),n=k("button"),r=_(a),o=O(),C(n,"class","day--label svelte-7mtl66"),C(n,"type","button"),R(n,"selected",Ls(e.day.date,e.selected)),R(n,"highlighted",Ls(e.day.date,e.highlighted)),R(n,"shake-date",e.shouldShakeDate&&Ls(e.day.date,e.shouldShakeDate)),R(n,"disabled",!e.day.selectable),C(t,"class","day svelte-7mtl66"),R(t,"outside-month",!e.day.partOfMonth),R(t,"is-today",e.day.isToday),R(t,"is-disabled",!e.day.selectable),i=N(n,"click",s)},m(e,i){w(e,t,i),b(t,n),b(n,r),b(t,o)},p(o,i){e=i,o.days&&a!==(a=e.day.date.getDate())&&D(r,a),(o.areDatesEquivalent||o.days||o.selected)&&R(n,"selected",Ls(e.day.date,e.selected)),(o.areDatesEquivalent||o.days||o.highlighted)&&R(n,"highlighted",Ls(e.day.date,e.highlighted)),(o.shouldShakeDate||o.areDatesEquivalent||o.days)&&R(n,"shake-date",e.shouldShakeDate&&Ls(e.day.date,e.shouldShakeDate)),o.days&&(R(n,"disabled",!e.day.selectable),R(t,"outside-month",!e.day.partOfMonth),R(t,"is-today",e.day.isToday),R(t,"is-disabled",!e.day.selectable))},d(e){e&&E(t),i()}}}function Qs(e){for(var t,n,r,o,i=e.days,a=[],s=0;s<i.length;s+=1)a[s]=Ps(qs(e,i,s));return{c(){t=k("div");for(var e=0;e<a.length;e+=1)a[e].c();C(t,"class","week svelte-7mtl66")},m(e,n){w(e,t,n);for(var r=0;r<a.length;r+=1)a[r].m(t,null);o=!0},p(e,n){if(e.days||e.areDatesEquivalent||e.selected||e.highlighted||e.shouldShakeDate){i=n.days;for(var r=0;r<i.length;r+=1){const o=qs(n,i,r);a[r]?a[r].p(e,o):(a[r]=Ps(o),a[r].c(),a[r].m(t,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}},i(i){o||(Z(()=>{r&&r.end(1),n||(n=de(t,Me,{x:50*e.direction,duration:180,delay:90})),n.start()}),o=!0)},o(e){n&&n.invalidate(),r=fe(t,$e,{duration:180}),o=!1},d(e){e&&E(t),S(a,e),e&&r&&r.end()}}}function Fs(e,t,n){const r=U();let{days:o,selected:i,start:a,end:s,highlighted:c,shouldShakeDate:u,direction:l}=t;return e.$set=(e=>{"days"in e&&n("days",o=e.days),"selected"in e&&n("selected",i=e.selected),"start"in e&&n("start",a=e.start),"end"in e&&n("end",s=e.end),"highlighted"in e&&n("highlighted",c=e.highlighted),"shouldShakeDate"in e&&n("shouldShakeDate",u=e.shouldShakeDate),"direction"in e&&n("direction",l=e.direction)}),{dispatch:r,days:o,selected:i,start:a,end:s,highlighted:c,shouldShakeDate:u,direction:l,click_handler:function({day:e}){return r("dateSelected",e.date)}}}class js extends we{constructor(e){super(),be(this,e,Fs,Qs,s,["days","selected","start","end","highlighted","shouldShakeDate","direction"])}}function Vs(e,t,n){const r=Object.create(e);return r.week=t[n],r}function Bs(e,t){var n,r,o=new js({props:{days:t.week.days,selected:t.selected,start:t.start,end:t.end,highlighted:t.highlighted,shouldShakeDate:t.shouldShakeDate,direction:t.direction}});return o.$on("dateSelected",t.dateSelected_handler),{key:e,first:null,c(){n=I(),o.$$.fragment.c(),this.first=n},m(e,t){w(e,n,t),ye(o,e,t),r=!0},p(e,t){var n={};e.visibleMonth&&(n.days=t.week.days),e.selected&&(n.selected=t.selected),e.start&&(n.start=t.start),e.end&&(n.end=t.end),e.highlighted&&(n.highlighted=t.highlighted),e.shouldShakeDate&&(n.shouldShakeDate=t.shouldShakeDate),e.direction&&(n.direction=t.direction),o.$set(n)},i(e){r||(ue(o.$$.fragment,e),r=!0)},o(e){le(o.$$.fragment,e),r=!1},d(e){e&&E(n),ge(o,e)}}}function Us(e){var t,n,r=[],o=new Map,i=e.visibleMonth.weeks;const a=e=>e.week.id;for(var s=0;s<i.length;s+=1){let t=Vs(e,i,s),n=a(t);o.set(n,r[s]=Bs(n,t))}return{c(){for(t=k("div"),s=0;s<r.length;s+=1)r[s].c();C(t,"class","month-container svelte-ny3kda")},m(e,o){for(w(e,t,o),s=0;s<r.length;s+=1)r[s].m(t,null);n=!0},p(e,n){const i=n.visibleMonth.weeks;se(),r=ve(r,e,a,1,n,i,o,t,pe,Bs,null,Vs),ce()},i(e){if(!n){for(var t=0;t<i.length;t+=1)ue(r[t]);n=!0}},o(e){for(s=0;s<r.length;s+=1)le(r[s]);n=!1},d(e){for(e&&E(t),s=0;s<r.length;s+=1)r[s].d()}}}function Gs(e,t,n){let r,{id:o,visibleMonth:i,selected:a,start:s,end:c,highlighted:u,shouldShakeDate:l}=t,d=o;return e.$set=(e=>{"id"in e&&n("id",o=e.id),"visibleMonth"in e&&n("visibleMonth",i=e.visibleMonth),"selected"in e&&n("selected",a=e.selected),"start"in e&&n("start",s=e.start),"end"in e&&n("end",c=e.end),"highlighted"in e&&n("highlighted",u=e.highlighted),"shouldShakeDate"in e&&n("shouldShakeDate",l=e.shouldShakeDate)}),e.$$.update=((e={lastId:1,id:1})=>{(e.lastId||e.id)&&(n("direction",r=d<o?1:-1),n("lastId",d=o))}),{id:o,visibleMonth:i,selected:a,start:s,end:c,highlighted:u,shouldShakeDate:l,direction:r,dateSelected_handler:function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}(e,t)}}}class Ys extends we{constructor(e){super(),be(this,e,Gs,Us,s,["id","visibleMonth","selected","start","end","highlighted","shouldShakeDate"])}}const Hs=[{name:"January",abbrev:"Jan"},{name:"February",abbrev:"Feb"},{name:"March",abbrev:"Mar"},{name:"April",abbrev:"Apr"},{name:"May",abbrev:"May"},{name:"June",abbrev:"Jun"},{name:"July",abbrev:"Jul"},{name:"August",abbrev:"Aug"},{name:"September",abbrev:"Sep"},{name:"October",abbrev:"Oct"},{name:"November",abbrev:"Nov"},{name:"December",abbrev:"Dec"}],Js=[{name:"Sunday",abbrev:"Sun"},{name:"Monday",abbrev:"Mon"},{name:"Tuesday",abbrev:"Tue"},{name:"Wednesday",abbrev:"Wed"},{name:"Thursday",abbrev:"Thu"},{name:"Friday",abbrev:"Fri"},{name:"Saturday",abbrev:"Sat"}];function zs(e,t,n){const r=Object.create(e);return r.monthDefinition=t[n],r.index=n,r}function Ws(e){var t,n,r,o,i,a=e.monthDefinition.abbrev;function s(...t){return e.click_handler_2(e,...t)}return{c(){t=k("div"),n=k("span"),r=_(a),o=O(),C(n,"class","svelte-gfrd1b"),C(t,"class","month-selector--month svelte-gfrd1b"),R(t,"selected",e.index===e.month),R(t,"selectable",e.monthDefinition.selectable),i=N(t,"click",s)},m(e,i){w(e,t,i),b(t,n),b(n,r),b(t,o)},p(n,o){e=o,n.availableMonths&&a!==(a=e.monthDefinition.abbrev)&&D(r,a),n.month&&R(t,"selected",e.index===e.month),n.availableMonths&&R(t,"selectable",e.monthDefinition.selectable)},d(e){e&&E(t),i()}}}function Ks(t){for(var n,r,o,a,s,c,u,l,d,f,h,p,v,m=Hs[t.month].name,y=t.availableMonths,g=[],I=0;I<y.length;I+=1)g[I]=Ws(zs(t,y,I));return{c(){n=k("div"),r=k("div"),(o=k("div")).innerHTML='<i class="arrow left svelte-gfrd1b"></i>',a=O(),s=k("div"),c=_(m),u=O(),l=_(t.year),d=O(),(f=k("div")).innerHTML='<i class="arrow right svelte-gfrd1b"></i>',h=O(),p=k("div");for(var e=0;e<g.length;e+=1)g[e].c();C(o,"class","control svelte-gfrd1b"),R(o,"enabled",t.canDecrementMonth),C(s,"class","label svelte-gfrd1b"),C(f,"class","control svelte-gfrd1b"),R(f,"enabled",t.canIncrementMonth),C(r,"class","heading-section svelte-gfrd1b"),C(p,"class","month-selector svelte-gfrd1b"),R(p,"open",t.monthSelectorOpen),C(n,"class","title"),v=[N(o,"click",t.click_handler),N(s,"click",t.toggleMonthSelectorOpen),N(f,"click",t.click_handler_1)]},m(e,t){w(e,n,t),b(n,r),b(r,o),b(r,a),b(r,s),b(s,c),b(s,u),b(s,l),b(r,d),b(r,f),b(n,h),b(n,p);for(var i=0;i<g.length;i+=1)g[i].m(p,null)},p(e,t){if(e.canDecrementMonth&&R(o,"enabled",t.canDecrementMonth),e.month&&m!==(m=Hs[t.month].name)&&D(c,m),e.year&&D(l,t.year),e.canIncrementMonth&&R(f,"enabled",t.canIncrementMonth),e.month||e.availableMonths){y=t.availableMonths;for(var n=0;n<y.length;n+=1){const r=zs(t,y,n);g[n]?g[n].p(e,r):(g[n]=Ws(r),g[n].c(),g[n].m(p,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=y.length}e.monthSelectorOpen&&R(p,"open",t.monthSelectorOpen)},i:e,o:e,d(e){e&&E(n),S(g,e),i(v)}}}function Xs(e,t,n){const r=U();let o,{month:i,start:a,end:s,year:c,canIncrementMonth:u,canDecrementMonth:l}=t,d=!1;function f(){n("monthSelectorOpen",d=!d)}function h(e,t){e.stopPropagation(),r("monthSelected",t),f()}return e.$set=(e=>{"month"in e&&n("month",i=e.month),"start"in e&&n("start",a=e.start),"end"in e&&n("end",s=e.end),"year"in e&&n("year",c=e.year),"canIncrementMonth"in e&&n("canIncrementMonth",u=e.canIncrementMonth),"canDecrementMonth"in e&&n("canDecrementMonth",l=e.canDecrementMonth)}),e.$$.update=((e={start:1,year:1,end:1})=>{if(e.start||e.year||e.end){let e=a.getFullYear()===c,t=s.getFullYear()===c;n("availableMonths",o=Hs.map((n,r)=>({...n,selectable:!e&&!t||(!e||r>=a.getMonth())&&(!t||r<=s.getMonth())})))}}),{dispatch:r,month:i,start:a,end:s,year:c,canIncrementMonth:u,canDecrementMonth:l,monthSelectorOpen:d,availableMonths:o,toggleMonthSelectorOpen:f,monthSelected:h,click_handler:function(){return r("incrementMonth",-1)},click_handler_1:function(){return r("incrementMonth",1)},click_handler_2:function({index:e},t){return h(t,e)}}}class Zs extends we{constructor(e){super(),be(this,e,Xs,Ks,s,["month","start","end","year","canIncrementMonth","canDecrementMonth"])}}const{window:ec}=he,tc=()=>({}),nc=()=>({}),rc=()=>({}),oc=()=>({});function ic(e){var t,n,r,o,a,s,c,f;Z(e.onwindowresize);const h=e.$$slots.trigger,p=u(h,e,oc),v=e.$$slots.contents,m=u(v,e,nc);return{c(){t=k("div"),n=k("div"),p&&p.c(),r=O(),o=k("div"),a=k("div"),s=k("div"),m&&m.c(),C(n,"class","trigger"),C(s,"class","contents-inner svelte-1abig9l"),C(a,"class","contents svelte-1abig9l"),C(o,"class","contents-wrapper svelte-1abig9l"),x(o,"transform","translate(-50%,-50%) translate("+e.translateX+"px, "+e.translateY+"px)"),R(o,"visible",e.open),R(o,"shrink",e.shrink),C(t,"class","popover svelte-1abig9l"),f=[N(ec,"resize",e.onwindowresize),N(n,"click",e.doOpen)]},l(e){p&&p.l(div0_nodes),m&&m.l(div1_nodes)},m(i,u){w(i,t,u),b(t,n),p&&p.m(n,null),e.div0_binding(n),b(t,r),b(t,o),b(o,a),b(a,s),m&&m.m(s,null),e.div2_binding(a),e.div3_binding(o),e.div4_binding(t),c=!0},p(e,t){p&&p.p&&e.$$scope&&p.p(d(h,t,e,rc),l(h,t,oc)),m&&m.p&&e.$$scope&&m.p(d(v,t,e,tc),l(v,t,nc)),(!c||e.translateX||e.translateY)&&x(o,"transform","translate(-50%,-50%) translate("+t.translateX+"px, "+t.translateY+"px)"),e.open&&R(o,"visible",t.open),e.shrink&&R(o,"shrink",t.shrink)},i(e){c||(ue(p,e),ue(m,e),c=!0)},o(e){le(p,e),le(m,e),c=!1},d(n){n&&E(t),p&&p.d(n),e.div0_binding(null),m&&m.d(n),e.div2_binding(null),e.div3_binding(null),e.div4_binding(null),i(f)}}}function ac(e,t,n){const r=U();let o,i,a,s,c,u=(e,t,n)=>{e.addEventListener(t,function r(){n.apply(this,arguments),e.removeEventListener(t,r)})},l=0,d=0,{open:f=!1,shrink:h,trigger:p}=t;const v=()=>{n("shrink",h=!0),u(s,"animationend",()=>{n("shrink",h=!1),n("open",f=!1),r("closed")})};function m(e){if(!f)return;let t=e.target;do{if(t===o)return}while(t=t.parentNode);v()}B(()=>{if(document.addEventListener("click",m),p)return a.appendChild(p.parentNode.removeChild(p)),()=>{document.removeEventListener("click",m)}});const y=async()=>{f||n("open",f=!0),await(X(),z);let e=c.getBoundingClientRect();return{top:e.top+-1*l,bottom:window.innerHeight-e.bottom+l,left:e.left+-1*d,right:document.body.clientWidth-e.right+d}};let{$$slots:g={},$$scope:b}=t;return e.$set=(e=>{"open"in e&&n("open",f=e.open),"shrink"in e&&n("shrink",h=e.shrink),"trigger"in e&&n("trigger",p=e.trigger),"$$scope"in e&&n("$$scope",b=e.$$scope)}),{popover:o,w:i,triggerContainer:a,contentsAnimated:s,contentsWrapper:c,translateY:l,translateX:d,open:f,shrink:h,trigger:p,close:v,doOpen:async()=>{const{x:e,y:t}=await(async()=>{let e,t,n=await y();return t=i<480?n.bottom:n.top<0?Math.abs(n.top):n.bottom<0?n.bottom:0,{x:e=n.left<0?Math.abs(n.left):n.right<0?n.right:0,y:t}})();n("translateX",d=e),n("translateY",l=t),n("open",f=!0),r("opened")},onwindowresize:function(){i=ec.innerWidth,n("w",i)},div0_binding:function(e){Y[e?"unshift":"push"](()=>{n("triggerContainer",a=e)})},div2_binding:function(e){Y[e?"unshift":"push"](()=>{n("contentsAnimated",s=e)})},div3_binding:function(e){Y[e?"unshift":"push"](()=>{n("contentsWrapper",c=e)})},div4_binding:function(e){Y[e?"unshift":"push"](()=>{n("popover",o=e)})},$$slots:g,$$scope:b}}class sc extends we{constructor(e){super(),be(this,e,ac,ic,s,["open","shrink","trigger","close"])}get close(){return this.$$.ctx.close}}const cc={left:37,up:38,right:39,down:40,pgup:33,pgdown:34,enter:13,escape:27,tab:9},uc=Object.keys(cc).map(e=>cc[e]);function lc(e,t,n){const r=Object.create(e);return r.day=t[n],r}function dc(e){var t,n;return{c(){t=k("button"),n=_(e.formattedSelected),C(t,"class","calendar-button svelte-1kuaxoc"),C(t,"type","button")},m(e,r){w(e,t,r),b(t,n)},p(e,t){e.formattedSelected&&D(n,t.formattedSelected)},d(e){e&&E(t)}}}function fc(e){var t,n;const r=e.$$slots.default,o=u(r,e,null);var i=!e.trigger&&dc(e);return{c(){t=k("div"),o||i&&i.c(),o&&o.c(),C(t,"slot","trigger"),C(t,"class","svelte-1kuaxoc")},l(e){o&&o.l(div_nodes)},m(e,r){w(e,t,r),o?o.m(t,null):i&&i.m(t,null),n=!0},p(e,n){o||(n.trigger?i&&(i.d(1),i=null):i?i.p(e,n):((i=dc(n)).c(),i.m(t,null))),o&&o.p&&e.$$scope&&o.p(d(r,n,e,null),l(r,n,null))},i(e){n||(ue(o,e),n=!0)},o(e){le(o,e),n=!1},d(e){e&&E(t),o||i&&i.d(),o&&o.d(e)}}}function hc(t){var n,r,o=t.day.abbrev;return{c(){n=k("span"),r=_(o),C(n,"class","svelte-1kuaxoc")},m(e,t){w(e,n,t),b(n,r)},p:e,d(e){e&&E(n)}}}function pc(e){var t,n,r,o,i,a,s=new Zs({props:{month:e.month,year:e.year,start:e.start,end:e.end,canIncrementMonth:e.canIncrementMonth,canDecrementMonth:e.canDecrementMonth}});s.$on("monthSelected",e.monthSelected_handler),s.$on("incrementMonth",e.incrementMonth_handler);for(var c=Js,u=[],l=0;l<c.length;l+=1)u[l]=hc(lc(e,c,l));var d=new Ys({props:{visibleMonth:e.visibleMonth,selected:e.selected,highlighted:e.highlighted,shouldShakeDate:e.shouldShakeDate,start:e.start,end:e.end,id:e.visibleMonthId}});return d.$on("dateSelected",e.dateSelected_handler),{c(){t=k("div"),n=k("div"),s.$$.fragment.c(),r=O(),o=k("div");for(var e=0;e<u.length;e+=1)u[e].c();i=O(),d.$$.fragment.c(),C(o,"class","legend svelte-1kuaxoc"),C(n,"class","calendar svelte-1kuaxoc"),C(t,"slot","contents"),C(t,"class","svelte-1kuaxoc")},m(e,c){w(e,t,c),b(t,n),ye(s,n,null),b(n,r),b(n,o);for(var l=0;l<u.length;l+=1)u[l].m(o,null);b(n,i),ye(d,n,null),a=!0},p(e,t){var n={};if(e.month&&(n.month=t.month),e.year&&(n.year=t.year),e.start&&(n.start=t.start),e.end&&(n.end=t.end),e.canIncrementMonth&&(n.canIncrementMonth=t.canIncrementMonth),e.canDecrementMonth&&(n.canDecrementMonth=t.canDecrementMonth),s.$set(n),e.dayDict){c=Js;for(var r=0;r<c.length;r+=1){const n=lc(t,c,r);u[r]?u[r].p(e,n):(u[r]=hc(n),u[r].c(),u[r].m(o,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=c.length}var i={};e.visibleMonth&&(i.visibleMonth=t.visibleMonth),e.selected&&(i.selected=t.selected),e.highlighted&&(i.highlighted=t.highlighted),e.shouldShakeDate&&(i.shouldShakeDate=t.shouldShakeDate),e.start&&(i.start=t.start),e.end&&(i.end=t.end),e.visibleMonthId&&(i.id=t.visibleMonthId),d.$set(i)},i(e){a||(ue(s.$$.fragment,e),ue(d.$$.fragment,e),a=!0)},o(e){le(s.$$.fragment,e),le(d.$$.fragment,e),a=!1},d(e){e&&E(t),ge(s),S(u,e),ge(d)}}}function vc(t){var n;return{c(){n=O()},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&E(n)}}}function mc(e){var t,n,r,o;function i(t){e.popover_1_open_binding.call(null,t),n=!0,ee(()=>n=!1)}function a(t){e.popover_1_shrink_binding.call(null,t),r=!0,ee(()=>r=!1)}let s={trigger:e.trigger,$$slots:{default:[vc],contents:[pc],trigger:[fc]},$$scope:{ctx:e}};void 0!==e.isOpen&&(s.open=e.isOpen),void 0!==e.isClosing&&(s.shrink=e.isClosing);var c=new sc({props:s});return e.popover_1_binding(c),Y.push(()=>me(c,"open",i)),Y.push(()=>me(c,"shrink",a)),c.$on("opened",e.registerOpen),c.$on("closed",e.registerClose),{c(){t=k("div"),c.$$.fragment.c(),C(t,"class","datepicker svelte-1kuaxoc"),R(t,"open",e.isOpen),R(t,"closing",e.isClosing)},m(e,n){w(e,t,n),ye(c,t,null),o=!0},p(e,o){var i={};e.trigger&&(i.trigger=o.trigger),(e.$$scope||e.visibleMonth||e.selected||e.highlighted||e.shouldShakeDate||e.start||e.end||e.visibleMonthId||e.month||e.year||e.canIncrementMonth||e.canDecrementMonth||e.trigger||e.formattedSelected)&&(i.$$scope={changed:e,ctx:o}),!n&&e.isOpen&&(i.open=o.isOpen),!r&&e.isClosing&&(i.shrink=o.isClosing),c.$set(i),e.isOpen&&R(t,"open",o.isOpen),e.isClosing&&R(t,"closing",o.isClosing)},i(e){o||(ue(c.$$.fragment,e),o=!0)},o(e){le(c.$$.fragment,e),o=!1},d(n){n&&E(t),e.popover_1_binding(null),ge(c)}}}function yc(e,t,n){const r=U(),o=new Date;let i,a,{format:s="#{m}/#{d}/#{Y}",start:c=new Date(1987,9,29),end:u=new Date(2020,9,29),selected:l=o,dateChosen:d=!1,trigger:f=null,selectableCallback:h=null}=t,p=o,v=!1,m=o.getMonth(),y=o.getFullYear(),g=!1,b=!1;o.setHours(0,0,0,0);let w=0,{formattedSelected:E}=t;function S(e){n("month",m=e)}function k(e,t){if(1===e&&!L)return;if(-1===e&&!q)return;let r=new Date(y,m,1);r.setMonth(r.getMonth()+e),n("month",m=r.getMonth()),n("year",y=r.getFullYear()),n("highlighted",p=new Date(y,m,t||1))}function _(e){return n("highlighted",p=new Date(p)),p.setDate(p.getDate()+e),e>0&&p>R?k(1,p.getDate()):e<0&&p<A?k(-1,p.getDate()):p}function O(e){const t=function(e,t){for(let n=0;n<e.weeks.length;n+=1)for(let r=0;r<e.weeks[n].days.length;r+=1)if(Ls(e.weeks[n].days[r].date,t))return e.weeks[n].days[r];return null}($,e);return!!t&&t.selectable}function I(e){!function(e){f&&(f.innerHTML=e,n("trigger",f))}(e)}function N(e){return O(e)?(D(),n("selected",l=e),n("dateChosen",d=!0),I(E),r("dateSelected",{date:e})):(t=e,clearTimeout(a),n("shouldShakeDate",v=t),void(a=setTimeout(()=>{n("shouldShakeDate",v=!1)},700)));var t}function T(e){if(-1!==uc.indexOf(e.keyCode))switch(e.preventDefault(),e.keyCode){case cc.left:_(-1);break;case cc.up:_(-7);break;case cc.right:_(1);break;case cc.down:_(7);break;case cc.pgup:k(-1);break;case cc.pgdown:k(1);break;case cc.escape:D();break;case cc.enter:N(p)}}function C(){document.removeEventListener("keydown",T),r("close")}function D(){i.close(),C()}B(()=>{n("month",m=l.getMonth()),n("year",y=l.getFullYear())});let x,$,M,R,A,L,q,{$$slots:P={},$$scope:Q}=t;return e.$set=(e=>{"format"in e&&n("format",s=e.format),"start"in e&&n("start",c=e.start),"end"in e&&n("end",u=e.end),"selected"in e&&n("selected",l=e.selected),"dateChosen"in e&&n("dateChosen",d=e.dateChosen),"trigger"in e&&n("trigger",f=e.trigger),"selectableCallback"in e&&n("selectableCallback",h=e.selectableCallback),"formattedSelected"in e&&n("formattedSelected",E=e.formattedSelected),"$$scope"in e&&n("$$scope",Q=e.$$scope)}),e.$$.update=((e={start:1,end:1,selectableCallback:1,months:1,month:1,year:1,monthIndex:1,visibleMonth:1,selected:1,format:1})=>{if((e.start||e.end||e.selectableCallback)&&n("months",x=function(e,t,n=null){e.setHours(0,0,0,0),t.setHours(0,0,0,0);let r=new Date(t.getFullYear(),t.getMonth()+1,1),o=[],i=new Date(e.getFullYear(),e.getMonth(),1),a=As(e,t,n);for(;i<r;)o.push(Rs(i.getMonth(),i.getFullYear(),a)),i.setMonth(i.getMonth()+1);return o}(c,u,h)),e.months||e.month||e.year){n("monthIndex",w=0);for(let e=0;e<x.length;e+=1)x[e].month===m&&x[e].year===y&&n("monthIndex",w=e)}(e.months||e.monthIndex)&&n("visibleMonth",$=x[w]),(e.year||e.month)&&n("visibleMonthId",M=y+m/100),e.visibleMonth&&(R=$.weeks[$.weeks.length-1].days[6].date),e.visibleMonth&&(A=$.weeks[0].days[0].date),(e.monthIndex||e.months)&&n("canIncrementMonth",L=w<x.length-1),e.monthIndex&&n("canDecrementMonth",q=w>0),(e.selected||e.format)&&n("formattedSelected",E=Ga(l,s))}),{popover:i,format:s,start:c,end:u,selected:l,dateChosen:d,trigger:f,selectableCallback:h,highlighted:p,shouldShakeDate:v,month:m,year:y,isOpen:g,isClosing:b,formattedSelected:E,changeMonth:S,incrementMonth:k,registerSelection:N,registerClose:C,registerOpen:function(){n("highlighted",p=new Date(l)),n("month",m=l.getMonth()),n("year",y=l.getFullYear()),document.addEventListener("keydown",T),r("open")},visibleMonth:$,visibleMonthId:M,canIncrementMonth:L,canDecrementMonth:q,monthSelected_handler:function(e){return S(e.detail)},incrementMonth_handler:function(e){return k(e.detail)},dateSelected_handler:function(e){return N(e.detail)},popover_1_binding:function(e){Y[e?"unshift":"push"](()=>{n("popover",i=e)})},popover_1_open_binding:function(e){n("isOpen",g=e)},popover_1_shrink_binding:function(e){n("isClosing",b=e)},$$slots:P,$$scope:Q}}class gc extends we{constructor(e){super(),be(this,e,yc,mc,s,["format","start","end","selected","dateChosen","trigger","selectableCallback","formattedSelected"])}}function bc(e,t,n){const r=Object.create(e);return r.choice=t[n],r}function wc(e,t,n){const r=Object.create(e);return r.choice=t[n],r}function Ec(e,t,n){const r=Object.create(e);return r.choice=t[n],r}function Sc(e,t,n){const r=Object.create(e);return r.choice=t[n],r}function kc(t){var n;return{c(){(n=k("div")).innerHTML="<h5>\n\t\t\t          You are not a member of any company yet, please request an invite from\n\t\t\t          your company's admin to start swapping shifts with your colleagues.\n\t\t\t        </h5>"},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&E(n)}}}function _c(e){var t,n,r,o,i=[Ic,Oc],a=[];function s(e){return Object.entries(e.$selectedCompany).length>0?0:1}return t=s(e),n=a[t]=i[t](e),{c(){n.c(),r=I()},m(e,n){a[t].m(e,n),w(e,r,n),o=!0},p(e,o){var c=t;(t=s(o))===c?a[t].p(e,o):(se(),le(a[c],1,1,()=>{a[c]=null}),ce(),(n=a[t])||(n=a[t]=i[t](o)).c(),ue(n,1),n.m(r.parentNode,r))},i(e){o||(ue(n),o=!0)},o(e){le(n),o=!1},d(e){a[t].d(e),e&&E(r)}}}function Oc(t){var n;return{c(){(n=k("h5")).textContent="Please select a company at the top to post shifts"},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&E(n)}}}function Ic(e){var t,n,r,o,a,s,c,u,l,d,f,h,p,v,m,y,g,_,I,D,x,M,R,A,L,q,P,Q,F,j,V;function B(t){e.datepicker0_formattedSelected_binding.call(null,t),s=!0,ee(()=>s=!1)}function U(t){e.datepicker0_dateChosen_binding.call(null,t),c=!0,ee(()=>c=!1)}let G={format:Bc,start:e.fromCalendarStartDate,$$slots:{default:[Nc]},$$scope:{ctx:e}};void 0!==e.fromDate&&(G.formattedSelected=e.fromDate),void 0!==e.fromDateChosen&&(G.dateChosen=e.fromDateChosen);var H=new gc({props:G});Y.push(()=>me(H,"formattedSelected",B)),Y.push(()=>me(H,"dateChosen",U)),H.$on("open",e.open_handler),H.$on("close",e.close_handler);for(var J=e.hourList,z=[],W=0;W<J.length;W+=1)z[W]=Dc(Sc(e,J,W));var K=e.minuteList,X=[];for(W=0;W<K.length;W+=1)X[W]=Mc(Ec(e,K,W));function te(t){e.datepicker1_formattedSelected_binding.call(null,t),y=!0,ee(()=>y=!1)}function ne(t){e.datepicker1_dateChosen_binding.call(null,t),g=!0,ee(()=>g=!1)}let re={format:Bc,start:e.toCalendarStartDate,$$slots:{default:[Ac]},$$scope:{ctx:e}};void 0!==e.toDate&&(re.formattedSelected=e.toDate),void 0!==e.toDateChosen&&(re.dateChosen=e.toDateChosen);var oe=new gc({props:re});Y.push(()=>me(oe,"formattedSelected",te)),Y.push(()=>me(oe,"dateChosen",ne));var ie=e.hourList,ae=[];for(W=0;W<ie.length;W+=1)ae[W]=Pc(wc(e,ie,W));var se=e.minuteList,ce=[];for(W=0;W<se.length;W+=1)ce[W]=jc(bc(e,se,W));return{c(){t=k("div"),n=k("form"),r=k("div"),(o=k("h5")).textContent="From :",a=O(),H.$$.fragment.c(),u=O(),l=k("select");for(var i=0;i<z.length;i+=1)z[i].c();d=O(),f=k("select");for(i=0;i<X.length;i+=1)X[i].c();h=O(),p=k("div"),(v=k("h5")).textContent="To :",m=O(),oe.$$.fragment.c(),_=O(),I=k("select");for(i=0;i<ae.length;i+=1)ae[i].c();D=O(),x=k("select");for(i=0;i<ce.length;i+=1)ce[i].c();M=O(),R=k("div"),(A=k("h5")).textContent="Note :",L=O(),q=k("textarea"),P=O(),(Q=k("div")).innerHTML='<button type="submit" class="btn btn-primary form-control postShift-btn svelte-1pvagza">\n\t\t\t                Post Shift\n\t\t\t              </button>',void 0===e.fromHour&&Z(()=>e.select0_change_handler.call(l)),C(l,"aria-describedby","inputGroupSelect01"),C(l,"class","custom-select time-field svelte-1pvagza"),void 0===e.fromMinute&&Z(()=>e.select1_change_handler.call(f)),C(f,"aria-describedby","inputGroupSelect01"),C(f,"class","custom-select time-field svelte-1pvagza"),C(r,"class",""),void 0===e.toHour&&Z(()=>e.select2_change_handler.call(I)),C(I,"aria-describedby","inputGroupSelect01"),C(I,"class","custom-select time-field svelte-1pvagza"),void 0===e.toMinute&&Z(()=>e.select3_change_handler.call(x)),C(x,"aria-describedby","inputGroupSelect01"),C(x,"class","custom-select time-field svelte-1pvagza"),C(p,"class",""),C(q,"class","form-control"),C(q,"name","note"),C(q,"id","note"),C(q,"cols",""),C(q,"rows",""),C(q,"placeholder","Enter a short note about this shift"),C(R,"class",""),C(Q,"class",""),C(n,"class",""),C(t,"class","jumbotron svelte-1pvagza"),V=[N(l,"change",e.select0_change_handler),N(f,"change",e.select1_change_handler),N(I,"change",e.select2_change_handler),N(x,"change",e.select3_change_handler),N(q,"input",e.textarea_input_handler),N(n,"submit",T(e.handleSubmit))]},m(i,s){w(i,t,s),b(t,n),b(n,r),b(r,o),b(r,a),ye(H,r,null),b(r,u),b(r,l);for(var c=0;c<z.length;c+=1)z[c].m(l,null);$(l,e.fromHour),b(r,d),b(r,f);for(c=0;c<X.length;c+=1)X[c].m(f,null);$(f,e.fromMinute),b(n,h),b(n,p),b(p,v),b(p,m),ye(oe,p,null),b(p,_),b(p,I);for(c=0;c<ae.length;c+=1)ae[c].m(I,null);$(I,e.toHour),b(p,D),b(p,x);for(c=0;c<ce.length;c+=1)ce[c].m(x,null);$(x,e.toMinute),b(n,M),b(n,R),b(R,A),b(R,L),b(R,q),q.value=e.note,b(n,P),b(n,Q),j=!0},p(e,t){var n={};if(e.dateFormat&&(n.format=Bc),e.fromCalendarStartDate&&(n.start=t.fromCalendarStartDate),(e.$$scope||e.fromDate)&&(n.$$scope={changed:e,ctx:t}),!s&&e.fromDate&&(n.formattedSelected=t.fromDate),!c&&e.fromDateChosen&&(n.dateChosen=t.fromDateChosen),H.$set(n),e.hourList){J=t.hourList;for(var r=0;r<J.length;r+=1){const n=Sc(t,J,r);z[r]?z[r].p(e,n):(z[r]=Dc(n),z[r].c(),z[r].m(l,null))}for(;r<z.length;r+=1)z[r].d(1);z.length=J.length}if(e.fromHour&&$(l,t.fromHour),e.minuteList){K=t.minuteList;for(r=0;r<K.length;r+=1){const n=Ec(t,K,r);X[r]?X[r].p(e,n):(X[r]=Mc(n),X[r].c(),X[r].m(f,null))}for(;r<X.length;r+=1)X[r].d(1);X.length=K.length}e.fromMinute&&$(f,t.fromMinute);var o={};if(e.dateFormat&&(o.format=Bc),e.toCalendarStartDate&&(o.start=t.toCalendarStartDate),(e.$$scope||e.fromClicked||e.toDate)&&(o.$$scope={changed:e,ctx:t}),!y&&e.toDate&&(o.formattedSelected=t.toDate),!g&&e.toDateChosen&&(o.dateChosen=t.toDateChosen),oe.$set(o),e.hourList){ie=t.hourList;for(r=0;r<ie.length;r+=1){const n=wc(t,ie,r);ae[r]?ae[r].p(e,n):(ae[r]=Pc(n),ae[r].c(),ae[r].m(I,null))}for(;r<ae.length;r+=1)ae[r].d(1);ae.length=ie.length}if(e.toHour&&$(I,t.toHour),e.minuteList){se=t.minuteList;for(r=0;r<se.length;r+=1){const n=bc(t,se,r);ce[r]?ce[r].p(e,n):(ce[r]=jc(n),ce[r].c(),ce[r].m(x,null))}for(;r<ce.length;r+=1)ce[r].d(1);ce.length=se.length}e.toMinute&&$(x,t.toMinute),e.note&&(q.value=t.note)},i(e){j||(ue(H.$$.fragment,e),ue(oe.$$.fragment,e),F||Z(()=>{(F=de(t,$e,{duration:500})).start()}),j=!0)},o(e){le(H.$$.fragment,e),le(oe.$$.fragment,e),j=!1},d(e){e&&E(t),ge(H),S(z,e),S(X,e),ge(oe),S(ae,e),S(ce,e),i(V)}}}function Nc(e){var t;return{c(){C(t=k("input"),"type","text"),C(t,"class","form-control date-field svelte-1pvagza"),t.value=e.fromDate,t.readOnly=!0,C(t,"placeholder","Pick a start date")},m(e,n){w(e,t,n)},p(e,n){e.fromDate&&(t.value=n.fromDate)},d(e){e&&E(t)}}}function Tc(e){var t,n=e.choice;return{c(){t=_(n)},m(e,n){w(e,t,n)},p(e,r){e.hourList&&n!==(n=r.choice)&&D(t,n)},d(e){e&&E(t)}}}function Cc(e){var t,n,r=e.choice;return{c(){t=_("0"),n=_(r)},m(e,r){w(e,t,r),w(e,n,r)},p(e,t){e.hourList&&r!==(r=t.choice)&&D(n,r)},d(e){e&&(E(t),E(n))}}}function Dc(e){var t,n,r;function o(e){return e.choice<10?Cc:Tc}var i=o(e),a=i(e);return{c(){t=k("option"),a.c(),n=O(),t.__value=r=e.choice,t.value=t.__value},m(e,r){w(e,t,r),a.m(t,null),b(t,n)},p(e,s){i===(i=o(s))&&a?a.p(e,s):(a.d(1),(a=i(s))&&(a.c(),a.m(t,n))),e.hourList&&r!==(r=s.choice)&&(t.__value=r),t.value=t.__value},d(e){e&&E(t),a.d()}}}function xc(e){var t,n=e.choice;return{c(){t=_(n)},m(e,n){w(e,t,n)},p(e,r){e.minuteList&&n!==(n=r.choice)&&D(t,n)},d(e){e&&E(t)}}}function $c(e){var t,n,r=e.choice;return{c(){t=_("0"),n=_(r)},m(e,r){w(e,t,r),w(e,n,r)},p(e,t){e.minuteList&&r!==(r=t.choice)&&D(n,r)},d(e){e&&(E(t),E(n))}}}function Mc(e){var t,n,r;function o(e){return e.choice<10?$c:xc}var i=o(e),a=i(e);return{c(){t=k("option"),a.c(),n=O(),t.__value=r=e.choice,t.value=t.__value},m(e,r){w(e,t,r),a.m(t,null),b(t,n)},p(e,s){i===(i=o(s))&&a?a.p(e,s):(a.d(1),(a=i(s))&&(a.c(),a.m(t,n))),e.minuteList&&r!==(r=s.choice)&&(t.__value=r),t.value=t.__value},d(e){e&&E(t),a.d()}}}function Rc(e){var t;return{c(){C(t=k("input"),"type","text"),C(t,"class","form-control date-field svelte-1pvagza"),t.value=e.toDate,t.readOnly=!0,C(t,"placeholder","Pick a end date")},m(e,n){w(e,t,n)},p(e,n){e.toDate&&(t.value=n.toDate)},d(e){e&&E(t)}}}function Ac(e){var t,n=!e.fromClicked&&Rc(e);return{c(){n&&n.c(),t=I()},m(e,r){n&&n.m(e,r),w(e,t,r)},p(e,r){r.fromClicked?n&&(n.d(1),n=null):n?n.p(e,r):((n=Rc(r)).c(),n.m(t.parentNode,t))},d(e){n&&n.d(e),e&&E(t)}}}function Lc(e){var t,n=e.choice;return{c(){t=_(n)},m(e,n){w(e,t,n)},p(e,r){e.hourList&&n!==(n=r.choice)&&D(t,n)},d(e){e&&E(t)}}}function qc(e){var t,n,r=e.choice;return{c(){t=_("0"),n=_(r)},m(e,r){w(e,t,r),w(e,n,r)},p(e,t){e.hourList&&r!==(r=t.choice)&&D(n,r)},d(e){e&&(E(t),E(n))}}}function Pc(e){var t,n,r;function o(e){return e.choice<10?qc:Lc}var i=o(e),a=i(e);return{c(){t=k("option"),a.c(),n=O(),t.__value=r=e.choice,t.value=t.__value},m(e,r){w(e,t,r),a.m(t,null),b(t,n)},p(e,s){i===(i=o(s))&&a?a.p(e,s):(a.d(1),(a=i(s))&&(a.c(),a.m(t,n))),e.hourList&&r!==(r=s.choice)&&(t.__value=r),t.value=t.__value},d(e){e&&E(t),a.d()}}}function Qc(e){var t,n=e.choice;return{c(){t=_(n)},m(e,n){w(e,t,n)},p(e,r){e.minuteList&&n!==(n=r.choice)&&D(t,n)},d(e){e&&E(t)}}}function Fc(e){var t,n,r=e.choice;return{c(){t=_("0"),n=_(r)},m(e,r){w(e,t,r),w(e,n,r)},p(e,t){e.minuteList&&r!==(r=t.choice)&&D(n,r)},d(e){e&&(E(t),E(n))}}}function jc(e){var t,n,r;function o(e){return e.choice<10?Fc:Qc}var i=o(e),a=i(e);return{c(){t=k("option"),a.c(),n=O(),t.__value=r=e.choice,t.value=t.__value},m(e,r){w(e,t,r),a.m(t,null),b(t,n)},p(e,s){i===(i=o(s))&&a?a.p(e,s):(a.d(1),(a=i(s))&&(a.c(),a.m(t,n))),e.minuteList&&r!==(r=s.choice)&&(t.__value=r),t.value=t.__value},d(e){e&&E(t),a.d()}}}function Vc(e){var t,n,r,o,i,a,s=[_c,kc],c=[];function u(e){return e.$connections.length>0?0:1}return r=u(e),o=c[r]=s[r](e),{c(){t=k("div"),n=k("main"),o.c(),C(n,"class","svelte-1pvagza")},m(e,o){w(e,t,o),b(t,n),c[r].m(n,null),a=!0},p(e,t){var i=r;(r=u(t))===i?c[r].p(e,t):(se(),le(c[i],1,1,()=>{c[i]=null}),ce(),(o=c[r])||(o=c[r]=s[r](t)).c(),ue(o,1),o.m(n,null))},i(e){a||(ue(o),i||Z(()=>{(i=de(t,$e,{duration:500})).start()}),a=!0)},o(e){le(o),a=!1},d(e){e&&E(t),c[r].d()}}}let Bc="#{l}, #{F} #{j}, #{Y}";function Uc(e,t,n){let r,o,i,a;c(e,Ve,e=>{n("$myShifts",r=e)}),c(e,je,e=>{n("$shifts",o=e)}),c(e,Ge,e=>{n("$selectedCompany",i=e)}),c(e,Fe,e=>{n("$connections",a=e)});const s=En();let u,l,d,f,h="",p=!1,v=Ga(new Date,Bc),m=Ga(new Date,Bc),y=new Date,g=new Date,b=new Date,w=0,E=0,S=0,k=0,_=new Array(24),O=new Array(60),I=!1,N=!1,T=!1;for(var C=0;C<_.length;C++)_[C]=C,n("hourList",_);for(C=0;C<O.length;C++)O[C]=C,n("minuteList",O);return e.$$.update=((e={fromDate:1,toCalendarEndDate:1,toCalendarStartDate:1})=>{e.fromDate&&n("toDate",m=v),(e.fromDate||e.toCalendarEndDate||e.toCalendarStartDate)&&(n("toCalendarStartDate",g=new Date(v)),b.setDate(g.getDate()+1))}),{note:h,fromDate:v,toDate:m,fromCalendarStartDate:y,toCalendarStartDate:g,fromHour:w,toHour:E,fromMinute:S,toMinute:k,hourList:_,minuteList:O,fromClicked:I,fromDateChosen:N,toDateChosen:T,handleSubmit:async function(){(f=i)?(u=new Date(v+", "+w+":"+S),l=new Date(m+", "+E+":"+k),u>=l?wa.danger("Shift end date must be higher than start date"):(d=f.id,p=!1,async function(){try{await On(s,{mutation:ua,variables:{fromTime:u,toTime:l,note:h,isSponsored:p,companyId:d}}).then(e=>{r=[...r,e.data.createShift.shift],Ve.set(r),o=[...o,e.data.createShift.shift],je.set(o),wa.success("Congrats, your shift has been posted")})}catch(e){wa.danger("Sorry, there was an error while posting your shift"),console.log(e)}}())):wa.danger("You must select a company to proceed")},$selectedCompany:i,$connections:a,datepicker0_formattedSelected_binding:function(e){n("fromDate",v=e)},datepicker0_dateChosen_binding:function(e){n("fromDateChosen",N=e)},open_handler:function(){n("fromClicked",I=!0)},close_handler:function(){n("fromClicked",I=!1)},select0_change_handler:function(){w=M(this),n("fromHour",w),n("hourList",_)},select1_change_handler:function(){S=M(this),n("fromMinute",S),n("minuteList",O)},datepicker1_formattedSelected_binding:function(e){n("toDate",m=e),n("fromDate",v)},datepicker1_dateChosen_binding:function(e){n("toDateChosen",T=e)},select2_change_handler:function(){E=M(this),n("toHour",E),n("hourList",_)},select3_change_handler:function(){k=M(this),n("toMinute",k),n("minuteList",O)},textarea_input_handler:function(){h=this.value,n("note",h)}}}function Gc(t){var n,r;return{c(){C(n=k("div"),"class","svelte-4qciy9")},m(e,t){w(e,n,t)},p:e,i(e){r||Z(()=>{(r=de(n,$e,{duration:500})).start()})},o:e,d(e){e&&E(n)}}}function Yc(e){const t=En();_n(t,{query:na}),_n(t,{query:sa});return B(async()=>{Te("/dashboard/shifts")}),{}}function Hc(t){var n,r,o,i;return{c(){n=k("main"),r=k("div"),o=k("p"),i=_(t.label),C(r,"class","card")},m(e,t){w(e,n,t),b(n,r),b(r,o),b(o,i)},p(e,t){e.label&&D(i,t.label)},i:e,o:e,d(e){e&&E(n)}}}function Jc(e){return new Promise(t=>setTimeout(t,e))}function zc(e,t,n){let r;c(e,Re,e=>{n("$isLoggedIn",r=e)});let{params:o={}}=t;const i=En();let a="Confirming invitation, please wait...";return B(async()=>{if(await Jc(3e3),!1===r){await async function(e,t){wa.danger(t,e),await Jc(e),Te("/login")}(2e3,"You are not Logged in, redirecting to the log in page...")}else!async function(){try{await On(i,{mutation:aa,variables:{invitationId:o.id}}).then(e=>{n("label",a="Congratulation, invitation confirmed!");let t="You have successfully joined "+e.data.confirmUserConnection.userConnection.company.userprofile.companyName;e.data.confirmUserConnection.userConnection.isConfirmed&&wa.success(t),setTimeout(()=>{Te("/dashboard/")},3500)})}catch(e){console.log(e),n("label",a="An error occurred"),wa.danger(a,1500),setTimeout(()=>{Te("/dashboard/")},1800)}}()}),e.$set=(e=>{"params"in e&&n("params",o=e.params)}),{params:o,label:a}}function Wc(e,t,n){const r=Object.create(e);return r.proposedShiftConnection=t[n],r}function Kc(e){var t;function n(e){return e.$user.isCompany?Xc:Zc}var r=n(e),o=r(e);return{c(){o.c(),t=I()},m(e,n){o.m(e,n),w(e,t,n)},p(e,i){r!==(r=n(i))&&(o.d(1),(o=r(i))&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&E(t)}}}function Xc(e){var t;return{c(){(t=k("div")).innerHTML='<h5 class="svelte-13bphp3">\n\t\t\t          You do not have any staff on your company yet, please send invites to\n\t\t\t          your employees for them to start swapping shifts.\n\t\t\t        </h5>'},m(e,n){w(e,t,n)},d(e){e&&E(t)}}}function Zc(e){var t;return{c(){(t=k("div")).innerHTML='<h5 class="svelte-13bphp3">\n\t\t\t          You are not a member of any company yet, please request an invite from\n\t\t\t          your company\'s admin to start swapping shifts with your colleagues.\n\t\t\t        </h5>'},m(e,n){w(e,t,n)},d(e){e&&E(t)}}}function eu(t){var n;return{c(){(n=k("h5")).textContent="Select a company at the top to view your shifts!",C(n,"class","svelte-13bphp3")},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&E(n)}}}function tu(e){var t,n=new hs({props:{heads:e.heads,bodies:e.bodies,handleClick:e.handleClickedShift}});return{c(){n.$$.fragment.c()},m(e,r){ye(n,e,r),t=!0},p(e,t){var r={};e.heads&&(r.heads=t.heads),e.bodies&&(r.bodies=t.bodies),e.handleClickedShift&&(r.handleClick=t.handleClickedShift),n.$set(r)},i(e){t||(ue(n.$$.fragment,e),t=!0)},o(e){le(n.$$.fragment,e),t=!1},d(e){ge(n,e)}}}function nu(t){var n;return{c(){(n=k("p")).textContent="No proposals for this shift!",C(n,"class","svelte-13bphp3")},m(e,t){w(e,n,t)},p:e,d(e){e&&E(n)}}}function ru(e){for(var t,n=e.proposedShiftConnections,r=[],o=0;o<n.length;o+=1)r[o]=au(Wc(e,n,o));return{c(){for(var e=0;e<r.length;e+=1)r[e].c();t=I()},m(e,n){for(var o=0;o<r.length;o+=1)r[o].m(e,n);w(e,t,n)},p(e,o){if(e.proposedShiftConnections||e.formatDate||e.Date||e.dateFormat){n=o.proposedShiftConnections;for(var i=0;i<n.length;i+=1){const a=Wc(o,n,i);r[i]?r[i].p(e,a):(r[i]=au(a),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){S(r,e),e&&E(t)}}}function ou(e){var t;return{c(){(t=k("li")).innerHTML='<p class="svelte-13bphp3">Accepted</p>',C(t,"class","list-group-item flex-fill")},m(e,n){w(e,t,n)},d(e){e&&E(t)}}}function iu(e){var t,n;function r(){return e.click_handler(e)}return{c(){(t=k("button")).textContent="Accept",C(t,"class","btn btn-primary"),n=N(t,"click",r)},m(e,n){w(e,t,n)},p(t,n){e=n},d(e){e&&E(t),n()}}}function au(e){var t,n,r,o,i,a,s,c,u,l,d,f=Ga(new e.Date(e.proposedShiftConnection.proposedShift.fromTime),cu),h=Ga(new e.Date(e.proposedShiftConnection.proposedShift.toTime),cu),p=e.proposedShiftConnection.proposedShift.postedBy.userprofile.firstName+" "+e.proposedShiftConnection.proposedShift.postedBy.userprofile.lastName;function v(e){return e.proposedShiftConnection.isAccepted?ou:iu}var m=v(e),y=m(e);return{c(){t=k("ul"),n=k("li"),r=_(f),o=O(),i=k("li"),a=_(h),s=O(),c=k("li"),u=_(p),l=O(),y.c(),d=O(),C(n,"class","list-group-item flex-fill"),C(i,"class","list-group-item flex-fill"),C(c,"class","list-group-item flex-fill"),C(t,"id","inner-list-group"),C(t,"class","list-group list-group-action list-group-horizontal\r\n              list-group-flush svelte-13bphp3")},m(e,f){w(e,t,f),b(t,n),b(n,r),b(t,o),b(t,i),b(i,a),b(t,s),b(t,c),b(c,u),b(t,l),y.m(t,null),b(t,d)},p(e,n){e.proposedShiftConnections&&f!==(f=Ga(new n.Date(n.proposedShiftConnection.proposedShift.fromTime),cu))&&D(r,f),e.proposedShiftConnections&&h!==(h=Ga(new n.Date(n.proposedShiftConnection.proposedShift.toTime),cu))&&D(a,h),e.proposedShiftConnections&&p!==(p=n.proposedShiftConnection.proposedShift.postedBy.userprofile.firstName+" "+n.proposedShiftConnection.proposedShift.postedBy.userprofile.lastName)&&D(u,p),m!==(m=v(n))&&(y.d(1),(y=m(n))&&(y.c(),y.m(t,d)))},d(e){e&&E(t),y.d()}}}function su(e){var t,n,r,o,i,a,s,c,u,l,d,f=e.$connections.length<1&&Kc(e),h=[tu,eu],p=[];function v(e){return e.$myShifts.length>0?0:1}function m(e){return e.proposedShiftConnections.length>0?ru:nu}o=v(e),i=p[o]=h[o](e);var y=m(e),g=y(e);return{c(){t=k("main"),f&&f.c(),n=O(),r=k("div"),i.c(),a=O(),s=k("div"),c=k("div"),g.c(),C(c,"class","popover__content svelte-13bphp3"),C(s,"id","popover__wrapper"),C(s,"class",u=(e.showing?"show":"hide")+" svelte-13bphp3"),C(r,"class","content svelte-13bphp3"),C(t,"class","svelte-13bphp3")},m(i,u){w(i,t,u),f&&f.m(t,null),b(t,n),b(t,r),p[o].m(r,null),b(r,a),b(r,s),b(s,c),g.m(c,null),e.div1_binding(s),e.div2_binding(r),d=!0},p(e,l){l.$connections.length<1?f?f.p(e,l):((f=Kc(l)).c(),f.m(t,n)):f&&(f.d(1),f=null);var b=o;(o=v(l))===b?p[o].p(e,l):(se(),le(p[b],1,1,()=>{p[b]=null}),ce(),(i=p[o])||(i=p[o]=h[o](l)).c(),ue(i,1),i.m(r,a)),y===(y=m(l))&&g?g.p(e,l):(g.d(1),(g=y(l))&&(g.c(),g.m(c,null))),d&&!e.showing||u===(u=(l.showing?"show":"hide")+" svelte-13bphp3")||C(s,"class",u)},i(e){d||(ue(i),l||Z(()=>{(l=de(t,$e,{duration:500})).start()}),d=!0)},o(e){le(i),d=!1},d(n){n&&E(t),f&&f.d(),p[o].d(),g.d(),e.div1_binding(null),e.div2_binding(null)}}}let cu="#{l}, #{F} #{j}, #{Y} at #{H}:#{i}";function uu(e,t,n){let r,o,i,a,s;c(e,Be,e=>{n("$shiftConnections",r=e)}),c(e,Pe,e=>{n("$user",o=e)}),c(e,Ge,e=>{n("$selectedCompany",i=e)}),c(e,Ve,e=>{n("$myShifts",a=e)}),c(e,Fe,e=>{n("$connections",s=e)});let u,l,d,f,h,p=[],v=!1,m=[];const y=En();async function g(e){try{await async function(e,t){await On(e,{mutation:fa,variables:{shiftConnectionId:t}})}(y,e).then(t=>{r.find(t=>t.id===e).isAccepted=!0})}catch(e){console.log(e)}n("showing",v=!1)}return B(async()=>{o.isCompany||i.id&&await Na(y,i.id)}),e.$$.update=((e={$myShifts:1,dateFormat:1,bodies:1})=>{(e.$myShifts||e.dateFormat||e.bodies)&&a.length>0&&(a.forEach(e=>{let t={id:e.id,From:Ga(new Date(e.fromTime),cu),To:Ga(new Date(e.toTime),cu),"Posted By":e.postedBy.userprofile.firstName+" "+e.postedBy.userprofile.lastName,Note:e.note};m.push(t)}),n("bodies",m),n("$myShifts",a),n("dateFormat",cu))}),{proposedShiftConnections:p,showing:v,popoverWrapper:f,content:h,heads:["From","To","Posted By","Note"],bodies:m,handleClickedShift:function(e,t){if(!0===v&&u.id===e.id)return n("showing",v=!1),u=null,f.style.display="none",void n("popoverWrapper",f);n("showing",v=!1),f.style.display="inline-block",n("popoverWrapper",f);let o=h.getBoundingClientRect(),i=t.getBoundingClientRect(),a=f.firstChild.getBoundingClientRect();l=i.width/2-a.width/2,d=i.top+i.height/3-o.height+window.scrollY,f.style.left=l+"px",n("popoverWrapper",f),f.style.top=d+"px",n("popoverWrapper",f),u=e,n("proposedShiftConnections",p=r.filter(e=>e.shift.id===u.id)),setTimeout(()=>{n("showing",v=!0)},1)},handleAcceptShiftProposal:g,$user:o,$myShifts:a,Date:Date,$connections:s,click_handler:function({proposedShiftConnection:e}){g(e.id)},div1_binding:function(e){Y[e?"unshift":"push"](()=>{n("popoverWrapper",f=e)})},div2_binding:function(e){Y[e?"unshift":"push"](()=>{n("content",h=e)})}}}function lu(t){var n,r;return{c(){(n=k("div")).innerHTML='<h1 class="svelte-ysidjt">404 Error: Page Not Found</h1>'},m(e,t){w(e,n,t)},p:e,i(e){r||Z(()=>{(r=de(n,$e,{duration:500})).start()})},o:e,d(e){e&&E(n)}}}const du={"/":class extends we{constructor(e){super(),be(this,e,null,ze,s,[])}},"/login":class extends we{constructor(e){super(),be(this,e,Ma,$a,s,[])}},"/signup":class extends we{constructor(e){super(),be(this,e,xa,Da,s,[])}},"/verifyaccount":class extends we{constructor(e){super(),be(this,e,qa,La,s,[])}},"/forgotpassword":class extends we{constructor(e){super(),be(this,e,null,Ra,s,[])}},"/recoveraccount":class extends we{constructor(e){super(),be(this,e,null,Aa,s,[])}},"/dashboard":class extends we{constructor(e){super(),be(this,e,Yc,Gc,s,[])}},"/confirminvitation/:id":class extends we{constructor(e){super(),be(this,e,zc,Hc,s,["params"])}},"/dashboard/invite":class extends we{constructor(e){super(),be(this,e,Qa,Pa,s,[])}},"/dashboard/invitations":class extends we{constructor(e){super(),be(this,e,os,rs,s,[])}},"/dashboard/shifts":class extends we{constructor(e){super(),be(this,e,Ms,xs,s,[])}},"/dashboard/postshift":class extends we{constructor(e){super(),be(this,e,Uc,Vc,s,[])}},"/dashboard/myshifts":class extends we{constructor(e){super(),be(this,e,uu,su,s,[])}},"*":class extends we{constructor(e){super(),be(this,e,null,lu,s,[])}}};function fu(e,t,n){const r=Object.create(e);return r.choice=t[n],r}function hu(e){var t,n;return{c(){(t=k("button")).innerHTML='<span class="navbar-toggler-icon svelte-1qzc5xb"></span>',C(t,"id","menu-toggler"),C(t,"class","btn bg-light svelte-1qzc5xb"),n=N(t,"click",e.toggleMenu)},m(e,n){w(e,t,n)},d(e){e&&E(t),n()}}}function pu(e){var t,n,r,o,i,a,s,c,u,l,d,f,h,p=!e.$user.isCompany&&vu(e);function v(e){return void 0!==e.$user.email?bu:gu}var m=v(e),y=m(e);return{c(){t=k("div"),n=k("ul"),p&&p.c(),r=O(),o=k("li"),i=k("a"),y.c(),a=O(),s=k("div"),(c=k("a")).textContent="Profile",u=O(),l=k("div"),d=O(),(f=k("a")).textContent="Logout",C(i,"class","nav-link dropdown-toggle"),C(i,"href","#/"),C(i,"id","navbarDropdown"),C(i,"role","button"),i.dataset.toggle="dropdown",C(i,"aria-haspopup","true"),C(i,"aria-expanded","false"),C(c,"class","dropdown-item"),C(c,"href","#/"),C(l,"class","dropdown-divider"),C(f,"class","dropdown-item"),C(f,"href","#/"),C(s,"class","dropdown-menu svelte-1qzc5xb"),C(s,"aria-labelledby","navbarDropdown"),C(o,"class","nav-item dropdown"),C(n,"class","navbar-nav ml-auto svelte-1qzc5xb"),C(t,"class","collapse navbar-collapse svelte-1qzc5xb"),C(t,"id","navbarSupportedContent"),h=N(f,"click",Eu)},m(e,h){w(e,t,h),b(t,n),p&&p.m(n,null),b(n,r),b(n,o),b(o,i),y.m(i,null),b(o,a),b(o,s),b(s,c),b(s,u),b(s,l),b(s,d),b(s,f)},p(e,t){t.$user.isCompany?p&&(p.d(1),p=null):p?p.p(e,t):((p=vu(t)).c(),p.m(n,r)),m===(m=v(t))&&y?y.p(e,t):(y.d(1),(y=m(t))&&(y.c(),y.m(i,null)))},d(e){e&&E(t),p&&p.d(),y.d(),h()}}}function vu(e){var t,n,r,o,a,s=e.$connections.length>0&&mu(e);return{c(){t=k("li"),n=k("div"),r=k("select"),(o=k("option")).textContent="Select Company\r\n                  ",s&&s.c(),o.__value="",o.value=o.__value,o.selected=!0,o.disabled=!0,o.hidden=!0,void 0===e.selectedUserConnection&&Z(()=>e.select_change_handler.call(r)),C(r,"id","company-selector"),C(r,"class","custom-select"),C(n,"class","input-group mb-3"),C(t,"class","nav-item"),a=[N(r,"change",e.select_change_handler),N(r,"change",e.assignSelectedCompany)]},m(i,a){w(i,t,a),b(t,n),b(n,r),b(r,o),s&&s.m(r,null),$(r,e.selectedUserConnection)},p(e,t){t.$connections.length>0?s?s.p(e,t):((s=mu(t)).c(),s.m(r,null)):s&&(s.d(1),s=null),e.selectedUserConnection&&$(r,t.selectedUserConnection)},d(e){e&&E(t),s&&s.d(),i(a)}}}function mu(e){for(var t,n=e.$connections,r=[],o=0;o<n.length;o+=1)r[o]=yu(fu(e,n,o));return{c(){for(var e=0;e<r.length;e+=1)r[e].c();t=I()},m(e,n){for(var o=0;o<r.length;o+=1)r[o].m(e,n);w(e,t,n)},p(e,o){if(e.$connections){n=o.$connections;for(var i=0;i<n.length;i+=1){const a=fu(o,n,i);r[i]?r[i].p(e,a):(r[i]=yu(a),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){S(r,e),e&&E(t)}}}function yu(e){var t,n,r,o,i=e.choice.company.userprofile.companyName;return{c(){t=k("option"),n=_(i),r=O(),t.__value=o=e.choice,t.value=t.__value},m(e,o){w(e,t,o),b(t,n),b(t,r)},p(e,r){e.$connections&&i!==(i=r.choice.company.userprofile.companyName)&&D(n,i),e.$connections&&o!==(o=r.choice)&&(t.__value=o),t.value=t.__value},d(e){e&&E(t)}}}function gu(t){var n;return{c(){n=_("Loading...")},m(e,t){w(e,n,t)},p:e,d(e){e&&E(n)}}}function bu(e){var t,n=e.$user.email;return{c(){t=_(n)},m(e,n){w(e,t,n)},p(e,r){e.$user&&n!==(n=r.$user.email)&&D(t,n)},d(e){e&&E(t)}}}function wu(t){var n,r,o,i,a,s,c,u=t.$isLoggedIn&&hu(t),l=t.$isLoggedIn&&pu(t);return{c(){n=k("main"),r=k("nav"),u&&u.c(),o=O(),(i=k("a")).textContent="SWAPBOARD",a=O(),(s=k("button")).innerHTML='<span class="navbar-toggler-icon svelte-1qzc5xb"></span>',c=O(),l&&l.c(),C(i,"class","navbar-brand svelte-1qzc5xb"),C(i,"href","#/"),C(s,"class","navbar-toggler svelte-1qzc5xb"),C(s,"type","button"),s.dataset.toggle="collapse",s.dataset.target="#navbarSupportedContent",C(s,"aria-controls","navbarSupportedContent"),C(s,"aria-expanded","false"),C(s,"aria-label","Toggle navigation"),C(r,"class","navbar fixed-top navbar-expand-sm navbar-light bg-light svelte-1qzc5xb")},m(e,t){w(e,n,t),b(n,r),u&&u.m(r,null),b(r,o),b(r,i),b(r,a),b(r,s),b(r,c),l&&l.m(r,null)},p(e,t){t.$isLoggedIn?u||((u=hu(t)).c(),u.m(r,o)):u&&(u.d(1),u=null),t.$isLoggedIn?l?l.p(e,t):((l=pu(t)).c(),l.m(r,null)):l&&(l.d(1),l=null)},i:e,o:e,d(e){e&&E(n),u&&u.d(),l&&l.d()}}}function Eu(){qe.set(""),Le.set(0),Ae.set(!1),Ue.set(!1),Re.set(!1),Pe.set({}),sessionStorage.setItem("startedTimeoutSession",JSON.stringify(!1)),localStorage.setItem("startedTimeout",JSON.stringify(!1)),localStorage.setItem("logout-event","logout"+Math.random())}function Su(e,t,n){let r,o,i,a,s;return c(e,Ue,e=>{n("$menuDisplayed",r=e)}),c(e,Re,e=>{n("$isLoggedIn",o=e)}),c(e,Pe,e=>{n("$user",i=e)}),c(e,Fe,e=>{n("$connections",a=e)}),{selectedUserConnection:s,toggleMenu:function(){Ue.set(!r)},assignSelectedCompany:function(){Ge.set(s.company)},$isLoggedIn:o,$user:i,$connections:a,select_change_handler:function(){s=M(this),n("selectedUserConnection",s)}}}class ku extends we{constructor(e){super(),be(this,e,Su,wu,s,[])}}var _u=Ou;function Ou(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ou.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Ou.prototype.reset=function(){this.attempts=0},Ou.prototype.setMin=function(e){this.ms=e},Ou.prototype.setMax=function(e){this.max=e},Ou.prototype.setJitter=function(e){this.jitter=e};var Iu=Tn(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,i||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,o,i,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,o),!0;case 5:return l.fn.call(l.context,t,r,o,i),!0;case 6:return l.fn.call(l.context,t,r,o,i,a),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var f,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,o);break;default:if(!c)for(f=1,c=new Array(d-1);f<d;f++)c[f-1]=arguments[f];l[u].fn.apply(l[u].context,c)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||a(this,i);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==t||o&&!s[c].once||r&&s[c].context!==r)&&u.push(s[c]);u.length?this._events[i]=1===u.length?u[0]:u:a(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}),Nu=Tn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e}});Nn(Nu);var Tu=Tn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null!==e&&"object"==typeof e}});Nn(Tu);var Cu=Object.freeze({getOperationAST:function(e,t){var n=null,r=!0,o=!1,i=void 0;try{for(var a,s=e.definitions[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;if(c.kind===Ko.OPERATION_DEFINITION)if(t){if(c.name&&c.name.value===t)return c}else{if(n)return null;n=c}}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}),Du=Tn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.GRAPHQL_WS="graphql-ws";t.GRAPHQL_SUBSCRIPTIONS="graphql-subscriptions"});Nn(Du);Du.GRAPHQL_WS,Du.GRAPHQL_SUBSCRIPTIONS;var xu=Tn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.WS_TIMEOUT=3e4});Nn(xu);xu.WS_TIMEOUT;var $u=Tn(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){throw new Error("Static Class")}return e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_CONNECTION_TERMINATE="connection_terminate",e.GQL_START="start",e.GQL_DATA="data",e.GQL_ERROR="error",e.GQL_COMPLETE="complete",e.GQL_STOP="stop",e.SUBSCRIPTION_START="subscription_start",e.SUBSCRIPTION_DATA="subscription_data",e.SUBSCRIPTION_SUCCESS="subscription_success",e.SUBSCRIPTION_FAIL="subscription_fail",e.SUBSCRIPTION_END="subscription_end",e.INIT="init",e.INIT_SUCCESS="init_success",e.INIT_FAIL="init_fail",e.KEEP_ALIVE="keepalive",e}();t.default=n});Nn($u);var Mu=Cn(ko),Ru=Cn(Cu),Au=Tn(function(e,t){var n=In&&In.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r=In&&In.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=In&&In.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=void 0!==In?In:"undefined"!=typeof window?window:{},a=i.WebSocket||i.MozWebSocket,s=function(){function e(e,t,n,r){var o=t||{},i=o.connectionCallback,s=void 0===i?void 0:i,c=o.connectionParams,u=void 0===c?{}:c,l=o.timeout,d=void 0===l?xu.WS_TIMEOUT:l,f=o.reconnect,h=void 0!==f&&f,p=o.reconnectionAttempts,v=void 0===p?1/0:p,m=o.lazy,y=void 0!==m&&m,g=o.inactivityTimeout,b=void 0===g?0:g;if(this.wsImpl=n||a,!this.wsImpl)throw new Error("Unable to find native implementation, or alternative implementation for WebSocket!");this.wsProtocols=r||Du.GRAPHQL_WS,this.connectionCallback=s,this.url=e,this.operations={},this.nextOperationId=0,this.wsTimeout=d,this.unsentMessagesQueue=[],this.reconnect=h,this.reconnecting=!1,this.reconnectionAttempts=v,this.lazy=!!y,this.inactivityTimeout=b,this.closedByUser=!1,this.backoff=new _u({jitter:.5}),this.eventEmitter=new Iu.EventEmitter,this.middlewares=[],this.client=null,this.maxConnectTimeGenerator=this.createMaxConnectTimeGenerator(),this.connectionParams=this.getConnectionParams(u),this.lazy||this.connect()}return Object.defineProperty(e.prototype,"status",{get:function(){return null===this.client?this.wsImpl.CLOSED:this.client.readyState},enumerable:!0,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this.clearInactivityTimeout(),null!==this.client&&(this.closedByUser=t,e&&(this.clearCheckConnectionInterval(),this.clearMaxConnectTimeout(),this.clearTryReconnectTimeout(),this.unsubscribeAll(),this.sendMessage(void 0,$u.default.GQL_CONNECTION_TERMINATE,null)),this.client.close(),this.client=null,this.eventEmitter.emit("disconnected"),e||this.tryReconnect())},e.prototype.request=function(e){var t,n,r=this.getObserver.bind(this),o=this.executeOperation.bind(this),i=this.unsubscribe.bind(this);return this.clearInactivityTimeout(),(t={})[Gn.default]=function(){return this},t.subscribe=function(t,a,s){var c=r(t,a,s);return n=o(e,function(e,t){null===e&&null===t?c.complete&&c.complete():e?c.error&&c.error(e[0]):c.next&&c.next(t)}),{unsubscribe:function(){n&&(i(n),n=null)}}},t},e.prototype.on=function(e,t,n){var r=this.eventEmitter.on(e,t,n);return function(){r.off(e,t,n)}},e.prototype.onConnected=function(e,t){return this.on("connected",e,t)},e.prototype.onConnecting=function(e,t){return this.on("connecting",e,t)},e.prototype.onDisconnected=function(e,t){return this.on("disconnected",e,t)},e.prototype.onReconnected=function(e,t){return this.on("reconnected",e,t)},e.prototype.onReconnecting=function(e,t){return this.on("reconnecting",e,t)},e.prototype.onError=function(e,t){return this.on("error",e,t)},e.prototype.unsubscribeAll=function(){var e=this;Object.keys(this.operations).forEach(function(t){e.unsubscribe(t)})},e.prototype.applyMiddlewares=function(e){var t=this;return new Promise(function(n,r){var o,i,a;o=t.middlewares.slice(),i=t,(a=function(t){if(t)r(t);else if(o.length>0){var s=o.shift();s&&s.applyMiddleware.apply(i,[e,a])}else n(e)})()})},e.prototype.use=function(e){var t=this;return e.map(function(e){if("function"!=typeof e.applyMiddleware)throw new Error("Middleware must implement the applyMiddleware function.");t.middlewares.push(e)}),this},e.prototype.getConnectionParams=function(e){return function(){return new Promise(function(t,n){if("function"==typeof e)try{return t(e.call(null))}catch(e){return n(e)}t(e)})}},e.prototype.executeOperation=function(e,t){var n=this;null===this.client&&this.connect();var r=this.generateOperationId();return this.operations[r]={options:e,handler:t},this.applyMiddlewares(e).then(function(e){n.checkOperationOptions(e,t),n.operations[r]&&(n.operations[r]={options:e,handler:t},n.sendMessage(r,$u.default.GQL_START,e))}).catch(function(e){n.unsubscribe(r),t(n.formatErrors(e))}),r},e.prototype.getObserver=function(e,t,n){return"function"==typeof e?{next:function(t){return e(t)},error:function(e){return t&&t(e)},complete:function(){return n&&n()}}:e},e.prototype.createMaxConnectTimeGenerator=function(){var e=this.wsTimeout;return new _u({min:1e3,max:e,factor:1.2})},e.prototype.clearCheckConnectionInterval=function(){this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnectionIntervalId=null)},e.prototype.clearMaxConnectTimeout=function(){this.maxConnectTimeoutId&&(clearTimeout(this.maxConnectTimeoutId),this.maxConnectTimeoutId=null)},e.prototype.clearTryReconnectTimeout=function(){this.tryReconnectTimeoutId&&(clearTimeout(this.tryReconnectTimeoutId),this.tryReconnectTimeoutId=null)},e.prototype.clearInactivityTimeout=function(){this.inactivityTimeoutId&&(clearTimeout(this.inactivityTimeoutId),this.inactivityTimeoutId=null)},e.prototype.setInactivityTimeout=function(){var e=this;this.inactivityTimeout>0&&0===Object.keys(this.operations).length&&(this.inactivityTimeoutId=setTimeout(function(){0===Object.keys(e.operations).length&&e.close()},this.inactivityTimeout))},e.prototype.checkOperationOptions=function(e,t){var n=e.query,r=e.variables,o=e.operationName;if(!n)throw new Error("Must provide a query.");if(!t)throw new Error("Must provide an handler.");if(!Nu.default(n)&&!Ru.getOperationAST(n,o)||o&&!Nu.default(o)||r&&!Tu.default(r))throw new Error("Incorrect option types. query must be a string or a document,`operationName` must be a string, and `variables` must be an object.")},e.prototype.buildMessage=function(e,t,r){return{id:e,type:t,payload:r&&r.query?n({},r,{query:"string"==typeof r.query?r.query:Mu.print(r.query)}):r}},e.prototype.formatErrors=function(e){return Array.isArray(e)?e:e&&e.errors?this.formatErrors(e.errors):e&&e.message?[e]:[{name:"FormatedError",message:"Unknown error",originalError:e}]},e.prototype.sendMessage=function(e,t,n){this.sendMessageRaw(this.buildMessage(e,t,n))},e.prototype.sendMessageRaw=function(e){switch(this.status){case this.wsImpl.OPEN:var t=JSON.stringify(e);try{JSON.parse(t)}catch(t){this.eventEmitter.emit("error",new Error("Message must be JSON-serializable. Got: "+e))}this.client.send(t);break;case this.wsImpl.CONNECTING:this.unsentMessagesQueue.push(e);break;default:this.reconnecting||this.eventEmitter.emit("error",new Error("A message was not sent because socket is not connected, is closing or is already closed. Message was: "+JSON.stringify(e)))}},e.prototype.generateOperationId=function(){return String(++this.nextOperationId)},e.prototype.tryReconnect=function(){var e=this;if(this.reconnect&&!(this.backoff.attempts>=this.reconnectionAttempts)){this.reconnecting||(Object.keys(this.operations).forEach(function(t){e.unsentMessagesQueue.push(e.buildMessage(t,$u.default.GQL_START,e.operations[t].options))}),this.reconnecting=!0),this.clearTryReconnectTimeout();var t=this.backoff.duration();this.tryReconnectTimeoutId=setTimeout(function(){e.connect()},t)}},e.prototype.flushUnsentMessagesQueue=function(){var e=this;this.unsentMessagesQueue.forEach(function(t){e.sendMessageRaw(t)}),this.unsentMessagesQueue=[]},e.prototype.checkConnection=function(){this.wasKeepAliveReceived?this.wasKeepAliveReceived=!1:this.reconnecting||this.close(!1,!0)},e.prototype.checkMaxConnectTimeout=function(){var e=this;this.clearMaxConnectTimeout(),this.maxConnectTimeoutId=setTimeout(function(){e.status!==e.wsImpl.OPEN&&(e.reconnecting=!0,e.close(!1,!0))},this.maxConnectTimeGenerator.duration())},e.prototype.connect=function(){var e=this;this.client=new this.wsImpl(this.url,this.wsProtocols),this.checkMaxConnectTimeout(),this.client.onopen=function(){return r(e,void 0,void 0,function(){var e,t;return o(this,function(n){switch(n.label){case 0:if(this.status!==this.wsImpl.OPEN)return[3,4];this.clearMaxConnectTimeout(),this.closedByUser=!1,this.eventEmitter.emit(this.reconnecting?"reconnecting":"connecting"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.connectionParams()];case 2:return e=n.sent(),this.sendMessage(void 0,$u.default.GQL_CONNECTION_INIT,e),this.flushUnsentMessagesQueue(),[3,4];case 3:return t=n.sent(),this.sendMessage(void 0,$u.default.GQL_CONNECTION_ERROR,t),this.flushUnsentMessagesQueue(),[3,4];case 4:return[2]}})})},this.client.onclose=function(){e.closedByUser||e.close(!1,!1)},this.client.onerror=function(t){e.eventEmitter.emit("error",t)},this.client.onmessage=function(t){var n=t.data;e.processReceivedData(n)}},e.prototype.processReceivedData=function(e){var t,r;try{r=(t=JSON.parse(e)).id}catch(t){throw new Error("Message must be JSON-parseable. Got: "+e)}if(-1===[$u.default.GQL_DATA,$u.default.GQL_COMPLETE,$u.default.GQL_ERROR].indexOf(t.type)||this.operations[r])switch(t.type){case $u.default.GQL_CONNECTION_ERROR:this.connectionCallback&&this.connectionCallback(t.payload);break;case $u.default.GQL_CONNECTION_ACK:this.eventEmitter.emit(this.reconnecting?"reconnected":"connected"),this.reconnecting=!1,this.backoff.reset(),this.maxConnectTimeGenerator.reset(),this.connectionCallback&&this.connectionCallback();break;case $u.default.GQL_COMPLETE:this.operations[r].handler(null,null),delete this.operations[r];break;case $u.default.GQL_ERROR:this.operations[r].handler(this.formatErrors(t.payload),null),delete this.operations[r];break;case $u.default.GQL_DATA:var o=t.payload.errors?n({},t.payload,{errors:this.formatErrors(t.payload.errors)}):t.payload;this.operations[r].handler(null,o);break;case $u.default.GQL_CONNECTION_KEEP_ALIVE:var i=void 0===this.wasKeepAliveReceived;this.wasKeepAliveReceived=!0,i&&this.checkConnection(),this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnection()),this.checkConnectionIntervalId=setInterval(this.checkConnection.bind(this),this.wsTimeout);break;default:throw new Error("Invalid message type!")}else this.unsubscribe(r)},e.prototype.unsubscribe=function(e){this.operations[e]&&(delete this.operations[e],this.setInactivityTimeout(),this.sendMessage(e,$u.default.GQL_STOP,void 0))},e}();t.SubscriptionClient=s});Nn(Au);var Lu=Au.SubscriptionClient,qu=function(e){function t(t){var n=e.call(this)||this;return n.subscriptionClient=t instanceof Lu?t:new Lu(t.uri,t.options,t.webSocketImpl),n}return ct(t,e),t.prototype.request=function(e){return this.subscriptionClient.request(e)},t}(Vn);function Pu(e,t){const n=localStorage.getItem(t);n&&e.set(JSON.parse(n));e.subscribe(e=>{localStorage.setItem(t,JSON.stringify(e))})}function Qu(e){var t;return{c(){(t=k("li")).innerHTML='<a href="#/dashboard/postshift" class="svelte-1iijn7s">Post Shift</a>',C(t,"class","svelte-1iijn7s")},m(e,n){w(e,t,n)},d(e){e&&E(t)}}}function Fu(e){var t;return{c(){(t=k("li")).innerHTML='<a href="#/dashboard/myshifts" class="svelte-1iijn7s">My Shift</a>',C(t,"class","svelte-1iijn7s")},m(e,n){w(e,t,n)},d(e){e&&E(t)}}}function ju(e){var t;return{c(){(t=k("a")).textContent="Invitations",C(t,"href","#/dashboard/invitations"),C(t,"class","svelte-1iijn7s")},m(e,n){w(e,t,n)},d(e){e&&E(t)}}}function Vu(e){var t;return{c(){(t=k("a")).textContent="Invite",C(t,"href","#/dashboard/invite"),C(t,"class","svelte-1iijn7s")},m(e,n){w(e,t,n)},d(e){e&&E(t)}}}function Bu(e){var t,n,r,o,i,a,s,c,u,l,d,f,h,p,v,m=new ku({}),y=!e.$user.isCompany&&Qu(),g=!e.$user.isCompany&&Fu();function S(e){return e.$user.isCompany?Vu:ju}var _=S(e),I=_(e),N=new ka({}),T=new De({props:{routes:du}});return{c(){t=k("main"),m.$$.fragment.c(),n=O(),r=k("div"),o=k("div"),i=k("ul"),y&&y.c(),a=O(),(s=k("li")).innerHTML='<a href="#/dashboard/shifts" class="svelte-1iijn7s">Shift</a>',c=O(),g&&g.c(),u=O(),l=k("li"),I.c(),d=O(),f=k("div"),N.$$.fragment.c(),h=O(),T.$$.fragment.c(),C(s,"class","svelte-1iijn7s"),C(l,"class","svelte-1iijn7s"),C(i,"class","sidebar-nav svelte-1iijn7s"),C(o,"id","sidebar-wrapper"),C(o,"class"," svelte-1iijn7s"),C(f,"id","page-content-wrapper"),C(f,"class","svelte-1iijn7s"),C(r,"id","wrapper"),C(r,"class",p=(e.$menuDisplayed?"menuDisplayed":"")+" svelte-1iijn7s")},m(e,p){w(e,t,p),ye(m,t,null),b(t,n),b(t,r),b(r,o),b(o,i),y&&y.m(i,null),b(i,a),b(i,s),b(i,c),g&&g.m(i,null),b(i,u),b(i,l),I.m(l,null),b(r,d),b(r,f),ye(N,f,null),b(f,h),ye(T,f,null),v=!0},p(e,t){t.$user.isCompany?y&&(y.d(1),y=null):y||((y=Qu()).c(),y.m(i,a)),t.$user.isCompany?g&&(g.d(1),g=null):g||((g=Fu()).c(),g.m(i,u)),_!==(_=S(t))&&(I.d(1),(I=_(t))&&(I.c(),I.m(l,null)));var n={};e.routes&&(n.routes=du),T.$set(n),v&&!e.$menuDisplayed||p===(p=(t.$menuDisplayed?"menuDisplayed":"")+" svelte-1iijn7s")||C(r,"class",p)},i(e){v||(ue(m.$$.fragment,e),ue(N.$$.fragment,e),ue(T.$$.fragment,e),v=!0)},o(e){le(m.$$.fragment,e),le(N.$$.fragment,e),le(T.$$.fragment,e),v=!1},d(e){e&&E(t),ge(m),y&&y.d(),g&&g.d(),I.d(),ge(N),ge(T)}}}function Uu(e,t,n){let r,o,i,a,s,u,l;c(e,Re,e=>{n("$isLoggedIn",r=e)}),c(e,Pe,e=>{n("$user",o=e)}),c(e,Ae,e=>{n("$keepMeLoggedIn",i=e)}),c(e,Ge,e=>{n("$selectedCompany",a=e)}),c(e,Ve,e=>{n("$myShifts",s=e)}),c(e,je,e=>{n("$shifts",u=e)}),c(e,Ue,e=>{n("$menuDisplayed",l=e)});let d="";const f=(window.location.protocol.includes("https")?"https":"http")+"://"+window.location.host+"/graphql",h=(window.location.protocol.includes("https")?"wss":"ws")+"://"+window.location.host+"/graphql",p=new To({uri:f}),v=Fn(({query:e})=>{const{kind:t,operation:n}=Yt(e);return"OperationDefinition"===t&&"subscription"===n},new qu({uri:h,options:{reconnect:!0}}),p),m=new dr({link:v,cache:new uo});async function y(){Te("/dashboard"),Ue.set(!0),await Oa(m),await async function(e){let t=_n(e,{query:na});try{await t.refetch().then(e=>{Pe.set(e.data.me)})}catch(e){console.log(e),Re.set(!1)}}(m),await async function(e){let t=_n(e,{query:sa});try{await t.refetch().then(e=>{Fe.set(e.data.connections)})}catch(e){console.log(e),Re.set(!1)}}(m),o.isCompany&&(d=o.id,g())}async function g(){d&&(await async function(e,t){const n=_n(e,{query:ca,variables:{companyId:t}});try{console.log("Fetching Shifts"),await n.refetch().then(e=>{je.set(e.data.shifts)})}catch(e){console.log(e)}}(m,d),s=u.filter(e=>e.postedBy.id===o.id),Ve.set(s),await Na(m,d))}return Sn(m),function(e,t){const n=sessionStorage.getItem(t);n&&e.set(JSON.parse(n)),e.subscribe(e=>{sessionStorage.setItem(t,JSON.stringify(e))})}(Re,"isLoggedIn"),Pu(Ae,"keepMeLoggedIn"),Pu(qe,"refreshToken"),Pu(Le,"lastLoggedIn"),window.addEventListener("storage",function(e){"login-event"===e.key?r||setTimeout(()=>{Re.set(!0)},500*Math.random()+500):"logout-event"===e.key?(Re.set(!1),sessionStorage.setItem("startedTimeoutSession",JSON.stringify(!1))):"start-timeout-event"===e.key?setTimeout(()=>{Oa(m)},5e3*Math.random()+5e3):"new-tab-event"===e.key&&r&&localStorage.setItem("login-event","login"+Math.random())}),window.addEventListener("beforeunload",function(e){null!==sessionStorage.getItem("startedTimeoutSession")&&!0===JSON.parse(sessionStorage.getItem("startedTimeoutSession"))&&(sessionStorage.setItem("startedTimeoutSession",JSON.stringify(!1)),localStorage.setItem("startedTimeout",JSON.stringify(!1)),localStorage.setItem("start-timeout-event","timeout"+Math.random()))}),B(async()=>{if(!r)return i?(console.log("Keep Me Logged In is True"),void Re.set(!0)):void localStorage.setItem("new-tab-event","newTab"+Math.random());console.log("Already Logged In")}),e.$$.update=((e={$isLoggedIn:1,$selectedCompany:1})=>{e.$isLoggedIn&&(!1===r?async function(){Ue.set(!1),Ia(),Te("/login"),console.log("loggedOut, pushing to /login")}():y()),e.$selectedCompany&&a&&(d=a.id,g())}),window.screen.availWidth<640&&Ue.set(!1),{$user:o,$menuDisplayed:l}}return new class extends we{constructor(e){super(),be(this,e,Uu,Bu,s,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
